const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/learning-B75mFfni.js","assets/learning-DemxyAXP.css"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function e(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=e(o);fetch(o.href,u)}})();var qm={exports:{}},Yl={};var j0;function FS(){if(j0)return Yl;j0=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(s,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:c,ref:o!==void 0?o:null,props:u}}return Yl.Fragment=t,Yl.jsx=e,Yl.jsxs=e,Yl}var B0;function GS(){return B0||(B0=1,qm.exports=FS()),qm.exports}var k=GS(),Hm={exports:{}},Nt={};var q0;function YS(){if(q0)return Nt;q0=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),w=Symbol.iterator;function S(M){return M===null||typeof M!="object"?null:(M=w&&M[w]||M["@@iterator"],typeof M=="function"?M:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,x={};function z(M,$,lt){this.props=M,this.context=$,this.refs=x,this.updater=lt||D}z.prototype.isReactComponent={},z.prototype.setState=function(M,$){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,$,"setState")},z.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function J(){}J.prototype=z.prototype;function K(M,$,lt){this.props=M,this.context=$,this.refs=x,this.updater=lt||D}var q=K.prototype=new J;q.constructor=K,O(q,z.prototype),q.isPureReactComponent=!0;var ut=Array.isArray;function ht(){}var I={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function C(M,$,lt){var ct=lt.ref;return{$$typeof:i,type:M,key:$,ref:ct!==void 0?ct:null,props:lt}}function L(M,$){return C(M.type,$,M.props)}function V(M){return typeof M=="object"&&M!==null&&M.$$typeof===i}function B(M){var $={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(lt){return $[lt]})}var N=/\/+/g;function G(M,$){return typeof M=="object"&&M!==null&&M.key!=null?B(""+M.key):$.toString(36)}function mt(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(ht,ht):(M.status="pending",M.then(function($){M.status==="pending"&&(M.status="fulfilled",M.value=$)},function($){M.status==="pending"&&(M.status="rejected",M.reason=$)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function P(M,$,lt,ct,vt){var Tt=typeof M;(Tt==="undefined"||Tt==="boolean")&&(M=null);var Rt=!1;if(M===null)Rt=!0;else switch(Tt){case"bigint":case"string":case"number":Rt=!0;break;case"object":switch(M.$$typeof){case i:case t:Rt=!0;break;case _:return Rt=M._init,P(Rt(M._payload),$,lt,ct,vt)}}if(Rt)return vt=vt(M),Rt=ct===""?"."+G(M,0):ct,ut(vt)?(lt="",Rt!=null&&(lt=Rt.replace(N,"$&/")+"/"),P(vt,$,lt,"",function(Ki){return Ki})):vt!=null&&(V(vt)&&(vt=L(vt,lt+(vt.key==null||M&&M.key===vt.key?"":(""+vt.key).replace(N,"$&/")+"/")+Rt)),$.push(vt)),1;Rt=0;var Gt=ct===""?".":ct+":";if(ut(M))for(var Xt=0;Xt<M.length;Xt++)ct=M[Xt],Tt=Gt+G(ct,Xt),Rt+=P(ct,$,lt,Tt,vt);else if(Xt=S(M),typeof Xt=="function")for(M=Xt.call(M),Xt=0;!(ct=M.next()).done;)ct=ct.value,Tt=Gt+G(ct,Xt++),Rt+=P(ct,$,lt,Tt,vt);else if(Tt==="object"){if(typeof M.then=="function")return P(mt(M),$,lt,ct,vt);throw $=String(M),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return Rt}function H(M,$,lt){if(M==null)return M;var ct=[],vt=0;return P(M,ct,"","",function(Tt){return $.call(lt,Tt,vt++)}),ct}function it(M){if(M._status===-1){var $=M._result;$=$(),$.then(function(lt){(M._status===0||M._status===-1)&&(M._status=1,M._result=lt)},function(lt){(M._status===0||M._status===-1)&&(M._status=2,M._result=lt)}),M._status===-1&&(M._status=0,M._result=$)}if(M._status===1)return M._result.default;throw M._result}var ft=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},at={map:H,forEach:function(M,$,lt){H(M,function(){$.apply(this,arguments)},lt)},count:function(M){var $=0;return H(M,function(){$++}),$},toArray:function(M){return H(M,function($){return $})||[]},only:function(M){if(!V(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Nt.Activity=T,Nt.Children=at,Nt.Component=z,Nt.Fragment=e,Nt.Profiler=o,Nt.PureComponent=K,Nt.StrictMode=s,Nt.Suspense=p,Nt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Nt.__COMPILER_RUNTIME={__proto__:null,c:function(M){return I.H.useMemoCache(M)}},Nt.cache=function(M){return function(){return M.apply(null,arguments)}},Nt.cacheSignal=function(){return null},Nt.cloneElement=function(M,$,lt){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ct=O({},M.props),vt=M.key;if($!=null)for(Tt in $.key!==void 0&&(vt=""+$.key),$)!R.call($,Tt)||Tt==="key"||Tt==="__self"||Tt==="__source"||Tt==="ref"&&$.ref===void 0||(ct[Tt]=$[Tt]);var Tt=arguments.length-2;if(Tt===1)ct.children=lt;else if(1<Tt){for(var Rt=Array(Tt),Gt=0;Gt<Tt;Gt++)Rt[Gt]=arguments[Gt+2];ct.children=Rt}return C(M.type,vt,ct)},Nt.createContext=function(M){return M={$$typeof:c,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},Nt.createElement=function(M,$,lt){var ct,vt={},Tt=null;if($!=null)for(ct in $.key!==void 0&&(Tt=""+$.key),$)R.call($,ct)&&ct!=="key"&&ct!=="__self"&&ct!=="__source"&&(vt[ct]=$[ct]);var Rt=arguments.length-2;if(Rt===1)vt.children=lt;else if(1<Rt){for(var Gt=Array(Rt),Xt=0;Xt<Rt;Xt++)Gt[Xt]=arguments[Xt+2];vt.children=Gt}if(M&&M.defaultProps)for(ct in Rt=M.defaultProps,Rt)vt[ct]===void 0&&(vt[ct]=Rt[ct]);return C(M,Tt,vt)},Nt.createRef=function(){return{current:null}},Nt.forwardRef=function(M){return{$$typeof:d,render:M}},Nt.isValidElement=V,Nt.lazy=function(M){return{$$typeof:_,_payload:{_status:-1,_result:M},_init:it}},Nt.memo=function(M,$){return{$$typeof:g,type:M,compare:$===void 0?null:$}},Nt.startTransition=function(M){var $=I.T,lt={};I.T=lt;try{var ct=M(),vt=I.S;vt!==null&&vt(lt,ct),typeof ct=="object"&&ct!==null&&typeof ct.then=="function"&&ct.then(ht,ft)}catch(Tt){ft(Tt)}finally{$!==null&&lt.types!==null&&($.types=lt.types),I.T=$}},Nt.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Nt.use=function(M){return I.H.use(M)},Nt.useActionState=function(M,$,lt){return I.H.useActionState(M,$,lt)},Nt.useCallback=function(M,$){return I.H.useCallback(M,$)},Nt.useContext=function(M){return I.H.useContext(M)},Nt.useDebugValue=function(){},Nt.useDeferredValue=function(M,$){return I.H.useDeferredValue(M,$)},Nt.useEffect=function(M,$){return I.H.useEffect(M,$)},Nt.useEffectEvent=function(M){return I.H.useEffectEvent(M)},Nt.useId=function(){return I.H.useId()},Nt.useImperativeHandle=function(M,$,lt){return I.H.useImperativeHandle(M,$,lt)},Nt.useInsertionEffect=function(M,$){return I.H.useInsertionEffect(M,$)},Nt.useLayoutEffect=function(M,$){return I.H.useLayoutEffect(M,$)},Nt.useMemo=function(M,$){return I.H.useMemo(M,$)},Nt.useOptimistic=function(M,$){return I.H.useOptimistic(M,$)},Nt.useReducer=function(M,$,lt){return I.H.useReducer(M,$,lt)},Nt.useRef=function(M){return I.H.useRef(M)},Nt.useState=function(M){return I.H.useState(M)},Nt.useSyncExternalStore=function(M,$,lt){return I.H.useSyncExternalStore(M,$,lt)},Nt.useTransition=function(){return I.H.useTransition()},Nt.version="19.2.3",Nt}var H0;function Jg(){return H0||(H0=1,Hm.exports=YS()),Hm.exports}var gt=Jg(),Fm={exports:{}},Ql={},Gm={exports:{}},Ym={};var F0;function QS(){return F0||(F0=1,(function(i){function t(P,H){var it=P.length;P.push(H);t:for(;0<it;){var ft=it-1>>>1,at=P[ft];if(0<o(at,H))P[ft]=H,P[it]=at,it=ft;else break t}}function e(P){return P.length===0?null:P[0]}function s(P){if(P.length===0)return null;var H=P[0],it=P.pop();if(it!==H){P[0]=it;t:for(var ft=0,at=P.length,M=at>>>1;ft<M;){var $=2*(ft+1)-1,lt=P[$],ct=$+1,vt=P[ct];if(0>o(lt,it))ct<at&&0>o(vt,lt)?(P[ft]=vt,P[ct]=it,ft=ct):(P[ft]=lt,P[$]=it,ft=$);else if(ct<at&&0>o(vt,it))P[ft]=vt,P[ct]=it,ft=ct;else break t}}return H}function o(P,H){var it=P.sortIndex-H.sortIndex;return it!==0?it:P.id-H.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var c=Date,d=c.now();i.unstable_now=function(){return c.now()-d}}var p=[],g=[],_=1,T=null,w=3,S=!1,D=!1,O=!1,x=!1,z=typeof setTimeout=="function"?setTimeout:null,J=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function q(P){for(var H=e(g);H!==null;){if(H.callback===null)s(g);else if(H.startTime<=P)s(g),H.sortIndex=H.expirationTime,t(p,H);else break;H=e(g)}}function ut(P){if(O=!1,q(P),!D)if(e(p)!==null)D=!0,ht||(ht=!0,B());else{var H=e(g);H!==null&&mt(ut,H.startTime-P)}}var ht=!1,I=-1,R=5,C=-1;function L(){return x?!0:!(i.unstable_now()-C<R)}function V(){if(x=!1,ht){var P=i.unstable_now();C=P;var H=!0;try{t:{D=!1,O&&(O=!1,J(I),I=-1),S=!0;var it=w;try{e:{for(q(P),T=e(p);T!==null&&!(T.expirationTime>P&&L());){var ft=T.callback;if(typeof ft=="function"){T.callback=null,w=T.priorityLevel;var at=ft(T.expirationTime<=P);if(P=i.unstable_now(),typeof at=="function"){T.callback=at,q(P),H=!0;break e}T===e(p)&&s(p),q(P)}else s(p);T=e(p)}if(T!==null)H=!0;else{var M=e(g);M!==null&&mt(ut,M.startTime-P),H=!1}}break t}finally{T=null,w=it,S=!1}H=void 0}}finally{H?B():ht=!1}}}var B;if(typeof K=="function")B=function(){K(V)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,G=N.port2;N.port1.onmessage=V,B=function(){G.postMessage(null)}}else B=function(){z(V,0)};function mt(P,H){I=z(function(){P(i.unstable_now())},H)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(P){P.callback=null},i.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<P?Math.floor(1e3/P):5},i.unstable_getCurrentPriorityLevel=function(){return w},i.unstable_next=function(P){switch(w){case 1:case 2:case 3:var H=3;break;default:H=w}var it=w;w=H;try{return P()}finally{w=it}},i.unstable_requestPaint=function(){x=!0},i.unstable_runWithPriority=function(P,H){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var it=w;w=P;try{return H()}finally{w=it}},i.unstable_scheduleCallback=function(P,H,it){var ft=i.unstable_now();switch(typeof it=="object"&&it!==null?(it=it.delay,it=typeof it=="number"&&0<it?ft+it:ft):it=ft,P){case 1:var at=-1;break;case 2:at=250;break;case 5:at=1073741823;break;case 4:at=1e4;break;default:at=5e3}return at=it+at,P={id:_++,callback:H,priorityLevel:P,startTime:it,expirationTime:at,sortIndex:-1},it>ft?(P.sortIndex=it,t(g,P),e(p)===null&&P===e(g)&&(O?(J(I),I=-1):O=!0,mt(ut,it-ft))):(P.sortIndex=at,t(p,P),D||S||(D=!0,ht||(ht=!0,B()))),P},i.unstable_shouldYield=L,i.unstable_wrapCallback=function(P){var H=w;return function(){var it=w;w=H;try{return P.apply(this,arguments)}finally{w=it}}}})(Ym)),Ym}var G0;function XS(){return G0||(G0=1,Gm.exports=QS()),Gm.exports}var Qm={exports:{}},$e={};var Y0;function KS(){if(Y0)return $e;Y0=1;var i=Jg();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var s={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,_){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:_}}var c=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return $e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,$e.createPortal=function(p,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,_)},$e.flushSync=function(p){var g=c.T,_=s.p;try{if(c.T=null,s.p=2,p)return p()}finally{c.T=g,s.p=_,s.d.f()}},$e.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},$e.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},$e.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var _=g.as,T=d(_,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,S=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:w,fetchPriority:S}):_==="script"&&s.d.X(p,{crossOrigin:T,integrity:w,fetchPriority:S,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},$e.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=d(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},$e.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,T=d(_,g.crossOrigin);s.d.L(p,_,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},$e.preloadModule=function(p,g){if(typeof p=="string")if(g){var _=d(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},$e.requestFormReset=function(p){s.d.r(p)},$e.unstable_batchedUpdates=function(p,g){return p(g)},$e.useFormState=function(p,g,_){return c.H.useFormState(p,g,_)},$e.useFormStatus=function(){return c.H.useHostTransitionStatus()},$e.version="19.2.3",$e}var Q0;function $S(){if(Q0)return Qm.exports;Q0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Qm.exports=KS(),Qm.exports}var X0;function ZS(){if(X0)return Ql;X0=1;var i=XS(),t=Jg(),e=$S();function s(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var r=n,a=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(a=r.return),n=r.return;while(n)}return r.tag===3?a:null}function c(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function d(n){if(n.tag===31){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function p(n){if(u(n)!==n)throw Error(s(188))}function g(n){var r=n.alternate;if(!r){if(r=u(n),r===null)throw Error(s(188));return r!==n?null:n}for(var a=n,l=r;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return p(f),n;if(m===l)return p(f),r;m=m.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=m;else{for(var v=!1,A=f.child;A;){if(A===a){v=!0,a=f,l=m;break}if(A===l){v=!0,l=f,a=m;break}A=A.sibling}if(!v){for(A=m.child;A;){if(A===a){v=!0,a=m,l=f;break}if(A===l){v=!0,l=m,a=f;break}A=A.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:r}function _(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=_(n),r!==null)return r;n=n.sibling}return null}var T=Object.assign,w=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),J=Symbol.for("react.consumer"),K=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),ut=Symbol.for("react.suspense"),ht=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function B(n){return n===null||typeof n!="object"?null:(n=V&&n[V]||n["@@iterator"],typeof n=="function"?n:null)}var N=Symbol.for("react.client.reference");function G(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===N?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case O:return"Fragment";case z:return"Profiler";case x:return"StrictMode";case ut:return"Suspense";case ht:return"SuspenseList";case C:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case D:return"Portal";case K:return n.displayName||"Context";case J:return(n._context.displayName||"Context")+".Consumer";case q:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case I:return r=n.displayName||null,r!==null?r:G(n.type)||"Memo";case R:r=n._payload,n=n._init;try{return G(n(r))}catch{}}return null}var mt=Array.isArray,P=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it={pending:!1,data:null,method:null,action:null},ft=[],at=-1;function M(n){return{current:n}}function $(n){0>at||(n.current=ft[at],ft[at]=null,at--)}function lt(n,r){at++,ft[at]=n.current,n.current=r}var ct=M(null),vt=M(null),Tt=M(null),Rt=M(null);function Gt(n,r){switch(lt(Tt,r),lt(vt,n),lt(ct,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?u0(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=u0(r),n=c0(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}$(ct),lt(ct,n)}function Xt(){$(ct),$(vt),$(Tt)}function Ki(n){n.memoizedState!==null&&lt(Rt,n);var r=ct.current,a=c0(r,n.type);r!==a&&(lt(vt,n),lt(ct,a))}function ci(n){vt.current===n&&($(ct),$(vt)),Rt.current===n&&($(Rt),ql._currentValue=it)}var Ra,Ia;function hi(n){if(Ra===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Ra=r&&r[1]||"",Ia=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ra+n+Ia}var qo=!1;function Ns(n,r){if(!n||qo)return"";qo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var st=function(){throw Error()};if(Object.defineProperty(st.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(st,[])}catch(tt){var Z=tt}Reflect.construct(n,[],st)}else{try{st.call()}catch(tt){Z=tt}n.call(st.prototype)}}else{try{throw Error()}catch(tt){Z=tt}(st=n())&&typeof st.catch=="function"&&st.catch(function(){})}}catch(tt){if(tt&&Z&&typeof tt.stack=="string")return[tt.stack,Z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),v=m[0],A=m[1];if(v&&A){var U=v.split(`
`),X=A.split(`
`);for(f=l=0;l<U.length&&!U[l].includes("DetermineComponentFrameRoot");)l++;for(;f<X.length&&!X[f].includes("DetermineComponentFrameRoot");)f++;if(l===U.length||f===X.length)for(l=U.length-1,f=X.length-1;1<=l&&0<=f&&U[l]!==X[f];)f--;for(;1<=l&&0<=f;l--,f--)if(U[l]!==X[f]){if(l!==1||f!==1)do if(l--,f--,0>f||U[l]!==X[f]){var et=`
`+U[l].replace(" at new "," at ");return n.displayName&&et.includes("<anonymous>")&&(et=et.replace("<anonymous>",n.displayName)),et}while(1<=l&&0<=f);break}}}finally{qo=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?hi(a):""}function Ho(n,r){switch(n.tag){case 26:case 27:case 5:return hi(n.type);case 16:return hi("Lazy");case 13:return n.child!==r&&r!==null?hi("Suspense Fallback"):hi("Suspense");case 19:return hi("SuspenseList");case 0:case 15:return Ns(n.type,!1);case 11:return Ns(n.type.render,!1);case 1:return Ns(n.type,!0);case 31:return hi("Activity");default:return""}}function Fo(n){try{var r="",a=null;do r+=Ho(n,a),a=n,n=n.return;while(n);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Ee=Object.prototype.hasOwnProperty,Ve=i.unstable_scheduleCallback,Nr=i.unstable_cancelCallback,Ff=i.unstable_shouldYield,Pu=i.unstable_requestPaint,en=i.unstable_now,xs=i.unstable_getCurrentPriorityLevel,Go=i.unstable_ImmediatePriority,Yo=i.unstable_UserBlockingPriority,xr=i.unstable_NormalPriority,Gf=i.unstable_LowPriority,zu=i.unstable_IdlePriority,ju=i.log,Bu=i.unstable_setDisableYieldValue,Gn=null,Be=null;function Nn(n){if(typeof ju=="function"&&Bu(n),Be&&typeof Be.setStrictMode=="function")try{Be.setStrictMode(Gn,n)}catch{}}var ge=Math.clz32?Math.clz32:Hu,qu=Math.log,Ca=Math.LN2;function Hu(n){return n>>>=0,n===0?32:31-(qu(n)/Ca|0)|0}var fi=256,Ds=262144,Te=4194304;function di(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function mi(n,r,a){var l=n.pendingLanes;if(l===0)return 0;var f=0,m=n.suspendedLanes,v=n.pingedLanes;n=n.warmLanes;var A=l&134217727;return A!==0?(l=A&~m,l!==0?f=di(l):(v&=A,v!==0?f=di(v):a||(a=A&~n,a!==0&&(f=di(a))))):(A=l&~m,A!==0?f=di(A):v!==0?f=di(v):a||(a=l&~n,a!==0&&(f=di(a)))),f===0?0:r!==0&&r!==f&&(r&m)===0&&(m=f&-f,a=r&-r,m>=a||m===32&&(a&4194048)!==0)?r:f}function Yn(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function Yf(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fu(){var n=Te;return Te<<=1,(Te&62914560)===0&&(Te=4194304),n}function gi(n){for(var r=[],a=0;31>a;a++)r.push(n);return r}function Os(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Qf(n,r,a,l,f,m){var v=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var A=n.entanglements,U=n.expirationTimes,X=n.hiddenUpdates;for(a=v&~a;0<a;){var et=31-ge(a),st=1<<et;A[et]=0,U[et]=-1;var Z=X[et];if(Z!==null)for(X[et]=null,et=0;et<Z.length;et++){var tt=Z[et];tt!==null&&(tt.lane&=-536870913)}a&=~st}l!==0&&Ms(n,l,0),m!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=m&~(v&~r))}function Ms(n,r,a){n.pendingLanes|=r,n.suspendedLanes&=~r;var l=31-ge(r);n.entangledLanes|=r,n.entanglements[l]=n.entanglements[l]|1073741824|a&261930}function Qo(n,r){var a=n.entangledLanes|=r;for(n=n.entanglements;a;){var l=31-ge(a),f=1<<l;f&r|n[l]&r&&(n[l]|=r),a&=~f}}function Xo(n,r){var a=r&-r;return a=(a&42)!==0?1:Vs(a),(a&(n.suspendedLanes|r))!==0?0:a}function Vs(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function $i(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Gu(){var n=H.p;return n!==0?n:(n=window.event,n===void 0?32:M0(n.type))}function Qn(n,r){var a=H.p;try{return H.p=n,r()}finally{H.p=a}}var Xn=Math.random().toString(36).slice(2),we="__reactFiber$"+Xn,Le="__reactProps$"+Xn,pi="__reactContainer$"+Xn,Na="__reactEvents$"+Xn,Xf="__reactListeners$"+Xn,Yu="__reactHandles$"+Xn,Qu="__reactResources$"+Xn,yi="__reactMarker$"+Xn;function xa(n){delete n[we],delete n[Le],delete n[Na],delete n[Xf],delete n[Yu]}function _i(n){var r=n[we];if(r)return r;for(var a=n.parentNode;a;){if(r=a[pi]||a[we]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(n=y0(n);n!==null;){if(a=n[we])return a;n=y0(n)}return r}n=a,a=n.parentNode}return null}function xn(n){if(n=n[we]||n[pi]){var r=n.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return n}return null}function vn(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(s(33))}function vi(n){var r=n[Qu];return r||(r=n[Qu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ae(n){n[yi]=!0}var Ko=new Set,$o={};function Ei(n,r){Ti(n,r),Ti(n+"Capture",r)}function Ti(n,r){for($o[n]=r,n=0;n<r.length;n++)Ko.add(r[n])}var Zo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Jo={},Wo={};function Xu(n){return Ee.call(Wo,n)?!0:Ee.call(Jo,n)?!1:Zo.test(n)?Wo[n]=!0:(Jo[n]=!0,!1)}function Da(n,r,a){if(Xu(r))if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+a)}}function En(n,r,a){if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+a)}}function be(n,r,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(r,a,""+l)}}function Pe(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Dr(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function tl(n,r,a){var l=Object.getOwnPropertyDescriptor(n.constructor.prototype,r);if(!n.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,m=l.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return f.call(this)},set:function(v){a=""+v,m.call(this,v)}}),Object.defineProperty(n,r,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function $t(n){if(!n._valueTracker){var r=Dr(n)?"checked":"value";n._valueTracker=tl(n,r,""+n[r])}}function ks(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return n&&(l=Dr(n)?n.checked?"true":"false":n.value),n=l,n!==a?(r.setValue(n),!0):!1}function wi(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Us=/[\n"\\]/g;function cn(n){return n.replace(Us,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Oa(n,r,a,l,f,m,v,A){n.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?n.type=v:n.removeAttribute("type"),r!=null?v==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+Pe(r)):n.value!==""+Pe(r)&&(n.value=""+Pe(r)):v!=="submit"&&v!=="reset"||n.removeAttribute("value"),r!=null?el(n,v,Pe(r)):a!=null?el(n,v,Pe(a)):l!=null&&n.removeAttribute("value"),f==null&&m!=null&&(n.defaultChecked=!!m),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?n.name=""+Pe(A):n.removeAttribute("name")}function Ku(n,r,a,l,f,m,v,A){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),r!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||r!=null)){$t(n);return}a=a!=null?""+Pe(a):"",r=r!=null?""+Pe(r):a,A||r===n.value||(n.value=r),n.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=A?n.checked:!!l,n.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(n.name=v),$t(n)}function el(n,r,a){r==="number"&&wi(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Or(n,r,a,l){if(n=n.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=r.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&l&&(n[a].defaultSelected=!0)}else{for(a=""+Pe(a),r=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}r!==null||n[f].disabled||(r=n[f])}r!==null&&(r.selected=!0)}}function $u(n,r,a){if(r!=null&&(r=""+Pe(r),r!==n.value&&(n.value=r),a==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=a!=null?""+Pe(a):""}function Mr(n,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(mt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=Pe(r),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l),$t(n)}function hn(n,r){if(r){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=r;return}}n.textContent=r}var Zu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function nl(n,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":l?n.setProperty(r,a):typeof a!="number"||a===0||Zu.has(r)?r==="float"?n.cssFloat=a:n[r]=(""+a).trim():n[r]=a+"px"}function il(n,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&nl(n,f,l)}else for(var m in r)r.hasOwnProperty(m)&&nl(n,m,r[m])}function Ma(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ju=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Vr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Va(n){return Vr.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function Kn(){}var rl=null;function Dn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var kr=null,Ai=null;function Ls(n){var r=xn(n);if(r&&(n=r.stateNode)){var a=n[Le]||null;t:switch(n=r.stateNode,r.type){case"input":if(Oa(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+cn(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==n&&l.form===n.form){var f=l[Le]||null;if(!f)throw Error(s(90));Oa(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===n.form&&ks(l)}break t;case"textarea":$u(n,a.value,a.defaultValue);break t;case"select":r=a.value,r!=null&&Or(n,!!a.multiple,r,!1)}}}var ka=!1;function Ur(n,r,a){if(ka)return n(r,a);ka=!0;try{var l=n(r);return l}finally{if(ka=!1,(kr!==null||Ai!==null)&&(Gc(),kr&&(r=kr,n=Ai,Ai=kr=null,Ls(r),n)))for(r=0;r<n.length;r++)Ls(n[r])}}function $n(n,r){var a=n.stateNode;if(a===null)return null;var l=a[Le]||null;if(l===null)return null;a=l[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break t;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ps=!1;if(On)try{var Wt={};Object.defineProperty(Wt,"passive",{get:function(){Ps=!0}}),window.addEventListener("test",Wt,Wt),window.removeEventListener("test",Wt,Wt)}catch{Ps=!1}var bi=null,sl=null,zs=null;function al(){if(zs)return zs;var n,r=sl,a=r.length,l,f="value"in bi?bi.value:bi.textContent,m=f.length;for(n=0;n<a&&r[n]===f[n];n++);var v=a-n;for(l=1;l<=v&&r[a-l]===f[m-l];l++);return zs=f.slice(n,1<l?1-l:void 0)}function js(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function Zi(){return!0}function Zn(){return!1}function qe(n){function r(a,l,f,m,v){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=m,this.target=v,this.currentTarget=null;for(var A in n)n.hasOwnProperty(A)&&(a=n[A],this[A]=a?a(m):m[A]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Zi:Zn,this.isPropagationStopped=Zn,this}return T(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Zi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Zi)},persist:function(){},isPersistent:Zi}),r}var Ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Si=qe(Ji),Lr=T({},Ji,{view:0,detail:0}),ol=qe(Lr),Pr,Ua,Ri,La=T({},Lr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zr,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ri&&(Ri&&n.type==="mousemove"?(Pr=n.screenX-Ri.screenX,Ua=n.screenY-Ri.screenY):Ua=Pr=0,Ri=n),Pr)},movementY:function(n){return"movementY"in n?n.movementY:Ua}}),ll=qe(La),Bs=T({},La,{dataTransfer:0}),Wu=qe(Bs),tc=T({},Lr,{relatedTarget:0}),qs=qe(tc),ul=T({},Ji,{animationName:0,elapsedTime:0,pseudoElement:0}),ec=qe(ul),Pa=T({},Ji,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),nc=qe(Pa),ic=T({},Ji,{data:0}),Ii=qe(ic),rc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ac={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oc(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=ac[n])?!!r[n]:!1}function zr(){return oc}var nn=T({},Lr,{key:function(n){if(n.key){var r=rc[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=js(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?sc[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zr,charCode:function(n){return n.type==="keypress"?js(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?js(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),lc=qe(nn),uc=T({},La,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wi=qe(uc),h=T({},Lr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zr}),y=qe(h),E=T({},Ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=qe(E),Y=T({},La,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),W=qe(Y),dt=T({},Ji,{newState:0,oldState:0}),Dt=qe(dt),pe=[9,13,27,32],Yt=On&&"CompositionEvent"in window,le=null;On&&"documentMode"in document&&(le=document.documentMode);var Mn=On&&"TextEvent"in window&&!le,Ci=On&&(!Yt||le&&8<le&&11>=le),Jn=" ",Wn=!1;function Hs(n,r){switch(n){case"keyup":return pe.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function za(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ja=!1;function mb(n,r){switch(n){case"compositionend":return za(r);case"keypress":return r.which!==32?null:(Wn=!0,Jn);case"textInput":return n=r.data,n===Jn&&Wn?null:n;default:return null}}function gb(n,r){if(ja)return n==="compositionend"||!Yt&&Hs(n,r)?(n=al(),zs=sl=bi=null,ja=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Ci&&r.locale!=="ko"?null:r.data;default:return null}}var pb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ey(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!pb[n.type]:r==="textarea"}function Ty(n,r,a,l){kr?Ai?Ai.push(l):Ai=[l]:kr=l,r=Jc(r,"onChange"),0<r.length&&(a=new Si("onChange","change",null,a,l),n.push({event:a,listeners:r}))}var cl=null,hl=null;function yb(n){i0(n,0)}function cc(n){var r=vn(n);if(ks(r))return n}function wy(n,r){if(n==="change")return r}var Ay=!1;if(On){var Kf;if(On){var $f="oninput"in document;if(!$f){var by=document.createElement("div");by.setAttribute("oninput","return;"),$f=typeof by.oninput=="function"}Kf=$f}else Kf=!1;Ay=Kf&&(!document.documentMode||9<document.documentMode)}function Sy(){cl&&(cl.detachEvent("onpropertychange",Ry),hl=cl=null)}function Ry(n){if(n.propertyName==="value"&&cc(hl)){var r=[];Ty(r,hl,n,Dn(n)),Ur(yb,r)}}function _b(n,r,a){n==="focusin"?(Sy(),cl=r,hl=a,cl.attachEvent("onpropertychange",Ry)):n==="focusout"&&Sy()}function vb(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return cc(hl)}function Eb(n,r){if(n==="click")return cc(r)}function Tb(n,r){if(n==="input"||n==="change")return cc(r)}function wb(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var Tn=typeof Object.is=="function"?Object.is:wb;function fl(n,r){if(Tn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var a=Object.keys(n),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!Ee.call(r,f)||!Tn(n[f],r[f]))return!1}return!0}function Iy(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Cy(n,r){var a=Iy(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=r&&l>=r)return{node:a,offset:r-n};n=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Iy(a)}}function Ny(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?Ny(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function xy(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=wi(n.document);r instanceof n.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)n=r.contentWindow;else break;r=wi(n.document)}return r}function Zf(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var Ab=On&&"documentMode"in document&&11>=document.documentMode,Ba=null,Jf=null,dl=null,Wf=!1;function Dy(n,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Wf||Ba==null||Ba!==wi(l)||(l=Ba,"selectionStart"in l&&Zf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),dl&&fl(dl,l)||(dl=l,l=Jc(Jf,"onSelect"),0<l.length&&(r=new Si("onSelect","select",null,r,a),n.push({event:r,listeners:l}),r.target=Ba)))}function Fs(n,r){var a={};return a[n.toLowerCase()]=r.toLowerCase(),a["Webkit"+n]="webkit"+r,a["Moz"+n]="moz"+r,a}var qa={animationend:Fs("Animation","AnimationEnd"),animationiteration:Fs("Animation","AnimationIteration"),animationstart:Fs("Animation","AnimationStart"),transitionrun:Fs("Transition","TransitionRun"),transitionstart:Fs("Transition","TransitionStart"),transitioncancel:Fs("Transition","TransitionCancel"),transitionend:Fs("Transition","TransitionEnd")},td={},Oy={};On&&(Oy=document.createElement("div").style,"AnimationEvent"in window||(delete qa.animationend.animation,delete qa.animationiteration.animation,delete qa.animationstart.animation),"TransitionEvent"in window||delete qa.transitionend.transition);function Gs(n){if(td[n])return td[n];if(!qa[n])return n;var r=qa[n],a;for(a in r)if(r.hasOwnProperty(a)&&a in Oy)return td[n]=r[a];return n}var My=Gs("animationend"),Vy=Gs("animationiteration"),ky=Gs("animationstart"),bb=Gs("transitionrun"),Sb=Gs("transitionstart"),Rb=Gs("transitioncancel"),Uy=Gs("transitionend"),Ly=new Map,ed="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ed.push("scrollEnd");function ti(n,r){Ly.set(n,r),Ei(r,[n])}var hc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},Vn=[],Ha=0,nd=0;function fc(){for(var n=Ha,r=nd=Ha=0;r<n;){var a=Vn[r];Vn[r++]=null;var l=Vn[r];Vn[r++]=null;var f=Vn[r];Vn[r++]=null;var m=Vn[r];if(Vn[r++]=null,l!==null&&f!==null){var v=l.pending;v===null?f.next=f:(f.next=v.next,v.next=f),l.pending=f}m!==0&&Py(a,f,m)}}function dc(n,r,a,l){Vn[Ha++]=n,Vn[Ha++]=r,Vn[Ha++]=a,Vn[Ha++]=l,nd|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function id(n,r,a,l){return dc(n,r,a,l),mc(n)}function Ys(n,r){return dc(n,null,null,r),mc(n)}function Py(n,r,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var f=!1,m=n.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(f=!0)),n=m,m=m.return;return n.tag===3?(m=n.stateNode,f&&r!==null&&(f=31-ge(a),n=m.hiddenUpdates,l=n[f],l===null?n[f]=[r]:l.push(r),r.lane=a|536870912),m):null}function mc(n){if(50<kl)throw kl=0,fm=null,Error(s(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var Fa={};function Ib(n,r,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(n,r,a,l){return new Ib(n,r,a,l)}function rd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function tr(n,r){var a=n.alternate;return a===null?(a=wn(n.tag,r,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=r,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,r=n.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function zy(n,r){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,r=a.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function gc(n,r,a,l,f,m){var v=0;if(l=n,typeof n=="function")rd(n)&&(v=1);else if(typeof n=="string")v=OS(n,a,ct.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case C:return n=wn(31,a,r,f),n.elementType=C,n.lanes=m,n;case O:return Qs(a.children,f,m,r);case x:v=8,f|=24;break;case z:return n=wn(12,a,r,f|2),n.elementType=z,n.lanes=m,n;case ut:return n=wn(13,a,r,f),n.elementType=ut,n.lanes=m,n;case ht:return n=wn(19,a,r,f),n.elementType=ht,n.lanes=m,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case K:v=10;break t;case J:v=9;break t;case q:v=11;break t;case I:v=14;break t;case R:v=16,l=null;break t}v=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return r=wn(v,a,r,f),r.elementType=n,r.type=l,r.lanes=m,r}function Qs(n,r,a,l){return n=wn(7,n,l,r),n.lanes=a,n}function sd(n,r,a){return n=wn(6,n,null,r),n.lanes=a,n}function jy(n){var r=wn(18,null,null,0);return r.stateNode=n,r}function ad(n,r,a){return r=wn(4,n.children!==null?n.children:[],n.key,r),r.lanes=a,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var By=new WeakMap;function kn(n,r){if(typeof n=="object"&&n!==null){var a=By.get(n);return a!==void 0?a:(r={value:n,source:r,stack:Fo(r)},By.set(n,r),r)}return{value:n,source:r,stack:Fo(r)}}var Ga=[],Ya=0,pc=null,ml=0,Un=[],Ln=0,jr=null,Ni=1,xi="";function er(n,r){Ga[Ya++]=ml,Ga[Ya++]=pc,pc=n,ml=r}function qy(n,r,a){Un[Ln++]=Ni,Un[Ln++]=xi,Un[Ln++]=jr,jr=n;var l=Ni;n=xi;var f=32-ge(l)-1;l&=~(1<<f),a+=1;var m=32-ge(r)+f;if(30<m){var v=f-f%5;m=(l&(1<<v)-1).toString(32),l>>=v,f-=v,Ni=1<<32-ge(r)+f|a<<f|l,xi=m+n}else Ni=1<<m|a<<f|l,xi=n}function od(n){n.return!==null&&(er(n,1),qy(n,1,0))}function ld(n){for(;n===pc;)pc=Ga[--Ya],Ga[Ya]=null,ml=Ga[--Ya],Ga[Ya]=null;for(;n===jr;)jr=Un[--Ln],Un[Ln]=null,xi=Un[--Ln],Un[Ln]=null,Ni=Un[--Ln],Un[Ln]=null}function Hy(n,r){Un[Ln++]=Ni,Un[Ln++]=xi,Un[Ln++]=jr,Ni=r.id,xi=r.overflow,jr=n}var He=null,se=null,Bt=!1,Br=null,Pn=!1,ud=Error(s(519));function qr(n){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw gl(kn(r,n)),ud}function Fy(n){var r=n.stateNode,a=n.type,l=n.memoizedProps;switch(r[we]=n,r[Le]=l,a){case"dialog":kt("cancel",r),kt("close",r);break;case"iframe":case"object":case"embed":kt("load",r);break;case"video":case"audio":for(a=0;a<Ll.length;a++)kt(Ll[a],r);break;case"source":kt("error",r);break;case"img":case"image":case"link":kt("error",r),kt("load",r);break;case"details":kt("toggle",r);break;case"input":kt("invalid",r),Ku(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":kt("invalid",r);break;case"textarea":kt("invalid",r),Mr(r,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||o0(r.textContent,a)?(l.popover!=null&&(kt("beforetoggle",r),kt("toggle",r)),l.onScroll!=null&&kt("scroll",r),l.onScrollEnd!=null&&kt("scrollend",r),l.onClick!=null&&(r.onclick=Kn),r=!0):r=!1,r||qr(n,!0)}function Gy(n){for(He=n.return;He;)switch(He.tag){case 5:case 31:case 13:Pn=!1;return;case 27:case 3:Pn=!0;return;default:He=He.return}}function Qa(n){if(n!==He)return!1;if(!Bt)return Gy(n),Bt=!0,!1;var r=n.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Im(n.type,n.memoizedProps)),a=!a),a&&se&&qr(n),Gy(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));se=p0(n)}else if(r===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));se=p0(n)}else r===27?(r=se,ns(n.type)?(n=Om,Om=null,se=n):se=r):se=He?jn(n.stateNode.nextSibling):null;return!0}function Xs(){se=He=null,Bt=!1}function cd(){var n=Br;return n!==null&&(gn===null?gn=n:gn.push.apply(gn,n),Br=null),n}function gl(n){Br===null?Br=[n]:Br.push(n)}var hd=M(null),Ks=null,nr=null;function Hr(n,r,a){lt(hd,r._currentValue),r._currentValue=a}function ir(n){n._currentValue=hd.current,$(hd)}function fd(n,r,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),n===a)break;n=n.return}}function dd(n,r,a,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var m=f.dependencies;if(m!==null){var v=f.child;m=m.firstContext;t:for(;m!==null;){var A=m;m=f;for(var U=0;U<r.length;U++)if(A.context===r[U]){m.lanes|=a,A=m.alternate,A!==null&&(A.lanes|=a),fd(m.return,a,n),l||(v=null);break t}m=A.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(s(341));v.lanes|=a,m=v.alternate,m!==null&&(m.lanes|=a),fd(v,a,n),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===n){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function Xa(n,r,a,l){n=null;for(var f=r,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var A=f.type;Tn(f.pendingProps.value,v.value)||(n!==null?n.push(A):n=[A])}}else if(f===Rt.current){if(v=f.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(ql):n=[ql])}f=f.return}n!==null&&dd(r,n,a,l),r.flags|=262144}function yc(n){for(n=n.firstContext;n!==null;){if(!Tn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function $s(n){Ks=n,nr=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Fe(n){return Yy(Ks,n)}function _c(n,r){return Ks===null&&$s(n),Yy(n,r)}function Yy(n,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},nr===null){if(n===null)throw Error(s(308));nr=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else nr=nr.next=r;return a}var Cb=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){r.aborted=!0,n.forEach(function(a){return a()})}},Nb=i.unstable_scheduleCallback,xb=i.unstable_NormalPriority,Se={$$typeof:K,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function md(){return{controller:new Cb,data:new Map,refCount:0}}function pl(n){n.refCount--,n.refCount===0&&Nb(xb,function(){n.controller.abort()})}var yl=null,gd=0,Ka=0,$a=null;function Db(n,r){if(yl===null){var a=yl=[];gd=0,Ka=_m(),$a={status:"pending",value:void 0,then:function(l){a.push(l)}}}return gd++,r.then(Qy,Qy),r}function Qy(){if(--gd===0&&yl!==null){$a!==null&&($a.status="fulfilled");var n=yl;yl=null,Ka=0,$a=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function Ob(n,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Xy=P.S;P.S=function(n,r){Dv=en(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&Db(n,r),Xy!==null&&Xy(n,r)};var Zs=M(null);function pd(){var n=Zs.current;return n!==null?n:ie.pooledCache}function vc(n,r){r===null?lt(Zs,Zs.current):lt(Zs,r.pool)}function Ky(){var n=pd();return n===null?null:{parent:Se._currentValue,pool:n}}var Za=Error(s(460)),yd=Error(s(474)),Ec=Error(s(542)),Tc={then:function(){}};function $y(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Zy(n,r,a){switch(a=n[a],a===void 0?n.push(r):a!==r&&(r.then(Kn,Kn),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,Wy(n),n;default:if(typeof r.status=="string")r.then(Kn,Kn);else{if(n=ie,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=r,n.status="pending",n.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,Wy(n),n}throw Ws=r,Za}}function Js(n){try{var r=n._init;return r(n._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ws=a,Za):a}}var Ws=null;function Jy(){if(Ws===null)throw Error(s(459));var n=Ws;return Ws=null,n}function Wy(n){if(n===Za||n===Ec)throw Error(s(483))}var Ja=null,_l=0;function wc(n){var r=_l;return _l+=1,Ja===null&&(Ja=[]),Zy(Ja,n,r)}function vl(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function Ac(n,r){throw r.$$typeof===w?Error(s(525)):(n=Object.prototype.toString.call(r),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function t_(n){function r(F,j){if(n){var Q=F.deletions;Q===null?(F.deletions=[j],F.flags|=16):Q.push(j)}}function a(F,j){if(!n)return null;for(;j!==null;)r(F,j),j=j.sibling;return null}function l(F){for(var j=new Map;F!==null;)F.key!==null?j.set(F.key,F):j.set(F.index,F),F=F.sibling;return j}function f(F,j){return F=tr(F,j),F.index=0,F.sibling=null,F}function m(F,j,Q){return F.index=Q,n?(Q=F.alternate,Q!==null?(Q=Q.index,Q<j?(F.flags|=67108866,j):Q):(F.flags|=67108866,j)):(F.flags|=1048576,j)}function v(F){return n&&F.alternate===null&&(F.flags|=67108866),F}function A(F,j,Q,nt){return j===null||j.tag!==6?(j=sd(Q,F.mode,nt),j.return=F,j):(j=f(j,Q),j.return=F,j)}function U(F,j,Q,nt){var wt=Q.type;return wt===O?et(F,j,Q.props.children,nt,Q.key):j!==null&&(j.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===R&&Js(wt)===j.type)?(j=f(j,Q.props),vl(j,Q),j.return=F,j):(j=gc(Q.type,Q.key,Q.props,null,F.mode,nt),vl(j,Q),j.return=F,j)}function X(F,j,Q,nt){return j===null||j.tag!==4||j.stateNode.containerInfo!==Q.containerInfo||j.stateNode.implementation!==Q.implementation?(j=ad(Q,F.mode,nt),j.return=F,j):(j=f(j,Q.children||[]),j.return=F,j)}function et(F,j,Q,nt,wt){return j===null||j.tag!==7?(j=Qs(Q,F.mode,nt,wt),j.return=F,j):(j=f(j,Q),j.return=F,j)}function st(F,j,Q){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=sd(""+j,F.mode,Q),j.return=F,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case S:return Q=gc(j.type,j.key,j.props,null,F.mode,Q),vl(Q,j),Q.return=F,Q;case D:return j=ad(j,F.mode,Q),j.return=F,j;case R:return j=Js(j),st(F,j,Q)}if(mt(j)||B(j))return j=Qs(j,F.mode,Q,null),j.return=F,j;if(typeof j.then=="function")return st(F,wc(j),Q);if(j.$$typeof===K)return st(F,_c(F,j),Q);Ac(F,j)}return null}function Z(F,j,Q,nt){var wt=j!==null?j.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return wt!==null?null:A(F,j,""+Q,nt);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case S:return Q.key===wt?U(F,j,Q,nt):null;case D:return Q.key===wt?X(F,j,Q,nt):null;case R:return Q=Js(Q),Z(F,j,Q,nt)}if(mt(Q)||B(Q))return wt!==null?null:et(F,j,Q,nt,null);if(typeof Q.then=="function")return Z(F,j,wc(Q),nt);if(Q.$$typeof===K)return Z(F,j,_c(F,Q),nt);Ac(F,Q)}return null}function tt(F,j,Q,nt,wt){if(typeof nt=="string"&&nt!==""||typeof nt=="number"||typeof nt=="bigint")return F=F.get(Q)||null,A(j,F,""+nt,wt);if(typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case S:return F=F.get(nt.key===null?Q:nt.key)||null,U(j,F,nt,wt);case D:return F=F.get(nt.key===null?Q:nt.key)||null,X(j,F,nt,wt);case R:return nt=Js(nt),tt(F,j,Q,nt,wt)}if(mt(nt)||B(nt))return F=F.get(Q)||null,et(j,F,nt,wt,null);if(typeof nt.then=="function")return tt(F,j,Q,wc(nt),wt);if(nt.$$typeof===K)return tt(F,j,Q,_c(j,nt),wt);Ac(j,nt)}return null}function _t(F,j,Q,nt){for(var wt=null,Ht=null,Et=j,Mt=j=0,Lt=null;Et!==null&&Mt<Q.length;Mt++){Et.index>Mt?(Lt=Et,Et=null):Lt=Et.sibling;var Ft=Z(F,Et,Q[Mt],nt);if(Ft===null){Et===null&&(Et=Lt);break}n&&Et&&Ft.alternate===null&&r(F,Et),j=m(Ft,j,Mt),Ht===null?wt=Ft:Ht.sibling=Ft,Ht=Ft,Et=Lt}if(Mt===Q.length)return a(F,Et),Bt&&er(F,Mt),wt;if(Et===null){for(;Mt<Q.length;Mt++)Et=st(F,Q[Mt],nt),Et!==null&&(j=m(Et,j,Mt),Ht===null?wt=Et:Ht.sibling=Et,Ht=Et);return Bt&&er(F,Mt),wt}for(Et=l(Et);Mt<Q.length;Mt++)Lt=tt(Et,F,Mt,Q[Mt],nt),Lt!==null&&(n&&Lt.alternate!==null&&Et.delete(Lt.key===null?Mt:Lt.key),j=m(Lt,j,Mt),Ht===null?wt=Lt:Ht.sibling=Lt,Ht=Lt);return n&&Et.forEach(function(os){return r(F,os)}),Bt&&er(F,Mt),wt}function bt(F,j,Q,nt){if(Q==null)throw Error(s(151));for(var wt=null,Ht=null,Et=j,Mt=j=0,Lt=null,Ft=Q.next();Et!==null&&!Ft.done;Mt++,Ft=Q.next()){Et.index>Mt?(Lt=Et,Et=null):Lt=Et.sibling;var os=Z(F,Et,Ft.value,nt);if(os===null){Et===null&&(Et=Lt);break}n&&Et&&os.alternate===null&&r(F,Et),j=m(os,j,Mt),Ht===null?wt=os:Ht.sibling=os,Ht=os,Et=Lt}if(Ft.done)return a(F,Et),Bt&&er(F,Mt),wt;if(Et===null){for(;!Ft.done;Mt++,Ft=Q.next())Ft=st(F,Ft.value,nt),Ft!==null&&(j=m(Ft,j,Mt),Ht===null?wt=Ft:Ht.sibling=Ft,Ht=Ft);return Bt&&er(F,Mt),wt}for(Et=l(Et);!Ft.done;Mt++,Ft=Q.next())Ft=tt(Et,F,Mt,Ft.value,nt),Ft!==null&&(n&&Ft.alternate!==null&&Et.delete(Ft.key===null?Mt:Ft.key),j=m(Ft,j,Mt),Ht===null?wt=Ft:Ht.sibling=Ft,Ht=Ft);return n&&Et.forEach(function(HS){return r(F,HS)}),Bt&&er(F,Mt),wt}function ne(F,j,Q,nt){if(typeof Q=="object"&&Q!==null&&Q.type===O&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case S:t:{for(var wt=Q.key;j!==null;){if(j.key===wt){if(wt=Q.type,wt===O){if(j.tag===7){a(F,j.sibling),nt=f(j,Q.props.children),nt.return=F,F=nt;break t}}else if(j.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===R&&Js(wt)===j.type){a(F,j.sibling),nt=f(j,Q.props),vl(nt,Q),nt.return=F,F=nt;break t}a(F,j);break}else r(F,j);j=j.sibling}Q.type===O?(nt=Qs(Q.props.children,F.mode,nt,Q.key),nt.return=F,F=nt):(nt=gc(Q.type,Q.key,Q.props,null,F.mode,nt),vl(nt,Q),nt.return=F,F=nt)}return v(F);case D:t:{for(wt=Q.key;j!==null;){if(j.key===wt)if(j.tag===4&&j.stateNode.containerInfo===Q.containerInfo&&j.stateNode.implementation===Q.implementation){a(F,j.sibling),nt=f(j,Q.children||[]),nt.return=F,F=nt;break t}else{a(F,j);break}else r(F,j);j=j.sibling}nt=ad(Q,F.mode,nt),nt.return=F,F=nt}return v(F);case R:return Q=Js(Q),ne(F,j,Q,nt)}if(mt(Q))return _t(F,j,Q,nt);if(B(Q)){if(wt=B(Q),typeof wt!="function")throw Error(s(150));return Q=wt.call(Q),bt(F,j,Q,nt)}if(typeof Q.then=="function")return ne(F,j,wc(Q),nt);if(Q.$$typeof===K)return ne(F,j,_c(F,Q),nt);Ac(F,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,j!==null&&j.tag===6?(a(F,j.sibling),nt=f(j,Q),nt.return=F,F=nt):(a(F,j),nt=sd(Q,F.mode,nt),nt.return=F,F=nt),v(F)):a(F,j)}return function(F,j,Q,nt){try{_l=0;var wt=ne(F,j,Q,nt);return Ja=null,wt}catch(Et){if(Et===Za||Et===Ec)throw Et;var Ht=wn(29,Et,null,F.mode);return Ht.lanes=nt,Ht.return=F,Ht}}}var ta=t_(!0),e_=t_(!1),Fr=!1;function _d(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vd(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Gr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Yr(n,r,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(Qt&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=mc(n),Py(n,null,a),r}return dc(n,l,r,a),mc(n)}function El(n,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,Qo(n,a)}}function Ed(n,r){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?f=m=v:m=m.next=v,a=a.next}while(a!==null);m===null?f=m=r:m=m.next=r}else f=m=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=r:n.next=r,a.lastBaseUpdate=r}var Td=!1;function Tl(){if(Td){var n=$a;if(n!==null)throw n}}function wl(n,r,a,l){Td=!1;var f=n.updateQueue;Fr=!1;var m=f.firstBaseUpdate,v=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var U=A,X=U.next;U.next=null,v===null?m=X:v.next=X,v=U;var et=n.alternate;et!==null&&(et=et.updateQueue,A=et.lastBaseUpdate,A!==v&&(A===null?et.firstBaseUpdate=X:A.next=X,et.lastBaseUpdate=U))}if(m!==null){var st=f.baseState;v=0,et=X=U=null,A=m;do{var Z=A.lane&-536870913,tt=Z!==A.lane;if(tt?(Ut&Z)===Z:(l&Z)===Z){Z!==0&&Z===Ka&&(Td=!0),et!==null&&(et=et.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});t:{var _t=n,bt=A;Z=r;var ne=a;switch(bt.tag){case 1:if(_t=bt.payload,typeof _t=="function"){st=_t.call(ne,st,Z);break t}st=_t;break t;case 3:_t.flags=_t.flags&-65537|128;case 0:if(_t=bt.payload,Z=typeof _t=="function"?_t.call(ne,st,Z):_t,Z==null)break t;st=T({},st,Z);break t;case 2:Fr=!0}}Z=A.callback,Z!==null&&(n.flags|=64,tt&&(n.flags|=8192),tt=f.callbacks,tt===null?f.callbacks=[Z]:tt.push(Z))}else tt={lane:Z,tag:A.tag,payload:A.payload,callback:A.callback,next:null},et===null?(X=et=tt,U=st):et=et.next=tt,v|=Z;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;tt=A,A=tt.next,tt.next=null,f.lastBaseUpdate=tt,f.shared.pending=null}}while(!0);et===null&&(U=st),f.baseState=U,f.firstBaseUpdate=X,f.lastBaseUpdate=et,m===null&&(f.shared.lanes=0),Zr|=v,n.lanes=v,n.memoizedState=st}}function n_(n,r){if(typeof n!="function")throw Error(s(191,n));n.call(r)}function i_(n,r){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)n_(a[n],r)}var Wa=M(null),bc=M(0);function r_(n,r){n=fr,lt(bc,n),lt(Wa,r),fr=n|r.baseLanes}function wd(){lt(bc,fr),lt(Wa,Wa.current)}function Ad(){fr=bc.current,$(Wa),$(bc)}var An=M(null),zn=null;function Qr(n){var r=n.alternate;lt(ye,ye.current&1),lt(An,n),zn===null&&(r===null||Wa.current!==null||r.memoizedState!==null)&&(zn=n)}function bd(n){lt(ye,ye.current),lt(An,n),zn===null&&(zn=n)}function s_(n){n.tag===22?(lt(ye,ye.current),lt(An,n),zn===null&&(zn=n)):Xr()}function Xr(){lt(ye,ye.current),lt(An,An.current)}function bn(n){$(An),zn===n&&(zn=null),$(ye)}var ye=M(0);function Sc(n){for(var r=n;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||xm(a)||Dm(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var rr=0,Ot=null,te=null,Re=null,Rc=!1,to=!1,ea=!1,Ic=0,Al=0,eo=null,Mb=0;function he(){throw Error(s(321))}function Sd(n,r){if(r===null)return!1;for(var a=0;a<r.length&&a<n.length;a++)if(!Tn(n[a],r[a]))return!1;return!0}function Rd(n,r,a,l,f,m){return rr=m,Ot=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,P.H=n===null||n.memoizedState===null?q_:Bd,ea=!1,m=a(l,f),ea=!1,to&&(m=o_(r,a,l,f)),a_(n),m}function a_(n){P.H=Rl;var r=te!==null&&te.next!==null;if(rr=0,Re=te=Ot=null,Rc=!1,Al=0,eo=null,r)throw Error(s(300));n===null||Ie||(n=n.dependencies,n!==null&&yc(n)&&(Ie=!0))}function o_(n,r,a,l){Ot=n;var f=0;do{if(to&&(eo=null),Al=0,to=!1,25<=f)throw Error(s(301));if(f+=1,Re=te=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}P.H=H_,m=r(a,l)}while(to);return m}function Vb(){var n=P.H,r=n.useState()[0];return r=typeof r.then=="function"?bl(r):r,n=n.useState()[0],(te!==null?te.memoizedState:null)!==n&&(Ot.flags|=1024),r}function Id(){var n=Ic!==0;return Ic=0,n}function Cd(n,r,a){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~a}function Nd(n){if(Rc){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}Rc=!1}rr=0,Re=te=Ot=null,to=!1,Al=Ic=0,eo=null}function rn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?Ot.memoizedState=Re=n:Re=Re.next=n,Re}function _e(){if(te===null){var n=Ot.alternate;n=n!==null?n.memoizedState:null}else n=te.next;var r=Re===null?Ot.memoizedState:Re.next;if(r!==null)Re=r,te=n;else{if(n===null)throw Ot.alternate===null?Error(s(467)):Error(s(310));te=n,n={memoizedState:te.memoizedState,baseState:te.baseState,baseQueue:te.baseQueue,queue:te.queue,next:null},Re===null?Ot.memoizedState=Re=n:Re=Re.next=n}return Re}function Cc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bl(n){var r=Al;return Al+=1,eo===null&&(eo=[]),n=Zy(eo,n,r),r=Ot,(Re===null?r.memoizedState:Re.next)===null&&(r=r.alternate,P.H=r===null||r.memoizedState===null?q_:Bd),n}function Nc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return bl(n);if(n.$$typeof===K)return Fe(n)}throw Error(s(438,String(n)))}function xd(n){var r=null,a=Ot.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Ot.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Cc(),Ot.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(n),l=0;l<n;l++)a[l]=L;return r.index++,a}function sr(n,r){return typeof r=="function"?r(n):r}function xc(n){var r=_e();return Dd(r,te,n)}function Dd(n,r,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=n.baseQueue,m=l.pending;if(m!==null){if(f!==null){var v=f.next;f.next=m.next,m.next=v}r.baseQueue=f=m,l.pending=null}if(m=n.baseState,f===null)n.memoizedState=m;else{r=f.next;var A=v=null,U=null,X=r,et=!1;do{var st=X.lane&-536870913;if(st!==X.lane?(Ut&st)===st:(rr&st)===st){var Z=X.revertLane;if(Z===0)U!==null&&(U=U.next={lane:0,revertLane:0,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),st===Ka&&(et=!0);else if((rr&Z)===Z){X=X.next,Z===Ka&&(et=!0);continue}else st={lane:0,revertLane:X.revertLane,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},U===null?(A=U=st,v=m):U=U.next=st,Ot.lanes|=Z,Zr|=Z;st=X.action,ea&&a(m,st),m=X.hasEagerState?X.eagerState:a(m,st)}else Z={lane:st,revertLane:X.revertLane,gesture:X.gesture,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},U===null?(A=U=Z,v=m):U=U.next=Z,Ot.lanes|=st,Zr|=st;X=X.next}while(X!==null&&X!==r);if(U===null?v=m:U.next=A,!Tn(m,n.memoizedState)&&(Ie=!0,et&&(a=$a,a!==null)))throw a;n.memoizedState=m,n.baseState=v,n.baseQueue=U,l.lastRenderedState=m}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function Od(n){var r=_e(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,f=a.pending,m=r.memoizedState;if(f!==null){a.pending=null;var v=f=f.next;do m=n(m,v.action),v=v.next;while(v!==f);Tn(m,r.memoizedState)||(Ie=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),a.lastRenderedState=m}return[m,l]}function l_(n,r,a){var l=Ot,f=_e(),m=Bt;if(m){if(a===void 0)throw Error(s(407));a=a()}else a=r();var v=!Tn((te||f).memoizedState,a);if(v&&(f.memoizedState=a,Ie=!0),f=f.queue,kd(h_.bind(null,l,f,n),[n]),f.getSnapshot!==r||v||Re!==null&&Re.memoizedState.tag&1){if(l.flags|=2048,no(9,{destroy:void 0},c_.bind(null,l,f,a,r),null),ie===null)throw Error(s(349));m||(rr&127)!==0||u_(l,r,a)}return a}function u_(n,r,a){n.flags|=16384,n={getSnapshot:r,value:a},r=Ot.updateQueue,r===null?(r=Cc(),Ot.updateQueue=r,r.stores=[n]):(a=r.stores,a===null?r.stores=[n]:a.push(n))}function c_(n,r,a,l){r.value=a,r.getSnapshot=l,f_(r)&&d_(n)}function h_(n,r,a){return a(function(){f_(r)&&d_(n)})}function f_(n){var r=n.getSnapshot;n=n.value;try{var a=r();return!Tn(n,a)}catch{return!0}}function d_(n){var r=Ys(n,2);r!==null&&pn(r,n,2)}function Md(n){var r=rn();if(typeof n=="function"){var a=n;if(n=a(),ea){Nn(!0);try{a()}finally{Nn(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sr,lastRenderedState:n},r}function m_(n,r,a,l){return n.baseState=a,Dd(n,te,typeof l=="function"?l:sr)}function kb(n,r,a,l,f){if(Mc(n))throw Error(s(485));if(n=r.action,n!==null){var m={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){m.listeners.push(v)}};P.T!==null?a(!0):m.isTransition=!1,l(m),a=r.pending,a===null?(m.next=r.pending=m,g_(r,m)):(m.next=a.next,r.pending=a.next=m)}}function g_(n,r){var a=r.action,l=r.payload,f=n.state;if(r.isTransition){var m=P.T,v={};P.T=v;try{var A=a(f,l),U=P.S;U!==null&&U(v,A),p_(n,r,A)}catch(X){Vd(n,r,X)}finally{m!==null&&v.types!==null&&(m.types=v.types),P.T=m}}else try{m=a(f,l),p_(n,r,m)}catch(X){Vd(n,r,X)}}function p_(n,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){y_(n,r,l)},function(l){return Vd(n,r,l)}):y_(n,r,a)}function y_(n,r,a){r.status="fulfilled",r.value=a,__(r),n.state=a,r=n.pending,r!==null&&(a=r.next,a===r?n.pending=null:(a=a.next,r.next=a,g_(n,a)))}function Vd(n,r,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,__(r),r=r.next;while(r!==l)}n.action=null}function __(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function v_(n,r){return r}function E_(n,r){if(Bt){var a=ie.formState;if(a!==null){t:{var l=Ot;if(Bt){if(se){e:{for(var f=se,m=Pn;f.nodeType!==8;){if(!m){f=null;break e}if(f=jn(f.nextSibling),f===null){f=null;break e}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){se=jn(f.nextSibling),l=f.data==="F!";break t}}qr(l)}l=!1}l&&(r=a[0])}}return a=rn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:v_,lastRenderedState:r},a.queue=l,a=z_.bind(null,Ot,l),l.dispatch=a,l=Md(!1),m=jd.bind(null,Ot,!1,l.queue),l=rn(),f={state:r,dispatch:null,action:n,pending:null},l.queue=f,a=kb.bind(null,Ot,f,m,a),f.dispatch=a,l.memoizedState=n,[r,a,!1]}function T_(n){var r=_e();return w_(r,te,n)}function w_(n,r,a){if(r=Dd(n,r,v_)[0],n=xc(sr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=bl(r)}catch(v){throw v===Za?Ec:v}else l=r;r=_e();var f=r.queue,m=f.dispatch;return a!==r.memoizedState&&(Ot.flags|=2048,no(9,{destroy:void 0},Ub.bind(null,f,a),null)),[l,m,n]}function Ub(n,r){n.action=r}function A_(n){var r=_e(),a=te;if(a!==null)return w_(r,a,n);_e(),r=r.memoizedState,a=_e();var l=a.queue.dispatch;return a.memoizedState=n,[r,l,!1]}function no(n,r,a,l){return n={tag:n,create:a,deps:l,inst:r,next:null},r=Ot.updateQueue,r===null&&(r=Cc(),Ot.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,r.lastEffect=n),n}function b_(){return _e().memoizedState}function Dc(n,r,a,l){var f=rn();Ot.flags|=n,f.memoizedState=no(1|r,{destroy:void 0},a,l===void 0?null:l)}function Oc(n,r,a,l){var f=_e();l=l===void 0?null:l;var m=f.memoizedState.inst;te!==null&&l!==null&&Sd(l,te.memoizedState.deps)?f.memoizedState=no(r,m,a,l):(Ot.flags|=n,f.memoizedState=no(1|r,m,a,l))}function S_(n,r){Dc(8390656,8,n,r)}function kd(n,r){Oc(2048,8,n,r)}function Lb(n){Ot.flags|=4;var r=Ot.updateQueue;if(r===null)r=Cc(),Ot.updateQueue=r,r.events=[n];else{var a=r.events;a===null?r.events=[n]:a.push(n)}}function R_(n){var r=_e().memoizedState;return Lb({ref:r,nextImpl:n}),function(){if((Qt&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function I_(n,r){return Oc(4,2,n,r)}function C_(n,r){return Oc(4,4,n,r)}function N_(n,r){if(typeof r=="function"){n=n();var a=r(n);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function x_(n,r,a){a=a!=null?a.concat([n]):null,Oc(4,4,N_.bind(null,r,n),a)}function Ud(){}function D_(n,r){var a=_e();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Sd(r,l[1])?l[0]:(a.memoizedState=[n,r],n)}function O_(n,r){var a=_e();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Sd(r,l[1]))return l[0];if(l=n(),ea){Nn(!0);try{n()}finally{Nn(!1)}}return a.memoizedState=[l,r],l}function Ld(n,r,a){return a===void 0||(rr&1073741824)!==0&&(Ut&261930)===0?n.memoizedState=r:(n.memoizedState=a,n=Mv(),Ot.lanes|=n,Zr|=n,a)}function M_(n,r,a,l){return Tn(a,r)?a:Wa.current!==null?(n=Ld(n,a,l),Tn(n,r)||(Ie=!0),n):(rr&42)===0||(rr&1073741824)!==0&&(Ut&261930)===0?(Ie=!0,n.memoizedState=a):(n=Mv(),Ot.lanes|=n,Zr|=n,r)}function V_(n,r,a,l,f){var m=H.p;H.p=m!==0&&8>m?m:8;var v=P.T,A={};P.T=A,jd(n,!1,r,a);try{var U=f(),X=P.S;if(X!==null&&X(A,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var et=Ob(U,l);Sl(n,r,et,In(n))}else Sl(n,r,l,In(n))}catch(st){Sl(n,r,{then:function(){},status:"rejected",reason:st},In())}finally{H.p=m,v!==null&&A.types!==null&&(v.types=A.types),P.T=v}}function Pb(){}function Pd(n,r,a,l){if(n.tag!==5)throw Error(s(476));var f=k_(n).queue;V_(n,f,r,it,a===null?Pb:function(){return U_(n),a(l)})}function k_(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:it,baseState:it,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sr,lastRenderedState:it},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sr,lastRenderedState:a},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function U_(n){var r=k_(n);r.next===null&&(r=n.alternate.memoizedState),Sl(n,r.next.queue,{},In())}function zd(){return Fe(ql)}function L_(){return _e().memoizedState}function P_(){return _e().memoizedState}function zb(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var a=In();n=Gr(a);var l=Yr(r,n,a);l!==null&&(pn(l,r,a),El(l,r,a)),r={cache:md()},n.payload=r;return}r=r.return}}function jb(n,r,a){var l=In();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Mc(n)?j_(r,a):(a=id(n,r,a,l),a!==null&&(pn(a,n,l),B_(a,r,l)))}function z_(n,r,a){var l=In();Sl(n,r,a,l)}function Sl(n,r,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Mc(n))j_(r,f);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var v=r.lastRenderedState,A=m(v,a);if(f.hasEagerState=!0,f.eagerState=A,Tn(A,v))return dc(n,r,f,0),ie===null&&fc(),!1}catch{}if(a=id(n,r,f,l),a!==null)return pn(a,n,l),B_(a,r,l),!0}return!1}function jd(n,r,a,l){if(l={lane:2,revertLane:_m(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Mc(n)){if(r)throw Error(s(479))}else r=id(n,a,l,2),r!==null&&pn(r,n,2)}function Mc(n){var r=n.alternate;return n===Ot||r!==null&&r===Ot}function j_(n,r){to=Rc=!0;var a=n.pending;a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r}function B_(n,r,a){if((a&4194048)!==0){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,Qo(n,a)}}var Rl={readContext:Fe,use:Nc,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he,useHostTransitionStatus:he,useFormState:he,useActionState:he,useOptimistic:he,useMemoCache:he,useCacheRefresh:he};Rl.useEffectEvent=he;var q_={readContext:Fe,use:Nc,useCallback:function(n,r){return rn().memoizedState=[n,r===void 0?null:r],n},useContext:Fe,useEffect:S_,useImperativeHandle:function(n,r,a){a=a!=null?a.concat([n]):null,Dc(4194308,4,N_.bind(null,r,n),a)},useLayoutEffect:function(n,r){return Dc(4194308,4,n,r)},useInsertionEffect:function(n,r){Dc(4,2,n,r)},useMemo:function(n,r){var a=rn();r=r===void 0?null:r;var l=n();if(ea){Nn(!0);try{n()}finally{Nn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(n,r,a){var l=rn();if(a!==void 0){var f=a(r);if(ea){Nn(!0);try{a(r)}finally{Nn(!1)}}}else f=r;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=jb.bind(null,Ot,n),[l.memoizedState,n]},useRef:function(n){var r=rn();return n={current:n},r.memoizedState=n},useState:function(n){n=Md(n);var r=n.queue,a=z_.bind(null,Ot,r);return r.dispatch=a,[n.memoizedState,a]},useDebugValue:Ud,useDeferredValue:function(n,r){var a=rn();return Ld(a,n,r)},useTransition:function(){var n=Md(!1);return n=V_.bind(null,Ot,n.queue,!0,!1),rn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,a){var l=Ot,f=rn();if(Bt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),ie===null)throw Error(s(349));(Ut&127)!==0||u_(l,r,a)}f.memoizedState=a;var m={value:a,getSnapshot:r};return f.queue=m,S_(h_.bind(null,l,m,n),[n]),l.flags|=2048,no(9,{destroy:void 0},c_.bind(null,l,m,a,r),null),a},useId:function(){var n=rn(),r=ie.identifierPrefix;if(Bt){var a=xi,l=Ni;a=(l&~(1<<32-ge(l)-1)).toString(32)+a,r="_"+r+"R_"+a,a=Ic++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=Mb++,r="_"+r+"r_"+a.toString(32)+"_";return n.memoizedState=r},useHostTransitionStatus:zd,useFormState:E_,useActionState:E_,useOptimistic:function(n){var r=rn();r.memoizedState=r.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=jd.bind(null,Ot,!0,a),a.dispatch=r,[n,r]},useMemoCache:xd,useCacheRefresh:function(){return rn().memoizedState=zb.bind(null,Ot)},useEffectEvent:function(n){var r=rn(),a={impl:n};return r.memoizedState=a,function(){if((Qt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Bd={readContext:Fe,use:Nc,useCallback:D_,useContext:Fe,useEffect:kd,useImperativeHandle:x_,useInsertionEffect:I_,useLayoutEffect:C_,useMemo:O_,useReducer:xc,useRef:b_,useState:function(){return xc(sr)},useDebugValue:Ud,useDeferredValue:function(n,r){var a=_e();return M_(a,te.memoizedState,n,r)},useTransition:function(){var n=xc(sr)[0],r=_e().memoizedState;return[typeof n=="boolean"?n:bl(n),r]},useSyncExternalStore:l_,useId:L_,useHostTransitionStatus:zd,useFormState:T_,useActionState:T_,useOptimistic:function(n,r){var a=_e();return m_(a,te,n,r)},useMemoCache:xd,useCacheRefresh:P_};Bd.useEffectEvent=R_;var H_={readContext:Fe,use:Nc,useCallback:D_,useContext:Fe,useEffect:kd,useImperativeHandle:x_,useInsertionEffect:I_,useLayoutEffect:C_,useMemo:O_,useReducer:Od,useRef:b_,useState:function(){return Od(sr)},useDebugValue:Ud,useDeferredValue:function(n,r){var a=_e();return te===null?Ld(a,n,r):M_(a,te.memoizedState,n,r)},useTransition:function(){var n=Od(sr)[0],r=_e().memoizedState;return[typeof n=="boolean"?n:bl(n),r]},useSyncExternalStore:l_,useId:L_,useHostTransitionStatus:zd,useFormState:A_,useActionState:A_,useOptimistic:function(n,r){var a=_e();return te!==null?m_(a,te,n,r):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:xd,useCacheRefresh:P_};H_.useEffectEvent=R_;function qd(n,r,a,l){r=n.memoizedState,a=a(l,r),a=a==null?r:T({},r,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Hd={enqueueSetState:function(n,r,a){n=n._reactInternals;var l=In(),f=Gr(l);f.payload=r,a!=null&&(f.callback=a),r=Yr(n,f,l),r!==null&&(pn(r,n,l),El(r,n,l))},enqueueReplaceState:function(n,r,a){n=n._reactInternals;var l=In(),f=Gr(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=Yr(n,f,l),r!==null&&(pn(r,n,l),El(r,n,l))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var a=In(),l=Gr(a);l.tag=2,r!=null&&(l.callback=r),r=Yr(n,l,a),r!==null&&(pn(r,n,a),El(r,n,a))}};function F_(n,r,a,l,f,m,v){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,m,v):r.prototype&&r.prototype.isPureReactComponent?!fl(a,l)||!fl(f,m):!0}function G_(n,r,a,l){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==n&&Hd.enqueueReplaceState(r,r.state,null)}function na(n,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(n=n.defaultProps){a===r&&(a=T({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}function Y_(n){hc(n)}function Q_(n){console.error(n)}function X_(n){hc(n)}function Vc(n,r){try{var a=n.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function K_(n,r,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Fd(n,r,a){return a=Gr(a),a.tag=3,a.payload={element:null},a.callback=function(){Vc(n,r)},a}function $_(n){return n=Gr(n),n.tag=3,n}function Z_(n,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var m=l.value;n.payload=function(){return f(m)},n.callback=function(){K_(r,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(n.callback=function(){K_(r,a,l),typeof f!="function"&&(Jr===null?Jr=new Set([this]):Jr.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function Bb(n,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&Xa(r,a,f,!0),a=An.current,a!==null){switch(a.tag){case 31:case 13:return zn===null?Yc():a.alternate===null&&fe===0&&(fe=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Tc?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),gm(n,l,f)),!1;case 22:return a.flags|=65536,l===Tc?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),gm(n,l,f)),!1}throw Error(s(435,a.tag))}return gm(n,l,f),Yc(),!1}if(Bt)return r=An.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==ud&&(n=Error(s(422),{cause:l}),gl(kn(n,a)))):(l!==ud&&(r=Error(s(423),{cause:l}),gl(kn(r,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=kn(l,a),f=Fd(n.stateNode,l,f),Ed(n,f),fe!==4&&(fe=2)),!1;var m=Error(s(520),{cause:l});if(m=kn(m,a),Vl===null?Vl=[m]:Vl.push(m),fe!==4&&(fe=2),r===null)return!0;l=kn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=Fd(a.stateNode,l,n),Ed(a,n),!1;case 1:if(r=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Jr===null||!Jr.has(m))))return a.flags|=65536,f&=-f,a.lanes|=f,f=$_(f),Z_(f,n,a,l),Ed(a,f),!1}a=a.return}while(a!==null);return!1}var Gd=Error(s(461)),Ie=!1;function Ge(n,r,a,l){r.child=n===null?e_(r,null,a,l):ta(r,n.child,a,l)}function J_(n,r,a,l,f){a=a.render;var m=r.ref;if("ref"in l){var v={};for(var A in l)A!=="ref"&&(v[A]=l[A])}else v=l;return $s(r),l=Rd(n,r,a,v,m,f),A=Id(),n!==null&&!Ie?(Cd(n,r,f),ar(n,r,f)):(Bt&&A&&od(r),r.flags|=1,Ge(n,r,l,f),r.child)}function W_(n,r,a,l,f){if(n===null){var m=a.type;return typeof m=="function"&&!rd(m)&&m.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=m,tv(n,r,m,l,f)):(n=gc(a.type,null,l,r,r.mode,f),n.ref=r.ref,n.return=r,r.child=n)}if(m=n.child,!Wd(n,f)){var v=m.memoizedProps;if(a=a.compare,a=a!==null?a:fl,a(v,l)&&n.ref===r.ref)return ar(n,r,f)}return r.flags|=1,n=tr(m,l),n.ref=r.ref,n.return=r,r.child=n}function tv(n,r,a,l,f){if(n!==null){var m=n.memoizedProps;if(fl(m,l)&&n.ref===r.ref)if(Ie=!1,r.pendingProps=l=m,Wd(n,f))(n.flags&131072)!==0&&(Ie=!0);else return r.lanes=n.lanes,ar(n,r,f)}return Yd(n,r,a,l,f)}function ev(n,r,a,l){var f=l.children,m=n!==null?n.memoizedState:null;if(n===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(m=m!==null?m.baseLanes|a:a,n!==null){for(l=r.child=n.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~m}else l=0,r.child=null;return nv(n,r,m,a,l)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&vc(r,m!==null?m.cachePool:null),m!==null?r_(r,m):wd(),s_(r);else return l=r.lanes=536870912,nv(n,r,m!==null?m.baseLanes|a:a,a,l)}else m!==null?(vc(r,m.cachePool),r_(r,m),Xr(),r.memoizedState=null):(n!==null&&vc(r,null),wd(),Xr());return Ge(n,r,f,a),r.child}function Il(n,r){return n!==null&&n.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function nv(n,r,a,l,f){var m=pd();return m=m===null?null:{parent:Se._currentValue,pool:m},r.memoizedState={baseLanes:a,cachePool:m},n!==null&&vc(r,null),wd(),s_(r),n!==null&&Xa(n,r,l,!0),r.childLanes=f,null}function kc(n,r){return r=Lc({mode:r.mode,children:r.children},n.mode),r.ref=n.ref,n.child=r,r.return=n,r}function iv(n,r,a){return ta(r,n.child,null,a),n=kc(r,r.pendingProps),n.flags|=2,bn(r),r.memoizedState=null,n}function qb(n,r,a){var l=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,n===null){if(Bt){if(l.mode==="hidden")return n=kc(r,l),r.lanes=536870912,Il(null,n);if(bd(r),(n=se)?(n=g0(n,Pn),n=n!==null&&n.data==="&"?n:null,n!==null&&(r.memoizedState={dehydrated:n,treeContext:jr!==null?{id:Ni,overflow:xi}:null,retryLane:536870912,hydrationErrors:null},a=jy(n),a.return=r,r.child=a,He=r,se=null)):n=null,n===null)throw qr(r);return r.lanes=536870912,null}return kc(r,l)}var m=n.memoizedState;if(m!==null){var v=m.dehydrated;if(bd(r),f)if(r.flags&256)r.flags&=-257,r=iv(n,r,a);else if(r.memoizedState!==null)r.child=n.child,r.flags|=128,r=null;else throw Error(s(558));else if(Ie||Xa(n,r,a,!1),f=(a&n.childLanes)!==0,Ie||f){if(l=ie,l!==null&&(v=Xo(l,a),v!==0&&v!==m.retryLane))throw m.retryLane=v,Ys(n,v),pn(l,n,v),Gd;Yc(),r=iv(n,r,a)}else n=m.treeContext,se=jn(v.nextSibling),He=r,Bt=!0,Br=null,Pn=!1,n!==null&&Hy(r,n),r=kc(r,l),r.flags|=4096;return r}return n=tr(n.child,{mode:l.mode,children:l.children}),n.ref=r.ref,r.child=n,n.return=r,n}function Uc(n,r){var a=r.ref;if(a===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(r.flags|=4194816)}}function Yd(n,r,a,l,f){return $s(r),a=Rd(n,r,a,l,void 0,f),l=Id(),n!==null&&!Ie?(Cd(n,r,f),ar(n,r,f)):(Bt&&l&&od(r),r.flags|=1,Ge(n,r,a,f),r.child)}function rv(n,r,a,l,f,m){return $s(r),r.updateQueue=null,a=o_(r,l,a,f),a_(n),l=Id(),n!==null&&!Ie?(Cd(n,r,m),ar(n,r,m)):(Bt&&l&&od(r),r.flags|=1,Ge(n,r,a,m),r.child)}function sv(n,r,a,l,f){if($s(r),r.stateNode===null){var m=Fa,v=a.contextType;typeof v=="object"&&v!==null&&(m=Fe(v)),m=new a(l,m),r.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Hd,r.stateNode=m,m._reactInternals=r,m=r.stateNode,m.props=l,m.state=r.memoizedState,m.refs={},_d(r),v=a.contextType,m.context=typeof v=="object"&&v!==null?Fe(v):Fa,m.state=r.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(qd(r,a,v,l),m.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(v=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),v!==m.state&&Hd.enqueueReplaceState(m,m.state,null),wl(r,l,m,f),Tl(),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(n===null){m=r.stateNode;var A=r.memoizedProps,U=na(a,A);m.props=U;var X=m.context,et=a.contextType;v=Fa,typeof et=="object"&&et!==null&&(v=Fe(et));var st=a.getDerivedStateFromProps;et=typeof st=="function"||typeof m.getSnapshotBeforeUpdate=="function",A=r.pendingProps!==A,et||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(A||X!==v)&&G_(r,m,l,v),Fr=!1;var Z=r.memoizedState;m.state=Z,wl(r,l,m,f),Tl(),X=r.memoizedState,A||Z!==X||Fr?(typeof st=="function"&&(qd(r,a,st,l),X=r.memoizedState),(U=Fr||F_(r,a,U,l,Z,X,v))?(et||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(r.flags|=4194308)):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=X),m.props=l,m.state=X,m.context=v,l=U):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{m=r.stateNode,vd(n,r),v=r.memoizedProps,et=na(a,v),m.props=et,st=r.pendingProps,Z=m.context,X=a.contextType,U=Fa,typeof X=="object"&&X!==null&&(U=Fe(X)),A=a.getDerivedStateFromProps,(X=typeof A=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(v!==st||Z!==U)&&G_(r,m,l,U),Fr=!1,Z=r.memoizedState,m.state=Z,wl(r,l,m,f),Tl();var tt=r.memoizedState;v!==st||Z!==tt||Fr||n!==null&&n.dependencies!==null&&yc(n.dependencies)?(typeof A=="function"&&(qd(r,a,A,l),tt=r.memoizedState),(et=Fr||F_(r,a,et,l,Z,tt,U)||n!==null&&n.dependencies!==null&&yc(n.dependencies))?(X||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,tt,U),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,tt,U)),typeof m.componentDidUpdate=="function"&&(r.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof m.componentDidUpdate!="function"||v===n.memoizedProps&&Z===n.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===n.memoizedProps&&Z===n.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=tt),m.props=l,m.state=tt,m.context=U,l=et):(typeof m.componentDidUpdate!="function"||v===n.memoizedProps&&Z===n.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===n.memoizedProps&&Z===n.memoizedState||(r.flags|=1024),l=!1)}return m=l,Uc(n,r),l=(r.flags&128)!==0,m||l?(m=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),r.flags|=1,n!==null&&l?(r.child=ta(r,n.child,null,f),r.child=ta(r,null,a,f)):Ge(n,r,a,f),r.memoizedState=m.state,n=r.child):n=ar(n,r,f),n}function av(n,r,a,l){return Xs(),r.flags|=256,Ge(n,r,a,l),r.child}var Qd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xd(n){return{baseLanes:n,cachePool:Ky()}}function Kd(n,r,a){return n=n!==null?n.childLanes&~a:0,r&&(n|=Rn),n}function ov(n,r,a){var l=r.pendingProps,f=!1,m=(r.flags&128)!==0,v;if((v=m)||(v=n!==null&&n.memoizedState===null?!1:(ye.current&2)!==0),v&&(f=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,n===null){if(Bt){if(f?Qr(r):Xr(),(n=se)?(n=g0(n,Pn),n=n!==null&&n.data!=="&"?n:null,n!==null&&(r.memoizedState={dehydrated:n,treeContext:jr!==null?{id:Ni,overflow:xi}:null,retryLane:536870912,hydrationErrors:null},a=jy(n),a.return=r,r.child=a,He=r,se=null)):n=null,n===null)throw qr(r);return Dm(n)?r.lanes=32:r.lanes=536870912,null}var A=l.children;return l=l.fallback,f?(Xr(),f=r.mode,A=Lc({mode:"hidden",children:A},f),l=Qs(l,f,a,null),A.return=r,l.return=r,A.sibling=l,r.child=A,l=r.child,l.memoizedState=Xd(a),l.childLanes=Kd(n,v,a),r.memoizedState=Qd,Il(null,l)):(Qr(r),$d(r,A))}var U=n.memoizedState;if(U!==null&&(A=U.dehydrated,A!==null)){if(m)r.flags&256?(Qr(r),r.flags&=-257,r=Zd(n,r,a)):r.memoizedState!==null?(Xr(),r.child=n.child,r.flags|=128,r=null):(Xr(),A=l.fallback,f=r.mode,l=Lc({mode:"visible",children:l.children},f),A=Qs(A,f,a,null),A.flags|=2,l.return=r,A.return=r,l.sibling=A,r.child=l,ta(r,n.child,null,a),l=r.child,l.memoizedState=Xd(a),l.childLanes=Kd(n,v,a),r.memoizedState=Qd,r=Il(null,l));else if(Qr(r),Dm(A)){if(v=A.nextSibling&&A.nextSibling.dataset,v)var X=v.dgst;v=X,l=Error(s(419)),l.stack="",l.digest=v,gl({value:l,source:null,stack:null}),r=Zd(n,r,a)}else if(Ie||Xa(n,r,a,!1),v=(a&n.childLanes)!==0,Ie||v){if(v=ie,v!==null&&(l=Xo(v,a),l!==0&&l!==U.retryLane))throw U.retryLane=l,Ys(n,l),pn(v,n,l),Gd;xm(A)||Yc(),r=Zd(n,r,a)}else xm(A)?(r.flags|=192,r.child=n.child,r=null):(n=U.treeContext,se=jn(A.nextSibling),He=r,Bt=!0,Br=null,Pn=!1,n!==null&&Hy(r,n),r=$d(r,l.children),r.flags|=4096);return r}return f?(Xr(),A=l.fallback,f=r.mode,U=n.child,X=U.sibling,l=tr(U,{mode:"hidden",children:l.children}),l.subtreeFlags=U.subtreeFlags&65011712,X!==null?A=tr(X,A):(A=Qs(A,f,a,null),A.flags|=2),A.return=r,l.return=r,l.sibling=A,r.child=l,Il(null,l),l=r.child,A=n.child.memoizedState,A===null?A=Xd(a):(f=A.cachePool,f!==null?(U=Se._currentValue,f=f.parent!==U?{parent:U,pool:U}:f):f=Ky(),A={baseLanes:A.baseLanes|a,cachePool:f}),l.memoizedState=A,l.childLanes=Kd(n,v,a),r.memoizedState=Qd,Il(n.child,l)):(Qr(r),a=n.child,n=a.sibling,a=tr(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,n!==null&&(v=r.deletions,v===null?(r.deletions=[n],r.flags|=16):v.push(n)),r.child=a,r.memoizedState=null,a)}function $d(n,r){return r=Lc({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function Lc(n,r){return n=wn(22,n,null,r),n.lanes=0,n}function Zd(n,r,a){return ta(r,n.child,null,a),n=$d(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function lv(n,r,a){n.lanes|=r;var l=n.alternate;l!==null&&(l.lanes|=r),fd(n.return,r,a)}function Jd(n,r,a,l,f,m){var v=n.memoizedState;v===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:m}:(v.isBackwards=r,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=a,v.tailMode=f,v.treeForkCount=m)}function uv(n,r,a){var l=r.pendingProps,f=l.revealOrder,m=l.tail;l=l.children;var v=ye.current,A=(v&2)!==0;if(A?(v=v&1|2,r.flags|=128):v&=1,lt(ye,v),Ge(n,r,l,a),l=Bt?ml:0,!A&&n!==null&&(n.flags&128)!==0)t:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&lv(n,a,r);else if(n.tag===19)lv(n,a,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break t;for(;n.sibling===null;){if(n.return===null||n.return===r)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(f){case"forwards":for(a=r.child,f=null;a!==null;)n=a.alternate,n!==null&&Sc(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),Jd(r,!1,f,a,m,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(n=f.alternate,n!==null&&Sc(n)===null){r.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}Jd(r,!0,a,null,m,l);break;case"together":Jd(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function ar(n,r,a){if(n!==null&&(r.dependencies=n.dependencies),Zr|=r.lanes,(a&r.childLanes)===0)if(n!==null){if(Xa(n,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(s(153));if(r.child!==null){for(n=r.child,a=tr(n,n.pendingProps),r.child=a,a.return=r;n.sibling!==null;)n=n.sibling,a=a.sibling=tr(n,n.pendingProps),a.return=r;a.sibling=null}return r.child}function Wd(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&yc(n)))}function Hb(n,r,a){switch(r.tag){case 3:Gt(r,r.stateNode.containerInfo),Hr(r,Se,n.memoizedState.cache),Xs();break;case 27:case 5:Ki(r);break;case 4:Gt(r,r.stateNode.containerInfo);break;case 10:Hr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,bd(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Qr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?ov(n,r,a):(Qr(r),n=ar(n,r,a),n!==null?n.sibling:null);Qr(r);break;case 19:var f=(n.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(Xa(n,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return uv(n,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),lt(ye,ye.current),l)break;return null;case 22:return r.lanes=0,ev(n,r,a,r.pendingProps);case 24:Hr(r,Se,n.memoizedState.cache)}return ar(n,r,a)}function cv(n,r,a){if(n!==null)if(n.memoizedProps!==r.pendingProps)Ie=!0;else{if(!Wd(n,a)&&(r.flags&128)===0)return Ie=!1,Hb(n,r,a);Ie=(n.flags&131072)!==0}else Ie=!1,Bt&&(r.flags&1048576)!==0&&qy(r,ml,r.index);switch(r.lanes=0,r.tag){case 16:t:{var l=r.pendingProps;if(n=Js(r.elementType),r.type=n,typeof n=="function")rd(n)?(l=na(n,l),r.tag=1,r=sv(null,r,n,l,a)):(r.tag=0,r=Yd(null,r,n,l,a));else{if(n!=null){var f=n.$$typeof;if(f===q){r.tag=11,r=J_(null,r,n,l,a);break t}else if(f===I){r.tag=14,r=W_(null,r,n,l,a);break t}}throw r=G(n)||n,Error(s(306,r,""))}}return r;case 0:return Yd(n,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=na(l,r.pendingProps),sv(n,r,l,f,a);case 3:t:{if(Gt(r,r.stateNode.containerInfo),n===null)throw Error(s(387));l=r.pendingProps;var m=r.memoizedState;f=m.element,vd(n,r),wl(r,l,null,a);var v=r.memoizedState;if(l=v.cache,Hr(r,Se,l),l!==m.cache&&dd(r,[Se],a,!0),Tl(),l=v.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=m,r.memoizedState=m,r.flags&256){r=av(n,r,l,a);break t}else if(l!==f){f=kn(Error(s(424)),r),gl(f),r=av(n,r,l,a);break t}else for(n=r.stateNode.containerInfo,n.nodeType===9?n=n.body:n=n.nodeName==="HTML"?n.ownerDocument.body:n,se=jn(n.firstChild),He=r,Bt=!0,Br=null,Pn=!0,a=e_(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Xs(),l===f){r=ar(n,r,a);break t}Ge(n,r,l,a)}r=r.child}return r;case 26:return Uc(n,r),n===null?(a=T0(r.type,null,r.pendingProps,null))?r.memoizedState=a:Bt||(a=r.type,n=r.pendingProps,l=Wc(Tt.current).createElement(a),l[we]=r,l[Le]=n,Ye(l,a,n),Ae(l),r.stateNode=l):r.memoizedState=T0(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return Ki(r),n===null&&Bt&&(l=r.stateNode=_0(r.type,r.pendingProps,Tt.current),He=r,Pn=!0,f=se,ns(r.type)?(Om=f,se=jn(l.firstChild)):se=f),Ge(n,r,r.pendingProps.children,a),Uc(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&Bt&&((f=l=se)&&(l=vS(l,r.type,r.pendingProps,Pn),l!==null?(r.stateNode=l,He=r,se=jn(l.firstChild),Pn=!1,f=!0):f=!1),f||qr(r)),Ki(r),f=r.type,m=r.pendingProps,v=n!==null?n.memoizedProps:null,l=m.children,Im(f,m)?l=null:v!==null&&Im(f,v)&&(r.flags|=32),r.memoizedState!==null&&(f=Rd(n,r,Vb,null,null,a),ql._currentValue=f),Uc(n,r),Ge(n,r,l,a),r.child;case 6:return n===null&&Bt&&((n=a=se)&&(a=ES(a,r.pendingProps,Pn),a!==null?(r.stateNode=a,He=r,se=null,n=!0):n=!1),n||qr(r)),null;case 13:return ov(n,r,a);case 4:return Gt(r,r.stateNode.containerInfo),l=r.pendingProps,n===null?r.child=ta(r,null,l,a):Ge(n,r,l,a),r.child;case 11:return J_(n,r,r.type,r.pendingProps,a);case 7:return Ge(n,r,r.pendingProps,a),r.child;case 8:return Ge(n,r,r.pendingProps.children,a),r.child;case 12:return Ge(n,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Hr(r,r.type,l.value),Ge(n,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,$s(r),f=Fe(f),l=l(f),r.flags|=1,Ge(n,r,l,a),r.child;case 14:return W_(n,r,r.type,r.pendingProps,a);case 15:return tv(n,r,r.type,r.pendingProps,a);case 19:return uv(n,r,a);case 31:return qb(n,r,a);case 22:return ev(n,r,a,r.pendingProps);case 24:return $s(r),l=Fe(Se),n===null?(f=pd(),f===null&&(f=ie,m=md(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=a),f=m),r.memoizedState={parent:l,cache:f},_d(r),Hr(r,Se,f)):((n.lanes&a)!==0&&(vd(n,r),wl(r,null,null,a),Tl()),f=n.memoizedState,m=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Hr(r,Se,l)):(l=m.cache,Hr(r,Se,l),l!==f.cache&&dd(r,[Se],a,!0))),Ge(n,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function or(n){n.flags|=4}function tm(n,r,a,l,f){if((r=(n.mode&32)!==0)&&(r=!1),r){if(n.flags|=16777216,(f&335544128)===f)if(n.stateNode.complete)n.flags|=8192;else if(Lv())n.flags|=8192;else throw Ws=Tc,yd}else n.flags&=-16777217}function hv(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!R0(r))if(Lv())n.flags|=8192;else throw Ws=Tc,yd}function Pc(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?Fu():536870912,n.lanes|=r,ao|=r)}function Cl(n,r){if(!Bt)switch(n.tailMode){case"hidden":r=n.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function ae(n){var r=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(r)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=a,r}function Fb(n,r,a){var l=r.pendingProps;switch(ld(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ae(r),null;case 1:return ae(r),null;case 3:return a=r.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),ir(Se),Xt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(Qa(r)?or(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,cd())),ae(r),null;case 26:var f=r.type,m=r.memoizedState;return n===null?(or(r),m!==null?(ae(r),hv(r,m)):(ae(r),tm(r,f,null,l,a))):m?m!==n.memoizedState?(or(r),ae(r),hv(r,m)):(ae(r),r.flags&=-16777217):(n=n.memoizedProps,n!==l&&or(r),ae(r),tm(r,f,n,l,a)),null;case 27:if(ci(r),a=Tt.current,f=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==l&&or(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ae(r),null}n=ct.current,Qa(r)?Fy(r):(n=_0(f,l,a),r.stateNode=n,or(r))}return ae(r),null;case 5:if(ci(r),f=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==l&&or(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ae(r),null}if(m=ct.current,Qa(r))Fy(r);else{var v=Wc(Tt.current);switch(m){case 1:m=v.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=v.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=v.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?m.multiple=!0:l.size&&(m.size=l.size);break;default:m=typeof l.is=="string"?v.createElement(f,{is:l.is}):v.createElement(f)}}m[we]=r,m[Le]=l;t:for(v=r.child;v!==null;){if(v.tag===5||v.tag===6)m.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===r)break t;for(;v.sibling===null;){if(v.return===null||v.return===r)break t;v=v.return}v.sibling.return=v.return,v=v.sibling}r.stateNode=m;t:switch(Ye(m,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&or(r)}}return ae(r),tm(r,r.type,n===null?null:n.memoizedProps,r.pendingProps,a),null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==l&&or(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(n=Tt.current,Qa(r)){if(n=r.stateNode,a=r.memoizedProps,l=null,f=He,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[we]=r,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||o0(n.nodeValue,a)),n||qr(r,!0)}else n=Wc(n).createTextNode(l),n[we]=r,r.stateNode=n}return ae(r),null;case 31:if(a=r.memoizedState,n===null||n.memoizedState!==null){if(l=Qa(r),a!==null){if(n===null){if(!l)throw Error(s(318));if(n=r.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(557));n[we]=r}else Xs(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ae(r),n=!1}else a=cd(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=a),n=!0;if(!n)return r.flags&256?(bn(r),r):(bn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return ae(r),null;case 13:if(l=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=Qa(r),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[we]=r}else Xs(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ae(r),f=!1}else f=cd(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(bn(r),r):(bn(r),null)}return bn(r),(r.flags&128)!==0?(r.lanes=a,r):(a=l!==null,n=n!==null&&n.memoizedState!==null,a&&(l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==f&&(l.flags|=2048)),a!==n&&a&&(r.child.flags|=8192),Pc(r,r.updateQueue),ae(r),null);case 4:return Xt(),n===null&&wm(r.stateNode.containerInfo),ae(r),null;case 10:return ir(r.type),ae(r),null;case 19:if($(ye),l=r.memoizedState,l===null)return ae(r),null;if(f=(r.flags&128)!==0,m=l.rendering,m===null)if(f)Cl(l,!1);else{if(fe!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(m=Sc(n),m!==null){for(r.flags|=128,Cl(l,!1),n=m.updateQueue,r.updateQueue=n,Pc(r,n),r.subtreeFlags=0,n=a,a=r.child;a!==null;)zy(a,n),a=a.sibling;return lt(ye,ye.current&1|2),Bt&&er(r,l.treeForkCount),r.child}n=n.sibling}l.tail!==null&&en()>Hc&&(r.flags|=128,f=!0,Cl(l,!1),r.lanes=4194304)}else{if(!f)if(n=Sc(m),n!==null){if(r.flags|=128,f=!0,n=n.updateQueue,r.updateQueue=n,Pc(r,n),Cl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!m.alternate&&!Bt)return ae(r),null}else 2*en()-l.renderingStartTime>Hc&&a!==536870912&&(r.flags|=128,f=!0,Cl(l,!1),r.lanes=4194304);l.isBackwards?(m.sibling=r.child,r.child=m):(n=l.last,n!==null?n.sibling=m:r.child=m,l.last=m)}return l.tail!==null?(n=l.tail,l.rendering=n,l.tail=n.sibling,l.renderingStartTime=en(),n.sibling=null,a=ye.current,lt(ye,f?a&1|2:a&1),Bt&&er(r,l.treeForkCount),n):(ae(r),null);case 22:case 23:return bn(r),Ad(),l=r.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(ae(r),r.subtreeFlags&6&&(r.flags|=8192)):ae(r),a=r.updateQueue,a!==null&&Pc(r,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),n!==null&&$(Zs),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),ir(Se),ae(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function Gb(n,r){switch(ld(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return ir(Se),Xt(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return ci(r),null;case 31:if(r.memoizedState!==null){if(bn(r),r.alternate===null)throw Error(s(340));Xs()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 13:if(bn(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Xs()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return $(ye),null;case 4:return Xt(),null;case 10:return ir(r.type),null;case 22:case 23:return bn(r),Ad(),n!==null&&$(Zs),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return ir(Se),null;case 25:return null;default:return null}}function fv(n,r){switch(ld(r),r.tag){case 3:ir(Se),Xt();break;case 26:case 27:case 5:ci(r);break;case 4:Xt();break;case 31:r.memoizedState!==null&&bn(r);break;case 13:bn(r);break;case 19:$(ye);break;case 10:ir(r.type);break;case 22:case 23:bn(r),Ad(),n!==null&&$(Zs);break;case 24:ir(Se)}}function Nl(n,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&n)===n){l=void 0;var m=a.create,v=a.inst;l=m(),v.destroy=l}a=a.next}while(a!==f)}}catch(A){Jt(r,r.return,A)}}function Kr(n,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var m=f.next;l=m;do{if((l.tag&n)===n){var v=l.inst,A=v.destroy;if(A!==void 0){v.destroy=void 0,f=r;var U=a,X=A;try{X()}catch(et){Jt(f,U,et)}}}l=l.next}while(l!==m)}}catch(et){Jt(r,r.return,et)}}function dv(n){var r=n.updateQueue;if(r!==null){var a=n.stateNode;try{i_(r,a)}catch(l){Jt(n,n.return,l)}}}function mv(n,r,a){a.props=na(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){Jt(n,r,l)}}function xl(n,r){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(f){Jt(n,r,f)}}function Di(n,r){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Jt(n,r,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Jt(n,r,f)}else a.current=null}function gv(n){var r=n.type,a=n.memoizedProps,l=n.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Jt(n,n.return,f)}}function em(n,r,a){try{var l=n.stateNode;dS(l,n.type,a,r),l[Le]=r}catch(f){Jt(n,n.return,f)}}function pv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&ns(n.type)||n.tag===4}function nm(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||pv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&ns(n.type)||n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function im(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(n),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Kn));else if(l!==4&&(l===27&&ns(n.type)&&(a=n.stateNode,r=null),n=n.child,n!==null))for(im(n,r,a),n=n.sibling;n!==null;)im(n,r,a),n=n.sibling}function zc(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?a.insertBefore(n,r):a.appendChild(n);else if(l!==4&&(l===27&&ns(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(zc(n,r,a),n=n.sibling;n!==null;)zc(n,r,a),n=n.sibling}function yv(n){var r=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);Ye(r,l,a),r[we]=n,r[Le]=a}catch(m){Jt(n,n.return,m)}}var lr=!1,Ce=!1,rm=!1,_v=typeof WeakSet=="function"?WeakSet:Set,ze=null;function Yb(n,r){if(n=n.containerInfo,Sm=ah,n=xy(n),Zf(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else t:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break t}var v=0,A=-1,U=-1,X=0,et=0,st=n,Z=null;e:for(;;){for(var tt;st!==a||f!==0&&st.nodeType!==3||(A=v+f),st!==m||l!==0&&st.nodeType!==3||(U=v+l),st.nodeType===3&&(v+=st.nodeValue.length),(tt=st.firstChild)!==null;)Z=st,st=tt;for(;;){if(st===n)break e;if(Z===a&&++X===f&&(A=v),Z===m&&++et===l&&(U=v),(tt=st.nextSibling)!==null)break;st=Z,Z=st.parentNode}st=tt}a=A===-1||U===-1?null:{start:A,end:U}}else a=null}a=a||{start:0,end:0}}else a=null;for(Rm={focusedElem:n,selectionRange:a},ah=!1,ze=r;ze!==null;)if(r=ze,n=r.child,(r.subtreeFlags&1028)!==0&&n!==null)n.return=r,ze=n;else for(;ze!==null;){switch(r=ze,m=r.alternate,n=r.flags,r.tag){case 0:if((n&4)!==0&&(n=r.updateQueue,n=n!==null?n.events:null,n!==null))for(a=0;a<n.length;a++)f=n[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&m!==null){n=void 0,a=r,f=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var _t=na(a.type,f);n=l.getSnapshotBeforeUpdate(_t,m),l.__reactInternalSnapshotBeforeUpdate=n}catch(bt){Jt(a,a.return,bt)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,a=n.nodeType,a===9)Nm(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Nm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=r.sibling,n!==null){n.return=r.return,ze=n;break}ze=r.return}}function vv(n,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:cr(n,a),l&4&&Nl(5,a);break;case 1:if(cr(n,a),l&4)if(n=a.stateNode,r===null)try{n.componentDidMount()}catch(v){Jt(a,a.return,v)}else{var f=na(a.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(f,r,n.__reactInternalSnapshotBeforeUpdate)}catch(v){Jt(a,a.return,v)}}l&64&&dv(a),l&512&&xl(a,a.return);break;case 3:if(cr(n,a),l&64&&(n=a.updateQueue,n!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{i_(n,r)}catch(v){Jt(a,a.return,v)}}break;case 27:r===null&&l&4&&yv(a);case 26:case 5:cr(n,a),r===null&&l&4&&gv(a),l&512&&xl(a,a.return);break;case 12:cr(n,a);break;case 31:cr(n,a),l&4&&wv(n,a);break;case 13:cr(n,a),l&4&&Av(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=eS.bind(null,a),TS(n,a))));break;case 22:if(l=a.memoizedState!==null||lr,!l){r=r!==null&&r.memoizedState!==null||Ce,f=lr;var m=Ce;lr=l,(Ce=r)&&!m?hr(n,a,(a.subtreeFlags&8772)!==0):cr(n,a),lr=f,Ce=m}break;case 30:break;default:cr(n,a)}}function Ev(n){var r=n.alternate;r!==null&&(n.alternate=null,Ev(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&xa(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var ue=null,fn=!1;function ur(n,r,a){for(a=a.child;a!==null;)Tv(n,r,a),a=a.sibling}function Tv(n,r,a){if(Be&&typeof Be.onCommitFiberUnmount=="function")try{Be.onCommitFiberUnmount(Gn,a)}catch{}switch(a.tag){case 26:Ce||Di(a,r),ur(n,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ce||Di(a,r);var l=ue,f=fn;ns(a.type)&&(ue=a.stateNode,fn=!1),ur(n,r,a),zl(a.stateNode),ue=l,fn=f;break;case 5:Ce||Di(a,r);case 6:if(l=ue,f=fn,ue=null,ur(n,r,a),ue=l,fn=f,ue!==null)if(fn)try{(ue.nodeType===9?ue.body:ue.nodeName==="HTML"?ue.ownerDocument.body:ue).removeChild(a.stateNode)}catch(m){Jt(a,r,m)}else try{ue.removeChild(a.stateNode)}catch(m){Jt(a,r,m)}break;case 18:ue!==null&&(fn?(n=ue,d0(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),go(n)):d0(ue,a.stateNode));break;case 4:l=ue,f=fn,ue=a.stateNode.containerInfo,fn=!0,ur(n,r,a),ue=l,fn=f;break;case 0:case 11:case 14:case 15:Kr(2,a,r),Ce||Kr(4,a,r),ur(n,r,a);break;case 1:Ce||(Di(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&mv(a,r,l)),ur(n,r,a);break;case 21:ur(n,r,a);break;case 22:Ce=(l=Ce)||a.memoizedState!==null,ur(n,r,a),Ce=l;break;default:ur(n,r,a)}}function wv(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{go(n)}catch(a){Jt(r,r.return,a)}}}function Av(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{go(n)}catch(a){Jt(r,r.return,a)}}function Qb(n){switch(n.tag){case 31:case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new _v),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new _v),r;default:throw Error(s(435,n.tag))}}function jc(n,r){var a=Qb(n);r.forEach(function(l){if(!a.has(l)){a.add(l);var f=nS.bind(null,n,l);l.then(f,f)}})}function dn(n,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],m=n,v=r,A=v;t:for(;A!==null;){switch(A.tag){case 27:if(ns(A.type)){ue=A.stateNode,fn=!1;break t}break;case 5:ue=A.stateNode,fn=!1;break t;case 3:case 4:ue=A.stateNode.containerInfo,fn=!0;break t}A=A.return}if(ue===null)throw Error(s(160));Tv(m,v,f),ue=null,fn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)bv(r,n),r=r.sibling}var ei=null;function bv(n,r){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:dn(r,n),mn(n),l&4&&(Kr(3,n,n.return),Nl(3,n),Kr(5,n,n.return));break;case 1:dn(r,n),mn(n),l&512&&(Ce||a===null||Di(a,a.return)),l&64&&lr&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=ei;if(dn(r,n),mn(n),l&512&&(Ce||a===null||Di(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){t:{l=n.type,a=n.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":m=f.getElementsByTagName("title")[0],(!m||m[yi]||m[we]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(l),f.head.insertBefore(m,f.querySelector("head > title"))),Ye(m,l,a),m[we]=n,Ae(m),l=m;break t;case"link":var v=b0("link","href",f).get(l+(a.href||""));if(v){for(var A=0;A<v.length;A++)if(m=v[A],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(A,1);break e}}m=f.createElement(l),Ye(m,l,a),f.head.appendChild(m);break;case"meta":if(v=b0("meta","content",f).get(l+(a.content||""))){for(A=0;A<v.length;A++)if(m=v[A],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(A,1);break e}}m=f.createElement(l),Ye(m,l,a),f.head.appendChild(m);break;default:throw Error(s(468,l))}m[we]=n,Ae(m),l=m}n.stateNode=l}else S0(f,n.type,n.stateNode);else n.stateNode=A0(f,l,n.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?S0(f,n.type,n.stateNode):A0(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&em(n,n.memoizedProps,a.memoizedProps)}break;case 27:dn(r,n),mn(n),l&512&&(Ce||a===null||Di(a,a.return)),a!==null&&l&4&&em(n,n.memoizedProps,a.memoizedProps);break;case 5:if(dn(r,n),mn(n),l&512&&(Ce||a===null||Di(a,a.return)),n.flags&32){f=n.stateNode;try{hn(f,"")}catch(_t){Jt(n,n.return,_t)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,em(n,f,a!==null?a.memoizedProps:f)),l&1024&&(rm=!0);break;case 6:if(dn(r,n),mn(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(_t){Jt(n,n.return,_t)}}break;case 3:if(nh=null,f=ei,ei=th(r.containerInfo),dn(r,n),ei=f,mn(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{go(r.containerInfo)}catch(_t){Jt(n,n.return,_t)}rm&&(rm=!1,Sv(n));break;case 4:l=ei,ei=th(n.stateNode.containerInfo),dn(r,n),mn(n),ei=l;break;case 12:dn(r,n),mn(n);break;case 31:dn(r,n),mn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,jc(n,l)));break;case 13:dn(r,n),mn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(qc=en()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,jc(n,l)));break;case 22:f=n.memoizedState!==null;var U=a!==null&&a.memoizedState!==null,X=lr,et=Ce;if(lr=X||f,Ce=et||U,dn(r,n),Ce=et,lr=X,mn(n),l&8192)t:for(r=n.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||U||lr||Ce||ia(n)),a=null,r=n;;){if(r.tag===5||r.tag===26){if(a===null){U=a=r;try{if(m=U.stateNode,f)v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{A=U.stateNode;var st=U.memoizedProps.style,Z=st!=null&&st.hasOwnProperty("display")?st.display:null;A.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(_t){Jt(U,U.return,_t)}}}else if(r.tag===6){if(a===null){U=r;try{U.stateNode.nodeValue=f?"":U.memoizedProps}catch(_t){Jt(U,U.return,_t)}}}else if(r.tag===18){if(a===null){U=r;try{var tt=U.stateNode;f?m0(tt,!0):m0(U.stateNode,!1)}catch(_t){Jt(U,U.return,_t)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break t;for(;r.sibling===null;){if(r.return===null||r.return===n)break t;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,jc(n,a))));break;case 19:dn(r,n),mn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,jc(n,l)));break;case 30:break;case 21:break;default:dn(r,n),mn(n)}}function mn(n){var r=n.flags;if(r&2){try{for(var a,l=n.return;l!==null;){if(pv(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,m=nm(n);zc(n,m,f);break;case 5:var v=a.stateNode;a.flags&32&&(hn(v,""),a.flags&=-33);var A=nm(n);zc(n,A,v);break;case 3:case 4:var U=a.stateNode.containerInfo,X=nm(n);im(n,X,U);break;default:throw Error(s(161))}}catch(et){Jt(n,n.return,et)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function Sv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;Sv(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function cr(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)vv(n,r.alternate,r),r=r.sibling}function ia(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:Kr(4,r,r.return),ia(r);break;case 1:Di(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&mv(r,r.return,a),ia(r);break;case 27:zl(r.stateNode);case 26:case 5:Di(r,r.return),ia(r);break;case 22:r.memoizedState===null&&ia(r);break;case 30:ia(r);break;default:ia(r)}n=n.sibling}}function hr(n,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=n,m=r,v=m.flags;switch(m.tag){case 0:case 11:case 15:hr(f,m,a),Nl(4,m);break;case 1:if(hr(f,m,a),l=m,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(X){Jt(l,l.return,X)}if(l=m,f=l.updateQueue,f!==null){var A=l.stateNode;try{var U=f.shared.hiddenCallbacks;if(U!==null)for(f.shared.hiddenCallbacks=null,f=0;f<U.length;f++)n_(U[f],A)}catch(X){Jt(l,l.return,X)}}a&&v&64&&dv(m),xl(m,m.return);break;case 27:yv(m);case 26:case 5:hr(f,m,a),a&&l===null&&v&4&&gv(m),xl(m,m.return);break;case 12:hr(f,m,a);break;case 31:hr(f,m,a),a&&v&4&&wv(f,m);break;case 13:hr(f,m,a),a&&v&4&&Av(f,m);break;case 22:m.memoizedState===null&&hr(f,m,a),xl(m,m.return);break;case 30:break;default:hr(f,m,a)}r=r.sibling}}function sm(n,r){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&pl(a))}function am(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&pl(n))}function ni(n,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Rv(n,r,a,l),r=r.sibling}function Rv(n,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:ni(n,r,a,l),f&2048&&Nl(9,r);break;case 1:ni(n,r,a,l);break;case 3:ni(n,r,a,l),f&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&pl(n)));break;case 12:if(f&2048){ni(n,r,a,l),n=r.stateNode;try{var m=r.memoizedProps,v=m.id,A=m.onPostCommit;typeof A=="function"&&A(v,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(U){Jt(r,r.return,U)}}else ni(n,r,a,l);break;case 31:ni(n,r,a,l);break;case 13:ni(n,r,a,l);break;case 23:break;case 22:m=r.stateNode,v=r.alternate,r.memoizedState!==null?m._visibility&2?ni(n,r,a,l):Dl(n,r):m._visibility&2?ni(n,r,a,l):(m._visibility|=2,io(n,r,a,l,(r.subtreeFlags&10256)!==0||!1)),f&2048&&sm(v,r);break;case 24:ni(n,r,a,l),f&2048&&am(r.alternate,r);break;default:ni(n,r,a,l)}}function io(n,r,a,l,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var m=n,v=r,A=a,U=l,X=v.flags;switch(v.tag){case 0:case 11:case 15:io(m,v,A,U,f),Nl(8,v);break;case 23:break;case 22:var et=v.stateNode;v.memoizedState!==null?et._visibility&2?io(m,v,A,U,f):Dl(m,v):(et._visibility|=2,io(m,v,A,U,f)),f&&X&2048&&sm(v.alternate,v);break;case 24:io(m,v,A,U,f),f&&X&2048&&am(v.alternate,v);break;default:io(m,v,A,U,f)}r=r.sibling}}function Dl(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=n,l=r,f=l.flags;switch(l.tag){case 22:Dl(a,l),f&2048&&sm(l.alternate,l);break;case 24:Dl(a,l),f&2048&&am(l.alternate,l);break;default:Dl(a,l)}r=r.sibling}}var Ol=8192;function ro(n,r,a){if(n.subtreeFlags&Ol)for(n=n.child;n!==null;)Iv(n,r,a),n=n.sibling}function Iv(n,r,a){switch(n.tag){case 26:ro(n,r,a),n.flags&Ol&&n.memoizedState!==null&&MS(a,ei,n.memoizedState,n.memoizedProps);break;case 5:ro(n,r,a);break;case 3:case 4:var l=ei;ei=th(n.stateNode.containerInfo),ro(n,r,a),ei=l;break;case 22:n.memoizedState===null&&(l=n.alternate,l!==null&&l.memoizedState!==null?(l=Ol,Ol=16777216,ro(n,r,a),Ol=l):ro(n,r,a));break;default:ro(n,r,a)}}function Cv(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function Ml(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];ze=l,xv(l,n)}Cv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Nv(n),n=n.sibling}function Nv(n){switch(n.tag){case 0:case 11:case 15:Ml(n),n.flags&2048&&Kr(9,n,n.return);break;case 3:Ml(n);break;case 12:Ml(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,Bc(n)):Ml(n);break;default:Ml(n)}}function Bc(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];ze=l,xv(l,n)}Cv(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:Kr(8,r,r.return),Bc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Bc(r));break;default:Bc(r)}n=n.sibling}}function xv(n,r){for(;ze!==null;){var a=ze;switch(a.tag){case 0:case 11:case 15:Kr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:pl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,ze=l;else t:for(a=n;ze!==null;){l=ze;var f=l.sibling,m=l.return;if(Ev(l),l===a){ze=null;break t}if(f!==null){f.return=m,ze=f;break t}ze=m}}}var Xb={getCacheForType:function(n){var r=Fe(Se),a=r.data.get(n);return a===void 0&&(a=n(),r.data.set(n,a)),a},cacheSignal:function(){return Fe(Se).controller.signal}},Kb=typeof WeakMap=="function"?WeakMap:Map,Qt=0,ie=null,Vt=null,Ut=0,Zt=0,Sn=null,$r=!1,so=!1,om=!1,fr=0,fe=0,Zr=0,ra=0,lm=0,Rn=0,ao=0,Vl=null,gn=null,um=!1,qc=0,Dv=0,Hc=1/0,Fc=null,Jr=null,ke=0,Wr=null,oo=null,dr=0,cm=0,hm=null,Ov=null,kl=0,fm=null;function In(){return(Qt&2)!==0&&Ut!==0?Ut&-Ut:P.T!==null?_m():Gu()}function Mv(){if(Rn===0)if((Ut&536870912)===0||Bt){var n=Ds;Ds<<=1,(Ds&3932160)===0&&(Ds=262144),Rn=n}else Rn=536870912;return n=An.current,n!==null&&(n.flags|=32),Rn}function pn(n,r,a){(n===ie&&(Zt===2||Zt===9)||n.cancelPendingCommit!==null)&&(lo(n,0),ts(n,Ut,Rn,!1)),Os(n,a),((Qt&2)===0||n!==ie)&&(n===ie&&((Qt&2)===0&&(ra|=a),fe===4&&ts(n,Ut,Rn,!1)),Oi(n))}function Vv(n,r,a){if((Qt&6)!==0)throw Error(s(327));var l=!a&&(r&127)===0&&(r&n.expiredLanes)===0||Yn(n,r),f=l?Jb(n,r):mm(n,r,!0),m=l;do{if(f===0){so&&!l&&ts(n,r,0,!1);break}else{if(a=n.current.alternate,m&&!$b(a)){f=mm(n,r,!1),m=!1;continue}if(f===2){if(m=r,n.errorRecoveryDisabledLanes&m)var v=0;else v=n.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;t:{var A=n;f=Vl;var U=A.current.memoizedState.isDehydrated;if(U&&(lo(A,v).flags|=256),v=mm(A,v,!1),v!==2){if(om&&!U){A.errorRecoveryDisabledLanes|=m,ra|=m,f=4;break t}m=gn,gn=f,m!==null&&(gn===null?gn=m:gn.push.apply(gn,m))}f=v}if(m=!1,f!==2)continue}}if(f===1){lo(n,0),ts(n,r,0,!0);break}t:{switch(l=n,m=f,m){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:ts(l,r,Rn,!$r);break t;case 2:gn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=qc+300-en(),10<f)){if(ts(l,r,Rn,!$r),mi(l,0,!0)!==0)break t;dr=r,l.timeoutHandle=h0(kv.bind(null,l,a,gn,Fc,um,r,Rn,ra,ao,$r,m,"Throttled",-0,0),f);break t}kv(l,a,gn,Fc,um,r,Rn,ra,ao,$r,m,null,-0,0)}}break}while(!0);Oi(n)}function kv(n,r,a,l,f,m,v,A,U,X,et,st,Z,tt){if(n.timeoutHandle=-1,st=r.subtreeFlags,st&8192||(st&16785408)===16785408){st={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Kn},Iv(r,m,st);var _t=(m&62914560)===m?qc-en():(m&4194048)===m?Dv-en():0;if(_t=VS(st,_t),_t!==null){dr=m,n.cancelPendingCommit=_t(Hv.bind(null,n,r,m,a,l,f,v,A,U,et,st,null,Z,tt)),ts(n,m,v,!X);return}}Hv(n,r,m,a,l,f,v,A,U)}function $b(n){for(var r=n;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],m=f.getSnapshot;f=f.value;try{if(!Tn(m(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ts(n,r,a,l){r&=~lm,r&=~ra,n.suspendedLanes|=r,n.pingedLanes&=~r,l&&(n.warmLanes|=r),l=n.expirationTimes;for(var f=r;0<f;){var m=31-ge(f),v=1<<m;l[m]=-1,f&=~v}a!==0&&Ms(n,a,r)}function Gc(){return(Qt&6)===0?(Ul(0),!1):!0}function dm(){if(Vt!==null){if(Zt===0)var n=Vt.return;else n=Vt,nr=Ks=null,Nd(n),Ja=null,_l=0,n=Vt;for(;n!==null;)fv(n.alternate,n),n=n.return;Vt=null}}function lo(n,r){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,pS(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),dr=0,dm(),ie=n,Vt=a=tr(n.current,null),Ut=r,Zt=0,Sn=null,$r=!1,so=Yn(n,r),om=!1,ao=Rn=lm=ra=Zr=fe=0,gn=Vl=null,um=!1,(r&8)!==0&&(r|=r&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=r;0<l;){var f=31-ge(l),m=1<<f;r|=n[f],l&=~m}return fr=r,fc(),a}function Uv(n,r){Ot=null,P.H=Rl,r===Za||r===Ec?(r=Jy(),Zt=3):r===yd?(r=Jy(),Zt=4):Zt=r===Gd?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Sn=r,Vt===null&&(fe=1,Vc(n,kn(r,n.current)))}function Lv(){var n=An.current;return n===null?!0:(Ut&4194048)===Ut?zn===null:(Ut&62914560)===Ut||(Ut&536870912)!==0?n===zn:!1}function Pv(){var n=P.H;return P.H=Rl,n===null?Rl:n}function zv(){var n=P.A;return P.A=Xb,n}function Yc(){fe=4,$r||(Ut&4194048)!==Ut&&An.current!==null||(so=!0),(Zr&134217727)===0&&(ra&134217727)===0||ie===null||ts(ie,Ut,Rn,!1)}function mm(n,r,a){var l=Qt;Qt|=2;var f=Pv(),m=zv();(ie!==n||Ut!==r)&&(Fc=null,lo(n,r)),r=!1;var v=fe;t:do try{if(Zt!==0&&Vt!==null){var A=Vt,U=Sn;switch(Zt){case 8:dm(),v=6;break t;case 3:case 2:case 9:case 6:An.current===null&&(r=!0);var X=Zt;if(Zt=0,Sn=null,uo(n,A,U,X),a&&so){v=0;break t}break;default:X=Zt,Zt=0,Sn=null,uo(n,A,U,X)}}Zb(),v=fe;break}catch(et){Uv(n,et)}while(!0);return r&&n.shellSuspendCounter++,nr=Ks=null,Qt=l,P.H=f,P.A=m,Vt===null&&(ie=null,Ut=0,fc()),v}function Zb(){for(;Vt!==null;)jv(Vt)}function Jb(n,r){var a=Qt;Qt|=2;var l=Pv(),f=zv();ie!==n||Ut!==r?(Fc=null,Hc=en()+500,lo(n,r)):so=Yn(n,r);t:do try{if(Zt!==0&&Vt!==null){r=Vt;var m=Sn;e:switch(Zt){case 1:Zt=0,Sn=null,uo(n,r,m,1);break;case 2:case 9:if($y(m)){Zt=0,Sn=null,Bv(r);break}r=function(){Zt!==2&&Zt!==9||ie!==n||(Zt=7),Oi(n)},m.then(r,r);break t;case 3:Zt=7;break t;case 4:Zt=5;break t;case 7:$y(m)?(Zt=0,Sn=null,Bv(r)):(Zt=0,Sn=null,uo(n,r,m,7));break;case 5:var v=null;switch(Vt.tag){case 26:v=Vt.memoizedState;case 5:case 27:var A=Vt;if(v?R0(v):A.stateNode.complete){Zt=0,Sn=null;var U=A.sibling;if(U!==null)Vt=U;else{var X=A.return;X!==null?(Vt=X,Qc(X)):Vt=null}break e}}Zt=0,Sn=null,uo(n,r,m,5);break;case 6:Zt=0,Sn=null,uo(n,r,m,6);break;case 8:dm(),fe=6;break t;default:throw Error(s(462))}}Wb();break}catch(et){Uv(n,et)}while(!0);return nr=Ks=null,P.H=l,P.A=f,Qt=a,Vt!==null?0:(ie=null,Ut=0,fc(),fe)}function Wb(){for(;Vt!==null&&!Ff();)jv(Vt)}function jv(n){var r=cv(n.alternate,n,fr);n.memoizedProps=n.pendingProps,r===null?Qc(n):Vt=r}function Bv(n){var r=n,a=r.alternate;switch(r.tag){case 15:case 0:r=rv(a,r,r.pendingProps,r.type,void 0,Ut);break;case 11:r=rv(a,r,r.pendingProps,r.type.render,r.ref,Ut);break;case 5:Nd(r);default:fv(a,r),r=Vt=zy(r,fr),r=cv(a,r,fr)}n.memoizedProps=n.pendingProps,r===null?Qc(n):Vt=r}function uo(n,r,a,l){nr=Ks=null,Nd(r),Ja=null,_l=0;var f=r.return;try{if(Bb(n,f,r,a,Ut)){fe=1,Vc(n,kn(a,n.current)),Vt=null;return}}catch(m){if(f!==null)throw Vt=f,m;fe=1,Vc(n,kn(a,n.current)),Vt=null;return}r.flags&32768?(Bt||l===1?n=!0:so||(Ut&536870912)!==0?n=!1:($r=n=!0,(l===2||l===9||l===3||l===6)&&(l=An.current,l!==null&&l.tag===13&&(l.flags|=16384))),qv(r,n)):Qc(r)}function Qc(n){var r=n;do{if((r.flags&32768)!==0){qv(r,$r);return}n=r.return;var a=Fb(r.alternate,r,fr);if(a!==null){Vt=a;return}if(r=r.sibling,r!==null){Vt=r;return}Vt=r=n}while(r!==null);fe===0&&(fe=5)}function qv(n,r){do{var a=Gb(n.alternate,n);if(a!==null){a.flags&=32767,Vt=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(n=n.sibling,n!==null)){Vt=n;return}Vt=n=a}while(n!==null);fe=6,Vt=null}function Hv(n,r,a,l,f,m,v,A,U){n.cancelPendingCommit=null;do Xc();while(ke!==0);if((Qt&6)!==0)throw Error(s(327));if(r!==null){if(r===n.current)throw Error(s(177));if(m=r.lanes|r.childLanes,m|=nd,Qf(n,a,m,v,A,U),n===ie&&(Vt=ie=null,Ut=0),oo=r,Wr=n,dr=a,cm=m,hm=f,Ov=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,iS(xr,function(){return Xv(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=P.T,P.T=null,f=H.p,H.p=2,v=Qt,Qt|=4;try{Yb(n,r,a)}finally{Qt=v,H.p=f,P.T=l}}ke=1,Fv(),Gv(),Yv()}}function Fv(){if(ke===1){ke=0;var n=Wr,r=oo,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=P.T,P.T=null;var l=H.p;H.p=2;var f=Qt;Qt|=4;try{bv(r,n);var m=Rm,v=xy(n.containerInfo),A=m.focusedElem,U=m.selectionRange;if(v!==A&&A&&A.ownerDocument&&Ny(A.ownerDocument.documentElement,A)){if(U!==null&&Zf(A)){var X=U.start,et=U.end;if(et===void 0&&(et=X),"selectionStart"in A)A.selectionStart=X,A.selectionEnd=Math.min(et,A.value.length);else{var st=A.ownerDocument||document,Z=st&&st.defaultView||window;if(Z.getSelection){var tt=Z.getSelection(),_t=A.textContent.length,bt=Math.min(U.start,_t),ne=U.end===void 0?bt:Math.min(U.end,_t);!tt.extend&&bt>ne&&(v=ne,ne=bt,bt=v);var F=Cy(A,bt),j=Cy(A,ne);if(F&&j&&(tt.rangeCount!==1||tt.anchorNode!==F.node||tt.anchorOffset!==F.offset||tt.focusNode!==j.node||tt.focusOffset!==j.offset)){var Q=st.createRange();Q.setStart(F.node,F.offset),tt.removeAllRanges(),bt>ne?(tt.addRange(Q),tt.extend(j.node,j.offset)):(Q.setEnd(j.node,j.offset),tt.addRange(Q))}}}}for(st=[],tt=A;tt=tt.parentNode;)tt.nodeType===1&&st.push({element:tt,left:tt.scrollLeft,top:tt.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<st.length;A++){var nt=st[A];nt.element.scrollLeft=nt.left,nt.element.scrollTop=nt.top}}ah=!!Sm,Rm=Sm=null}finally{Qt=f,H.p=l,P.T=a}}n.current=r,ke=2}}function Gv(){if(ke===2){ke=0;var n=Wr,r=oo,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=P.T,P.T=null;var l=H.p;H.p=2;var f=Qt;Qt|=4;try{vv(n,r.alternate,r)}finally{Qt=f,H.p=l,P.T=a}}ke=3}}function Yv(){if(ke===4||ke===3){ke=0,Pu();var n=Wr,r=oo,a=dr,l=Ov;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?ke=5:(ke=0,oo=Wr=null,Qv(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(Jr=null),$i(a),r=r.stateNode,Be&&typeof Be.onCommitFiberRoot=="function")try{Be.onCommitFiberRoot(Gn,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=P.T,f=H.p,H.p=2,P.T=null;try{for(var m=n.onRecoverableError,v=0;v<l.length;v++){var A=l[v];m(A.value,{componentStack:A.stack})}}finally{P.T=r,H.p=f}}(dr&3)!==0&&Xc(),Oi(n),f=n.pendingLanes,(a&261930)!==0&&(f&42)!==0?n===fm?kl++:(kl=0,fm=n):kl=0,Ul(0)}}function Qv(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,pl(r)))}function Xc(){return Fv(),Gv(),Yv(),Xv()}function Xv(){if(ke!==5)return!1;var n=Wr,r=cm;cm=0;var a=$i(dr),l=P.T,f=H.p;try{H.p=32>a?32:a,P.T=null,a=hm,hm=null;var m=Wr,v=dr;if(ke=0,oo=Wr=null,dr=0,(Qt&6)!==0)throw Error(s(331));var A=Qt;if(Qt|=4,Nv(m.current),Rv(m,m.current,v,a),Qt=A,Ul(0,!1),Be&&typeof Be.onPostCommitFiberRoot=="function")try{Be.onPostCommitFiberRoot(Gn,m)}catch{}return!0}finally{H.p=f,P.T=l,Qv(n,r)}}function Kv(n,r,a){r=kn(a,r),r=Fd(n.stateNode,r,2),n=Yr(n,r,2),n!==null&&(Os(n,2),Oi(n))}function Jt(n,r,a){if(n.tag===3)Kv(n,n,a);else for(;r!==null;){if(r.tag===3){Kv(r,n,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Jr===null||!Jr.has(l))){n=kn(a,n),a=$_(2),l=Yr(r,a,2),l!==null&&(Z_(a,l,r,n),Os(l,2),Oi(l));break}}r=r.return}}function gm(n,r,a){var l=n.pingCache;if(l===null){l=n.pingCache=new Kb;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(om=!0,f.add(a),n=tS.bind(null,n,r,a),r.then(n,n))}function tS(n,r,a){var l=n.pingCache;l!==null&&l.delete(r),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,ie===n&&(Ut&a)===a&&(fe===4||fe===3&&(Ut&62914560)===Ut&&300>en()-qc?(Qt&2)===0&&lo(n,0):lm|=a,ao===Ut&&(ao=0)),Oi(n)}function $v(n,r){r===0&&(r=Fu()),n=Ys(n,r),n!==null&&(Os(n,r),Oi(n))}function eS(n){var r=n.memoizedState,a=0;r!==null&&(a=r.retryLane),$v(n,a)}function nS(n,r){var a=0;switch(n.tag){case 31:case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),$v(n,a)}function iS(n,r){return Ve(n,r)}var Kc=null,co=null,pm=!1,$c=!1,ym=!1,es=0;function Oi(n){n!==co&&n.next===null&&(co===null?Kc=co=n:co=co.next=n),$c=!0,pm||(pm=!0,sS())}function Ul(n,r){if(!ym&&$c){ym=!0;do for(var a=!1,l=Kc;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var m=0;else{var v=l.suspendedLanes,A=l.pingedLanes;m=(1<<31-ge(42|n)+1)-1,m&=f&~(v&~A),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,t0(l,m))}else m=Ut,m=mi(l,l===ie?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||Yn(l,m)||(a=!0,t0(l,m));l=l.next}while(a);ym=!1}}function rS(){Zv()}function Zv(){$c=pm=!1;var n=0;es!==0&&gS()&&(n=es);for(var r=en(),a=null,l=Kc;l!==null;){var f=l.next,m=Jv(l,r);m===0?(l.next=null,a===null?Kc=f:a.next=f,f===null&&(co=a)):(a=l,(n!==0||(m&3)!==0)&&($c=!0)),l=f}ke!==0&&ke!==5||Ul(n),es!==0&&(es=0)}function Jv(n,r){for(var a=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var v=31-ge(m),A=1<<v,U=f[v];U===-1?((A&a)===0||(A&l)!==0)&&(f[v]=Yf(A,r)):U<=r&&(n.expiredLanes|=A),m&=~A}if(r=ie,a=Ut,a=mi(n,n===r?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===r&&(Zt===2||Zt===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&Nr(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||Yn(n,a)){if(r=a&-a,r===n.callbackPriority)return r;switch(l!==null&&Nr(l),$i(a)){case 2:case 8:a=Yo;break;case 32:a=xr;break;case 268435456:a=zu;break;default:a=xr}return l=Wv.bind(null,n),a=Ve(a,l),n.callbackPriority=r,n.callbackNode=a,r}return l!==null&&l!==null&&Nr(l),n.callbackPriority=2,n.callbackNode=null,2}function Wv(n,r){if(ke!==0&&ke!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(Xc()&&n.callbackNode!==a)return null;var l=Ut;return l=mi(n,n===ie?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(Vv(n,l,r),Jv(n,en()),n.callbackNode!=null&&n.callbackNode===a?Wv.bind(null,n):null)}function t0(n,r){if(Xc())return null;Vv(n,r,!0)}function sS(){yS(function(){(Qt&6)!==0?Ve(Go,rS):Zv()})}function _m(){if(es===0){var n=Ka;n===0&&(n=fi,fi<<=1,(fi&261888)===0&&(fi=256)),es=n}return es}function e0(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Va(""+n)}function n0(n,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,n.id&&a.setAttribute("form",n.id),r.parentNode.insertBefore(a,r),n=new FormData(n),a.parentNode.removeChild(a),n}function aS(n,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var m=e0((f[Le]||null).action),v=l.submitter;v&&(r=(r=v[Le]||null)?e0(r.formAction):v.getAttribute("formAction"),r!==null&&(m=r,v=null));var A=new Si("action","action",null,l,f);n.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(es!==0){var U=v?n0(f,v):new FormData(f);Pd(a,{pending:!0,data:U,method:f.method,action:m},null,U)}}else typeof m=="function"&&(A.preventDefault(),U=v?n0(f,v):new FormData(f),Pd(a,{pending:!0,data:U,method:f.method,action:m},m,U))},currentTarget:f}]})}}for(var vm=0;vm<ed.length;vm++){var Em=ed[vm],oS=Em.toLowerCase(),lS=Em[0].toUpperCase()+Em.slice(1);ti(oS,"on"+lS)}ti(My,"onAnimationEnd"),ti(Vy,"onAnimationIteration"),ti(ky,"onAnimationStart"),ti("dblclick","onDoubleClick"),ti("focusin","onFocus"),ti("focusout","onBlur"),ti(bb,"onTransitionRun"),ti(Sb,"onTransitionStart"),ti(Rb,"onTransitionCancel"),ti(Uy,"onTransitionEnd"),Ti("onMouseEnter",["mouseout","mouseover"]),Ti("onMouseLeave",["mouseout","mouseover"]),Ti("onPointerEnter",["pointerout","pointerover"]),Ti("onPointerLeave",["pointerout","pointerover"]),Ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ei("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ll));function i0(n,r){r=(r&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],f=l.event;l=l.listeners;t:{var m=void 0;if(r)for(var v=l.length-1;0<=v;v--){var A=l[v],U=A.instance,X=A.currentTarget;if(A=A.listener,U!==m&&f.isPropagationStopped())break t;m=A,f.currentTarget=X;try{m(f)}catch(et){hc(et)}f.currentTarget=null,m=U}else for(v=0;v<l.length;v++){if(A=l[v],U=A.instance,X=A.currentTarget,A=A.listener,U!==m&&f.isPropagationStopped())break t;m=A,f.currentTarget=X;try{m(f)}catch(et){hc(et)}f.currentTarget=null,m=U}}}}function kt(n,r){var a=r[Na];a===void 0&&(a=r[Na]=new Set);var l=n+"__bubble";a.has(l)||(r0(r,n,2,!1),a.add(l))}function Tm(n,r,a){var l=0;r&&(l|=4),r0(a,n,l,r)}var Zc="_reactListening"+Math.random().toString(36).slice(2);function wm(n){if(!n[Zc]){n[Zc]=!0,Ko.forEach(function(a){a!=="selectionchange"&&(uS.has(a)||Tm(a,!1,n),Tm(a,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[Zc]||(r[Zc]=!0,Tm("selectionchange",!1,r))}}function r0(n,r,a,l){switch(M0(r)){case 2:var f=LS;break;case 8:f=PS;break;default:f=Lm}a=f.bind(null,r,a,n),f=void 0,!Ps||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(r,a,{capture:!0,passive:f}):n.addEventListener(r,a,!0):f!==void 0?n.addEventListener(r,a,{passive:f}):n.addEventListener(r,a,!1)}function Am(n,r,a,l,f){var m=l;if((r&1)===0&&(r&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var A=l.stateNode.containerInfo;if(A===f)break;if(v===4)for(v=l.return;v!==null;){var U=v.tag;if((U===3||U===4)&&v.stateNode.containerInfo===f)return;v=v.return}for(;A!==null;){if(v=_i(A),v===null)return;if(U=v.tag,U===5||U===6||U===26||U===27){l=m=v;continue t}A=A.parentNode}}l=l.return}Ur(function(){var X=m,et=Dn(a),st=[];t:{var Z=Ly.get(n);if(Z!==void 0){var tt=Si,_t=n;switch(n){case"keypress":if(js(a)===0)break t;case"keydown":case"keyup":tt=lc;break;case"focusin":_t="focus",tt=qs;break;case"focusout":_t="blur",tt=qs;break;case"beforeblur":case"afterblur":tt=qs;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":tt=ll;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":tt=Wu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":tt=y;break;case My:case Vy:case ky:tt=ec;break;case Uy:tt=b;break;case"scroll":case"scrollend":tt=ol;break;case"wheel":tt=W;break;case"copy":case"cut":case"paste":tt=nc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":tt=Wi;break;case"toggle":case"beforetoggle":tt=Dt}var bt=(r&4)!==0,ne=!bt&&(n==="scroll"||n==="scrollend"),F=bt?Z!==null?Z+"Capture":null:Z;bt=[];for(var j=X,Q;j!==null;){var nt=j;if(Q=nt.stateNode,nt=nt.tag,nt!==5&&nt!==26&&nt!==27||Q===null||F===null||(nt=$n(j,F),nt!=null&&bt.push(Pl(j,nt,Q))),ne)break;j=j.return}0<bt.length&&(Z=new tt(Z,_t,null,a,et),st.push({event:Z,listeners:bt}))}}if((r&7)===0){t:{if(Z=n==="mouseover"||n==="pointerover",tt=n==="mouseout"||n==="pointerout",Z&&a!==rl&&(_t=a.relatedTarget||a.fromElement)&&(_i(_t)||_t[pi]))break t;if((tt||Z)&&(Z=et.window===et?et:(Z=et.ownerDocument)?Z.defaultView||Z.parentWindow:window,tt?(_t=a.relatedTarget||a.toElement,tt=X,_t=_t?_i(_t):null,_t!==null&&(ne=u(_t),bt=_t.tag,_t!==ne||bt!==5&&bt!==27&&bt!==6)&&(_t=null)):(tt=null,_t=X),tt!==_t)){if(bt=ll,nt="onMouseLeave",F="onMouseEnter",j="mouse",(n==="pointerout"||n==="pointerover")&&(bt=Wi,nt="onPointerLeave",F="onPointerEnter",j="pointer"),ne=tt==null?Z:vn(tt),Q=_t==null?Z:vn(_t),Z=new bt(nt,j+"leave",tt,a,et),Z.target=ne,Z.relatedTarget=Q,nt=null,_i(et)===X&&(bt=new bt(F,j+"enter",_t,a,et),bt.target=Q,bt.relatedTarget=ne,nt=bt),ne=nt,tt&&_t)e:{for(bt=cS,F=tt,j=_t,Q=0,nt=F;nt;nt=bt(nt))Q++;nt=0;for(var wt=j;wt;wt=bt(wt))nt++;for(;0<Q-nt;)F=bt(F),Q--;for(;0<nt-Q;)j=bt(j),nt--;for(;Q--;){if(F===j||j!==null&&F===j.alternate){bt=F;break e}F=bt(F),j=bt(j)}bt=null}else bt=null;tt!==null&&s0(st,Z,tt,bt,!1),_t!==null&&ne!==null&&s0(st,ne,_t,bt,!0)}}t:{if(Z=X?vn(X):window,tt=Z.nodeName&&Z.nodeName.toLowerCase(),tt==="select"||tt==="input"&&Z.type==="file")var Ht=wy;else if(Ey(Z))if(Ay)Ht=Tb;else{Ht=vb;var Et=_b}else tt=Z.nodeName,!tt||tt.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?X&&Ma(X.elementType)&&(Ht=wy):Ht=Eb;if(Ht&&(Ht=Ht(n,X))){Ty(st,Ht,a,et);break t}Et&&Et(n,Z,X),n==="focusout"&&X&&Z.type==="number"&&X.memoizedProps.value!=null&&el(Z,"number",Z.value)}switch(Et=X?vn(X):window,n){case"focusin":(Ey(Et)||Et.contentEditable==="true")&&(Ba=Et,Jf=X,dl=null);break;case"focusout":dl=Jf=Ba=null;break;case"mousedown":Wf=!0;break;case"contextmenu":case"mouseup":case"dragend":Wf=!1,Dy(st,a,et);break;case"selectionchange":if(Ab)break;case"keydown":case"keyup":Dy(st,a,et)}var Mt;if(Yt)t:{switch(n){case"compositionstart":var Lt="onCompositionStart";break t;case"compositionend":Lt="onCompositionEnd";break t;case"compositionupdate":Lt="onCompositionUpdate";break t}Lt=void 0}else ja?Hs(n,a)&&(Lt="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Lt="onCompositionStart");Lt&&(Ci&&a.locale!=="ko"&&(ja||Lt!=="onCompositionStart"?Lt==="onCompositionEnd"&&ja&&(Mt=al()):(bi=et,sl="value"in bi?bi.value:bi.textContent,ja=!0)),Et=Jc(X,Lt),0<Et.length&&(Lt=new Ii(Lt,n,null,a,et),st.push({event:Lt,listeners:Et}),Mt?Lt.data=Mt:(Mt=za(a),Mt!==null&&(Lt.data=Mt)))),(Mt=Mn?mb(n,a):gb(n,a))&&(Lt=Jc(X,"onBeforeInput"),0<Lt.length&&(Et=new Ii("onBeforeInput","beforeinput",null,a,et),st.push({event:Et,listeners:Lt}),Et.data=Mt)),aS(st,n,X,a,et)}i0(st,r)})}function Pl(n,r,a){return{instance:n,listener:r,currentTarget:a}}function Jc(n,r){for(var a=r+"Capture",l=[];n!==null;){var f=n,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=$n(n,a),f!=null&&l.unshift(Pl(n,f,m)),f=$n(n,r),f!=null&&l.push(Pl(n,f,m))),n.tag===3)return l;n=n.return}return[]}function cS(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function s0(n,r,a,l,f){for(var m=r._reactName,v=[];a!==null&&a!==l;){var A=a,U=A.alternate,X=A.stateNode;if(A=A.tag,U!==null&&U===l)break;A!==5&&A!==26&&A!==27||X===null||(U=X,f?(X=$n(a,m),X!=null&&v.unshift(Pl(a,X,U))):f||(X=$n(a,m),X!=null&&v.push(Pl(a,X,U)))),a=a.return}v.length!==0&&n.push({event:r,listeners:v})}var hS=/\r\n?/g,fS=/\u0000|\uFFFD/g;function a0(n){return(typeof n=="string"?n:""+n).replace(hS,`
`).replace(fS,"")}function o0(n,r){return r=a0(r),a0(n)===r}function ee(n,r,a,l,f,m){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||hn(n,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&hn(n,""+l);break;case"className":En(n,"class",l);break;case"tabIndex":En(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":En(n,a,l);break;case"style":il(n,l,m);break;case"data":if(r!=="object"){En(n,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Va(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(r!=="input"&&ee(n,r,"name",f.name,f,null),ee(n,r,"formEncType",f.formEncType,f,null),ee(n,r,"formMethod",f.formMethod,f,null),ee(n,r,"formTarget",f.formTarget,f,null)):(ee(n,r,"encType",f.encType,f,null),ee(n,r,"method",f.method,f,null),ee(n,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Va(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=Kn);break;case"onScroll":l!=null&&kt("scroll",n);break;case"onScrollEnd":l!=null&&kt("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=Va(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":kt("beforetoggle",n),kt("toggle",n),Da(n,"popover",l);break;case"xlinkActuate":be(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":be(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":be(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":be(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":be(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":be(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":be(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":be(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":be(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Da(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ju.get(a)||a,Da(n,a,l))}}function bm(n,r,a,l,f,m){switch(a){case"style":il(n,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?hn(n,l):(typeof l=="number"||typeof l=="bigint")&&hn(n,""+l);break;case"onScroll":l!=null&&kt("scroll",n);break;case"onScrollEnd":l!=null&&kt("scrollend",n);break;case"onClick":l!=null&&(n.onclick=Kn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!$o.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),m=n[Le]||null,m=m!=null?m[a]:null,typeof m=="function"&&n.removeEventListener(r,m,f),typeof l=="function")){typeof m!="function"&&m!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(r,l,f);break t}a in n?n[a]=l:l===!0?n.setAttribute(a,""):Da(n,a,l)}}}function Ye(n,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":kt("error",n),kt("load",n);var l=!1,f=!1,m;for(m in a)if(a.hasOwnProperty(m)){var v=a[m];if(v!=null)switch(m){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:ee(n,r,m,v,a,null)}}f&&ee(n,r,"srcSet",a.srcSet,a,null),l&&ee(n,r,"src",a.src,a,null);return;case"input":kt("invalid",n);var A=m=v=f=null,U=null,X=null;for(l in a)if(a.hasOwnProperty(l)){var et=a[l];if(et!=null)switch(l){case"name":f=et;break;case"type":v=et;break;case"checked":U=et;break;case"defaultChecked":X=et;break;case"value":m=et;break;case"defaultValue":A=et;break;case"children":case"dangerouslySetInnerHTML":if(et!=null)throw Error(s(137,r));break;default:ee(n,r,l,et,a,null)}}Ku(n,m,A,U,X,v,f,!1);return;case"select":kt("invalid",n),l=v=m=null;for(f in a)if(a.hasOwnProperty(f)&&(A=a[f],A!=null))switch(f){case"value":m=A;break;case"defaultValue":v=A;break;case"multiple":l=A;default:ee(n,r,f,A,a,null)}r=m,a=v,n.multiple=!!l,r!=null?Or(n,!!l,r,!1):a!=null&&Or(n,!!l,a,!0);return;case"textarea":kt("invalid",n),m=f=l=null;for(v in a)if(a.hasOwnProperty(v)&&(A=a[v],A!=null))switch(v){case"value":l=A;break;case"defaultValue":f=A;break;case"children":m=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:ee(n,r,v,A,a,null)}Mr(n,l,f,m);return;case"option":for(U in a)a.hasOwnProperty(U)&&(l=a[U],l!=null)&&(U==="selected"?n.selected=l&&typeof l!="function"&&typeof l!="symbol":ee(n,r,U,l,a,null));return;case"dialog":kt("beforetoggle",n),kt("toggle",n),kt("cancel",n),kt("close",n);break;case"iframe":case"object":kt("load",n);break;case"video":case"audio":for(l=0;l<Ll.length;l++)kt(Ll[l],n);break;case"image":kt("error",n),kt("load",n);break;case"details":kt("toggle",n);break;case"embed":case"source":case"link":kt("error",n),kt("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in a)if(a.hasOwnProperty(X)&&(l=a[X],l!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:ee(n,r,X,l,a,null)}return;default:if(Ma(r)){for(et in a)a.hasOwnProperty(et)&&(l=a[et],l!==void 0&&bm(n,r,et,l,a,void 0));return}}for(A in a)a.hasOwnProperty(A)&&(l=a[A],l!=null&&ee(n,r,A,l,a,null))}function dS(n,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,v=null,A=null,U=null,X=null,et=null;for(tt in a){var st=a[tt];if(a.hasOwnProperty(tt)&&st!=null)switch(tt){case"checked":break;case"value":break;case"defaultValue":U=st;default:l.hasOwnProperty(tt)||ee(n,r,tt,null,l,st)}}for(var Z in l){var tt=l[Z];if(st=a[Z],l.hasOwnProperty(Z)&&(tt!=null||st!=null))switch(Z){case"type":m=tt;break;case"name":f=tt;break;case"checked":X=tt;break;case"defaultChecked":et=tt;break;case"value":v=tt;break;case"defaultValue":A=tt;break;case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(s(137,r));break;default:tt!==st&&ee(n,r,Z,tt,l,st)}}Oa(n,v,A,U,X,et,m,f);return;case"select":tt=v=A=Z=null;for(m in a)if(U=a[m],a.hasOwnProperty(m)&&U!=null)switch(m){case"value":break;case"multiple":tt=U;default:l.hasOwnProperty(m)||ee(n,r,m,null,l,U)}for(f in l)if(m=l[f],U=a[f],l.hasOwnProperty(f)&&(m!=null||U!=null))switch(f){case"value":Z=m;break;case"defaultValue":A=m;break;case"multiple":v=m;default:m!==U&&ee(n,r,f,m,l,U)}r=A,a=v,l=tt,Z!=null?Or(n,!!a,Z,!1):!!l!=!!a&&(r!=null?Or(n,!!a,r,!0):Or(n,!!a,a?[]:"",!1));return;case"textarea":tt=Z=null;for(A in a)if(f=a[A],a.hasOwnProperty(A)&&f!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:ee(n,r,A,null,l,f)}for(v in l)if(f=l[v],m=a[v],l.hasOwnProperty(v)&&(f!=null||m!=null))switch(v){case"value":Z=f;break;case"defaultValue":tt=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==m&&ee(n,r,v,f,l,m)}$u(n,Z,tt);return;case"option":for(var _t in a)Z=a[_t],a.hasOwnProperty(_t)&&Z!=null&&!l.hasOwnProperty(_t)&&(_t==="selected"?n.selected=!1:ee(n,r,_t,null,l,Z));for(U in l)Z=l[U],tt=a[U],l.hasOwnProperty(U)&&Z!==tt&&(Z!=null||tt!=null)&&(U==="selected"?n.selected=Z&&typeof Z!="function"&&typeof Z!="symbol":ee(n,r,U,Z,l,tt));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var bt in a)Z=a[bt],a.hasOwnProperty(bt)&&Z!=null&&!l.hasOwnProperty(bt)&&ee(n,r,bt,null,l,Z);for(X in l)if(Z=l[X],tt=a[X],l.hasOwnProperty(X)&&Z!==tt&&(Z!=null||tt!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,r));break;default:ee(n,r,X,Z,l,tt)}return;default:if(Ma(r)){for(var ne in a)Z=a[ne],a.hasOwnProperty(ne)&&Z!==void 0&&!l.hasOwnProperty(ne)&&bm(n,r,ne,void 0,l,Z);for(et in l)Z=l[et],tt=a[et],!l.hasOwnProperty(et)||Z===tt||Z===void 0&&tt===void 0||bm(n,r,et,Z,l,tt);return}}for(var F in a)Z=a[F],a.hasOwnProperty(F)&&Z!=null&&!l.hasOwnProperty(F)&&ee(n,r,F,null,l,Z);for(st in l)Z=l[st],tt=a[st],!l.hasOwnProperty(st)||Z===tt||Z==null&&tt==null||ee(n,r,st,Z,l,tt)}function l0(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function mS(){if(typeof performance.getEntriesByType=="function"){for(var n=0,r=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],m=f.transferSize,v=f.initiatorType,A=f.duration;if(m&&A&&l0(v)){for(v=0,A=f.responseEnd,l+=1;l<a.length;l++){var U=a[l],X=U.startTime;if(X>A)break;var et=U.transferSize,st=U.initiatorType;et&&l0(st)&&(U=U.responseEnd,v+=et*(U<A?1:(A-X)/(U-X)))}if(--l,r+=8*(m+v)/(f.duration/1e3),n++,10<n)break}}if(0<n)return r/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var Sm=null,Rm=null;function Wc(n){return n.nodeType===9?n:n.ownerDocument}function u0(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function c0(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function Im(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Cm=null;function gS(){var n=window.event;return n&&n.type==="popstate"?n===Cm?!1:(Cm=n,!0):(Cm=null,!1)}var h0=typeof setTimeout=="function"?setTimeout:void 0,pS=typeof clearTimeout=="function"?clearTimeout:void 0,f0=typeof Promise=="function"?Promise:void 0,yS=typeof queueMicrotask=="function"?queueMicrotask:typeof f0<"u"?function(n){return f0.resolve(null).then(n).catch(_S)}:h0;function _S(n){setTimeout(function(){throw n})}function ns(n){return n==="head"}function d0(n,r){var a=r,l=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){n.removeChild(f),go(r);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")zl(n.ownerDocument.documentElement);else if(a==="head"){a=n.ownerDocument.head,zl(a);for(var m=a.firstChild;m;){var v=m.nextSibling,A=m.nodeName;m[yi]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&m.rel.toLowerCase()==="stylesheet"||a.removeChild(m),m=v}}else a==="body"&&zl(n.ownerDocument.body);a=f}while(a);go(r)}function m0(n,r){var a=n;n=0;do{var l=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(n===0)break;n--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||n++;a=l}while(a)}function Nm(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Nm(a),xa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function vS(n,r,a,l){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[yi])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=jn(n.nextSibling),n===null)break}return null}function ES(n,r,a){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=jn(n.nextSibling),n===null))return null;return n}function g0(n,r){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!r||(n=jn(n.nextSibling),n===null))return null;return n}function xm(n){return n.data==="$?"||n.data==="$~"}function Dm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function TS(n,r){var a=n.ownerDocument;if(n.data==="$~")n._reactRetry=r;else if(n.data!=="$?"||a.readyState!=="loading")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function jn(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return n}var Om=null;function p0(n){n=n.nextSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"||a==="/&"){if(r===0)return jn(n.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}n=n.nextSibling}return null}function y0(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return n;r--}else a!=="/$"&&a!=="/&"||r++}n=n.previousSibling}return null}function _0(n,r,a){switch(r=Wc(a),n){case"html":if(n=r.documentElement,!n)throw Error(s(452));return n;case"head":if(n=r.head,!n)throw Error(s(453));return n;case"body":if(n=r.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function zl(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);xa(n)}var Bn=new Map,v0=new Set;function th(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var mr=H.d;H.d={f:wS,r:AS,D:bS,C:SS,L:RS,m:IS,X:NS,S:CS,M:xS};function wS(){var n=mr.f(),r=Gc();return n||r}function AS(n){var r=xn(n);r!==null&&r.tag===5&&r.type==="form"?U_(r):mr.r(n)}var ho=typeof document>"u"?null:document;function E0(n,r,a){var l=ho;if(l&&typeof r=="string"&&r){var f=cn(r);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),v0.has(f)||(v0.add(f),n={rel:n,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),Ye(r,"link",n),Ae(r),l.head.appendChild(r)))}}function bS(n){mr.D(n),E0("dns-prefetch",n,null)}function SS(n,r){mr.C(n,r),E0("preconnect",n,r)}function RS(n,r,a){mr.L(n,r,a);var l=ho;if(l&&n&&r){var f='link[rel="preload"][as="'+cn(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+cn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+cn(a.imageSizes)+'"]')):f+='[href="'+cn(n)+'"]';var m=f;switch(r){case"style":m=fo(n);break;case"script":m=mo(n)}Bn.has(m)||(n=T({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:n,as:r},a),Bn.set(m,n),l.querySelector(f)!==null||r==="style"&&l.querySelector(jl(m))||r==="script"&&l.querySelector(Bl(m))||(r=l.createElement("link"),Ye(r,"link",n),Ae(r),l.head.appendChild(r)))}}function IS(n,r){mr.m(n,r);var a=ho;if(a&&n){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+cn(l)+'"][href="'+cn(n)+'"]',m=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=mo(n)}if(!Bn.has(m)&&(n=T({rel:"modulepreload",href:n},r),Bn.set(m,n),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Bl(m)))return}l=a.createElement("link"),Ye(l,"link",n),Ae(l),a.head.appendChild(l)}}}function CS(n,r,a){mr.S(n,r,a);var l=ho;if(l&&n){var f=vi(l).hoistableStyles,m=fo(n);r=r||"default";var v=f.get(m);if(!v){var A={loading:0,preload:null};if(v=l.querySelector(jl(m)))A.loading=5;else{n=T({rel:"stylesheet",href:n,"data-precedence":r},a),(a=Bn.get(m))&&Mm(n,a);var U=v=l.createElement("link");Ae(U),Ye(U,"link",n),U._p=new Promise(function(X,et){U.onload=X,U.onerror=et}),U.addEventListener("load",function(){A.loading|=1}),U.addEventListener("error",function(){A.loading|=2}),A.loading|=4,eh(v,r,l)}v={type:"stylesheet",instance:v,count:1,state:A},f.set(m,v)}}}function NS(n,r){mr.X(n,r);var a=ho;if(a&&n){var l=vi(a).hoistableScripts,f=mo(n),m=l.get(f);m||(m=a.querySelector(Bl(f)),m||(n=T({src:n,async:!0},r),(r=Bn.get(f))&&Vm(n,r),m=a.createElement("script"),Ae(m),Ye(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function xS(n,r){mr.M(n,r);var a=ho;if(a&&n){var l=vi(a).hoistableScripts,f=mo(n),m=l.get(f);m||(m=a.querySelector(Bl(f)),m||(n=T({src:n,async:!0,type:"module"},r),(r=Bn.get(f))&&Vm(n,r),m=a.createElement("script"),Ae(m),Ye(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function T0(n,r,a,l){var f=(f=Tt.current)?th(f):null;if(!f)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=fo(a.href),a=vi(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=fo(a.href);var m=vi(f).hoistableStyles,v=m.get(n);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,v),(m=f.querySelector(jl(n)))&&!m._p&&(v.instance=m,v.state.loading=5),Bn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Bn.set(n,a),m||DS(f,n,a,v.state))),r&&l===null)throw Error(s(528,""));return v}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=mo(a),a=vi(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function fo(n){return'href="'+cn(n)+'"'}function jl(n){return'link[rel="stylesheet"]['+n+"]"}function w0(n){return T({},n,{"data-precedence":n.precedence,precedence:null})}function DS(n,r,a,l){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=n.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Ye(r,"link",a),Ae(r),n.head.appendChild(r))}function mo(n){return'[src="'+cn(n)+'"]'}function Bl(n){return"script[async]"+n}function A0(n,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=n.querySelector('style[data-href~="'+cn(a.href)+'"]');if(l)return r.instance=l,Ae(l),l;var f=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),Ae(l),Ye(l,"style",f),eh(l,a.precedence,n),r.instance=l;case"stylesheet":f=fo(a.href);var m=n.querySelector(jl(f));if(m)return r.state.loading|=4,r.instance=m,Ae(m),m;l=w0(a),(f=Bn.get(f))&&Mm(l,f),m=(n.ownerDocument||n).createElement("link"),Ae(m);var v=m;return v._p=new Promise(function(A,U){v.onload=A,v.onerror=U}),Ye(m,"link",l),r.state.loading|=4,eh(m,a.precedence,n),r.instance=m;case"script":return m=mo(a.src),(f=n.querySelector(Bl(m)))?(r.instance=f,Ae(f),f):(l=a,(f=Bn.get(m))&&(l=T({},a),Vm(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),Ae(f),Ye(f,"link",l),n.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,eh(l,a.precedence,n));return r.instance}function eh(n,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,m=f,v=0;v<l.length;v++){var A=l[v];if(A.dataset.precedence===r)m=A;else if(m!==f)break}m?m.parentNode.insertBefore(n,m.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(n,r.firstChild))}function Mm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function Vm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var nh=null;function b0(n,r,a){if(nh===null){var l=new Map,f=nh=new Map;f.set(a,l)}else f=nh,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var m=a[f];if(!(m[yi]||m[we]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var v=m.getAttribute(r)||"";v=n+v;var A=l.get(v);A?A.push(m):l.set(v,[m])}}return l}function S0(n,r,a){n=n.ownerDocument||n,n.head.insertBefore(a,r==="title"?n.querySelector("head > title"):null)}function OS(n,r,a){if(a===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(n=r.disabled,typeof r.precedence=="string"&&n==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function R0(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function MS(n,r,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=fo(l.href),m=r.querySelector(jl(f));if(m){r=m._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(n.count++,n=ih.bind(n),r.then(n,n)),a.state.loading|=4,a.instance=m,Ae(m);return}m=r.ownerDocument||r,l=w0(l),(f=Bn.get(f))&&Mm(l,f),m=m.createElement("link"),Ae(m);var v=m;v._p=new Promise(function(A,U){v.onload=A,v.onerror=U}),Ye(m,"link",l),a.instance=m}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(n.count++,a=ih.bind(n),r.addEventListener("load",a),r.addEventListener("error",a))}}var km=0;function VS(n,r){return n.stylesheets&&n.count===0&&sh(n,n.stylesheets),0<n.count||0<n.imgCount?function(a){var l=setTimeout(function(){if(n.stylesheets&&sh(n,n.stylesheets),n.unsuspend){var m=n.unsuspend;n.unsuspend=null,m()}},6e4+r);0<n.imgBytes&&km===0&&(km=62500*mS());var f=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&sh(n,n.stylesheets),n.unsuspend)){var m=n.unsuspend;n.unsuspend=null,m()}},(n.imgBytes>km?50:800)+r);return n.unsuspend=a,function(){n.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function ih(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)sh(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var rh=null;function sh(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,rh=new Map,r.forEach(kS,n),rh=null,ih.call(n))}function kS(n,r){if(!(r.state.loading&4)){var a=rh.get(n);if(a)var l=a.get(null);else{a=new Map,rh.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var v=f[m];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}f=r.instance,v=f.getAttribute("data-precedence"),m=a.get(v)||l,m===l&&a.set(null,f),a.set(v,f),this.count++,l=ih.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),m?m.parentNode.insertBefore(f,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),r.state.loading|=4}}var ql={$$typeof:K,Provider:null,Consumer:null,_currentValue:it,_currentValue2:it,_threadCount:0};function US(n,r,a,l,f,m,v,A,U){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gi(0),this.hiddenUpdates=gi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function I0(n,r,a,l,f,m,v,A,U,X,et,st){return n=new US(n,r,a,v,U,X,et,st,A),r=1,m===!0&&(r|=24),m=wn(3,null,null,r),n.current=m,m.stateNode=n,r=md(),r.refCount++,n.pooledCache=r,r.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:r},_d(m),n}function C0(n){return n?(n=Fa,n):Fa}function N0(n,r,a,l,f,m){f=C0(f),l.context===null?l.context=f:l.pendingContext=f,l=Gr(r),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=Yr(n,l,r),a!==null&&(pn(a,n,r),El(a,n,r))}function x0(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<r?a:r}}function Um(n,r){x0(n,r),(n=n.alternate)&&x0(n,r)}function D0(n){if(n.tag===13||n.tag===31){var r=Ys(n,67108864);r!==null&&pn(r,n,67108864),Um(n,67108864)}}function O0(n){if(n.tag===13||n.tag===31){var r=In();r=Vs(r);var a=Ys(n,r);a!==null&&pn(a,n,r),Um(n,r)}}var ah=!0;function LS(n,r,a,l){var f=P.T;P.T=null;var m=H.p;try{H.p=2,Lm(n,r,a,l)}finally{H.p=m,P.T=f}}function PS(n,r,a,l){var f=P.T;P.T=null;var m=H.p;try{H.p=8,Lm(n,r,a,l)}finally{H.p=m,P.T=f}}function Lm(n,r,a,l){if(ah){var f=Pm(l);if(f===null)Am(n,r,l,oh,a),V0(n,l);else if(jS(f,n,r,a,l))l.stopPropagation();else if(V0(n,l),r&4&&-1<zS.indexOf(n)){for(;f!==null;){var m=xn(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var v=di(m.pendingLanes);if(v!==0){var A=m;for(A.pendingLanes|=2,A.entangledLanes|=2;v;){var U=1<<31-ge(v);A.entanglements[1]|=U,v&=~U}Oi(m),(Qt&6)===0&&(Hc=en()+500,Ul(0))}}break;case 31:case 13:A=Ys(m,2),A!==null&&pn(A,m,2),Gc(),Um(m,2)}if(m=Pm(l),m===null&&Am(n,r,l,oh,a),m===f)break;f=m}f!==null&&l.stopPropagation()}else Am(n,r,l,null,a)}}function Pm(n){return n=Dn(n),zm(n)}var oh=null;function zm(n){if(oh=null,n=_i(n),n!==null){var r=u(n);if(r===null)n=null;else{var a=r.tag;if(a===13){if(n=c(r),n!==null)return n;n=null}else if(a===31){if(n=d(r),n!==null)return n;n=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return oh=n,null}function M0(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xs()){case Go:return 2;case Yo:return 8;case xr:case Gf:return 32;case zu:return 268435456;default:return 32}default:return 32}}var jm=!1,is=null,rs=null,ss=null,Hl=new Map,Fl=new Map,as=[],zS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function V0(n,r){switch(n){case"focusin":case"focusout":is=null;break;case"dragenter":case"dragleave":rs=null;break;case"mouseover":case"mouseout":ss=null;break;case"pointerover":case"pointerout":Hl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fl.delete(r.pointerId)}}function Gl(n,r,a,l,f,m){return n===null||n.nativeEvent!==m?(n={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[f]},r!==null&&(r=xn(r),r!==null&&D0(r)),n):(n.eventSystemFlags|=l,r=n.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),n)}function jS(n,r,a,l,f){switch(r){case"focusin":return is=Gl(is,n,r,a,l,f),!0;case"dragenter":return rs=Gl(rs,n,r,a,l,f),!0;case"mouseover":return ss=Gl(ss,n,r,a,l,f),!0;case"pointerover":var m=f.pointerId;return Hl.set(m,Gl(Hl.get(m)||null,n,r,a,l,f)),!0;case"gotpointercapture":return m=f.pointerId,Fl.set(m,Gl(Fl.get(m)||null,n,r,a,l,f)),!0}return!1}function k0(n){var r=_i(n.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=c(a),r!==null){n.blockedOn=r,Qn(n.priority,function(){O0(a)});return}}else if(r===31){if(r=d(a),r!==null){n.blockedOn=r,Qn(n.priority,function(){O0(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function lh(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var a=Pm(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);rl=l,a.target.dispatchEvent(l),rl=null}else return r=xn(a),r!==null&&D0(r),n.blockedOn=a,!1;r.shift()}return!0}function U0(n,r,a){lh(n)&&a.delete(r)}function BS(){jm=!1,is!==null&&lh(is)&&(is=null),rs!==null&&lh(rs)&&(rs=null),ss!==null&&lh(ss)&&(ss=null),Hl.forEach(U0),Fl.forEach(U0)}function uh(n,r){n.blockedOn===r&&(n.blockedOn=null,jm||(jm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,BS)))}var ch=null;function L0(n){ch!==n&&(ch=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){ch===n&&(ch=null);for(var r=0;r<n.length;r+=3){var a=n[r],l=n[r+1],f=n[r+2];if(typeof l!="function"){if(zm(l||a)===null)continue;break}var m=xn(a);m!==null&&(n.splice(r,3),r-=3,Pd(m,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function go(n){function r(U){return uh(U,n)}is!==null&&uh(is,n),rs!==null&&uh(rs,n),ss!==null&&uh(ss,n),Hl.forEach(r),Fl.forEach(r);for(var a=0;a<as.length;a++){var l=as[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<as.length&&(a=as[0],a.blockedOn===null);)k0(a),a.blockedOn===null&&as.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],m=a[l+1],v=f[Le]||null;if(typeof m=="function")v||L0(a);else if(v){var A=null;if(m&&m.hasAttribute("formAction")){if(f=m,v=m[Le]||null)A=v.formAction;else if(zm(f)!==null)continue}else A=v.action;typeof A=="function"?a[l+1]=A:(a.splice(l,3),l-=3),L0(a)}}}function P0(){function n(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(v){return f=v})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function Bm(n){this._internalRoot=n}hh.prototype.render=Bm.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=In();N0(a,l,n,r,null,null)},hh.prototype.unmount=Bm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;N0(n.current,2,null,n,null,null),Gc(),r[pi]=null}};function hh(n){this._internalRoot=n}hh.prototype.unstable_scheduleHydration=function(n){if(n){var r=Gu();n={blockedOn:null,target:n,priority:r};for(var a=0;a<as.length&&r!==0&&r<as[a].priority;a++);as.splice(a,0,n),a===0&&k0(n)}};var z0=t.version;if(z0!=="19.2.3")throw Error(s(527,z0,"19.2.3"));H.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=g(r),n=n!==null?_(n):null,n=n===null?null:n.stateNode,n};var qS={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fh.isDisabled&&fh.supportsFiber)try{Gn=fh.inject(qS),Be=fh}catch{}}return Ql.createRoot=function(n,r){if(!o(n))throw Error(s(299));var a=!1,l="",f=Y_,m=Q_,v=X_;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(m=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError)),r=I0(n,1,!1,null,null,a,l,null,f,m,v,P0),n[pi]=r.current,wm(n),new Bm(r)},Ql.hydrateRoot=function(n,r,a){if(!o(n))throw Error(s(299));var l=!1,f="",m=Y_,v=Q_,A=X_,U=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.formState!==void 0&&(U=a.formState)),r=I0(n,1,!0,r,a??null,l,f,U,m,v,A,P0),r.context=C0(null),a=r.current,l=In(),l=Vs(l),f=Gr(l),f.callback=null,Yr(a,f,l),a=l,r.current.lanes=a,Os(r,a),Oi(r),n[pi]=r.current,wm(n),new hh(r)},Ql.version="19.2.3",Ql}var K0;function JS(){if(K0)return Fm.exports;K0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Fm.exports=ZS(),Fm.exports}var WS=JS();const tR="100.5%",eR={today:"44%",cafe:"59%",moon:"74%",urhu:"89%"},nR={today:"today",cafe:"caf",moon:"moon",urhu:"urhu"};function iR({pages:i,onActiveChange:t,onLabelClick:e}){const[s,o]=gt.useState(()=>i.map(d=>d.key)),u=d=>i.find(p=>p.key===d),c=d=>{o(p=>{const _=[...p.filter(T=>T!==d),d];return t?.(d),_})};return k.jsx("div",{className:"file-stack",children:s.map((d,p)=>{const g=u(d);if(!g)return null;const _=p===s.length-1,T=g.Component,w=nR[d]??d,S=eR[d]??"50%";return k.jsxs("div",{className:`file-card ${_?"file-card--active":""}`,style:{"--position":p,"--cardWidth":tR,"--cardColor":`var(--${d}-card-color)`,"--cardTextColor":`var(--${d}-card-text-color)`,"--cardBackground":`var(--${d}-card-background, var(--${d}-card-color))`,"--tabOffset":S},onClick:()=>c(d),children:[k.jsx("div",{className:"file-main",children:k.jsx(T,{})}),k.jsx("button",{type:"button",className:"file-label",onClick:D=>{D.stopPropagation(),c(d),e?.(d)},"aria-label":`${w} tab`,children:k.jsx("span",{children:w})})]},d)})})}const rR=()=>{};var $0={};const rw=function(i){const t=[];let e=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?t[e++]=o:o<2048?(t[e++]=o>>6|192,t[e++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),t[e++]=o>>18|240,t[e++]=o>>12&63|128,t[e++]=o>>6&63|128,t[e++]=o&63|128):(t[e++]=o>>12|224,t[e++]=o>>6&63|128,t[e++]=o&63|128)}return t},sR=function(i){const t=[];let e=0,s=0;for(;e<i.length;){const o=i[e++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[e++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[e++],c=i[e++],d=i[e++],p=((o&7)<<18|(u&63)<<12|(c&63)<<6|d&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[e++],c=i[e++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return t.join("")},sw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],c=o+1<i.length,d=c?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,_=u>>2,T=(u&3)<<4|d>>4;let w=(d&15)<<2|g>>6,S=g&63;p||(S=64,c||(w=64)),s.push(e[_],e[T],e[w],e[S])}return s.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(rw(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):sR(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=e[i.charAt(o++)],d=o<i.length?e[i.charAt(o)]:0;++o;const g=o<i.length?e[i.charAt(o)]:64;++o;const T=o<i.length?e[i.charAt(o)]:64;if(++o,u==null||d==null||g==null||T==null)throw new aR;const w=u<<2|d>>4;if(s.push(w),g!==64){const S=d<<4&240|g>>2;if(s.push(S),T!==64){const D=g<<6&192|T;s.push(D)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class aR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const oR=function(i){const t=rw(i);return sw.encodeByteArray(t,!0)},Fh=function(i){return oR(i).replace(/\./g,"")},aw=function(i){try{return sw.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function lR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const uR=()=>lR().__FIREBASE_DEFAULTS__,cR=()=>{if(typeof process>"u"||typeof $0>"u")return;const i=$0.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},hR=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&aw(i[1]);return t&&JSON.parse(t)},_f=()=>{try{return rR()||uR()||cR()||hR()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},ow=i=>_f()?.emulatorHosts?.[i],lw=i=>{const t=ow(i);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),s]:[t.substring(0,e),s]},uw=()=>_f()?.config,cw=i=>_f()?.[`_${i}`];class fR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,s)=>{e?this.reject(e):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,s))}}}function Cs(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Wg(i){return(await fetch(i,{credentials:"include"})).ok}function hw(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},s=t||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Fh(JSON.stringify(e)),Fh(JSON.stringify(c)),""].join(".")}const iu={};function dR(){const i={prod:[],emulator:[]};for(const t of Object.keys(iu))iu[t]?i.emulator.push(t):i.prod.push(t);return i}function mR(i){let t=document.getElementById(i),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",i),e=!0),{created:e,element:t}}let Z0=!1;function tp(i,t){if(typeof window>"u"||typeof document>"u"||!Cs(window.location.host)||iu[i]===t||iu[i]||Z0)return;iu[i]=t;function e(w){return`__firebase__banner__${w}`}const s="__firebase__banner",u=dR().prod.length>0;function c(){const w=document.getElementById(s);w&&w.remove()}function d(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,S){w.setAttribute("width","24"),w.setAttribute("id",S),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{Z0=!0,c()},w}function _(w,S){w.setAttribute("id",S),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function T(){const w=mR(s),S=e("text"),D=document.getElementById(S)||document.createElement("span"),O=e("learnmore"),x=document.getElementById(O)||document.createElement("a"),z=e("preprendIcon"),J=document.getElementById(z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const K=w.element;d(K),_(x,O);const q=g();p(J,z),K.append(J,D,x,q),document.body.appendChild(K)}u?(D.innerText="Preview backend disconnected.",J.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(J.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function pR(){const i=_f()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _R(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function vR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ER(){const i=tn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function TR(){return!pR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wR(){try{return typeof indexedDB=="object"}catch{return!1}}function AR(){return new Promise((i,t)=>{try{let e=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),e||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{e=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(e){t(e)}})}const bR="FirebaseError";class Qi extends Error{constructor(t,e,s){super(e),this.code=t,this.customData=s,this.name=bR,Object.setPrototypeOf(this,Qi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Su.prototype.create)}}class Su{constructor(t,e,s){this.service=t,this.serviceName=e,this.errors=s}create(t,...e){const s=e[0]||{},o=`${this.service}/${t}`,u=this.errors[t],c=u?SR(u,s):"Error",d=`${this.serviceName}: ${c} (${o}).`;return new Qi(o,d,s)}}function SR(i,t){return i.replace(RR,(e,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const RR=/\{\$([^}]+)}/g;function IR(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}function ma(i,t){if(i===t)return!0;const e=Object.keys(i),s=Object.keys(t);for(const o of e){if(!s.includes(o))return!1;const u=i[o],c=t[o];if(J0(u)&&J0(c)){if(!ma(u,c))return!1}else if(u!==c)return!1}for(const o of s)if(!e.includes(o))return!1;return!0}function J0(i){return i!==null&&typeof i=="object"}function Ru(i){const t=[];for(const[e,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function CR(i,t){const e=new NR(i,t);return e.subscribe.bind(e)}class NR{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,s){let o;if(t===void 0&&e===void 0&&s===void 0)throw new Error("Missing Observer.");xR(t,["next","error","complete"])?o=t:o={next:t,error:e,complete:s},o.next===void 0&&(o.next=Xm),o.error===void 0&&(o.error=Xm),o.complete===void 0&&(o.complete=Xm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function xR(i,t){if(typeof i!="object"||i===null)return!1;for(const e of t)if(e in i&&typeof i[e]=="function")return!0;return!1}function Xm(){}function Me(i){return i&&i._delegate?i._delegate:i}class Ts{constructor(t,e,s){this.name=t,this.instanceFactory=e,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const sa="[DEFAULT]";class DR{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const s=new fR;if(this.instancesDeferred.set(e,s),this.isInitialized(e)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:e});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(MR(t))try{this.getOrInitializeService({instanceIdentifier:sa})}catch{}for(const[e,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(e);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=sa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=sa){return this.instances.has(t)}getOptions(t=sa){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:e});for(const[u,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);s===d&&c.resolve(o)}return o}onInit(t,e){const s=this.normalizeInstanceIdentifier(e),o=this.onInitCallbacks.get(s)??new Set;o.add(t),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&t(u,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,e){const s=this.onInitCallbacks.get(e);if(s)for(const o of s)try{o(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:OR(t),options:e}),this.instances.set(t,s),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=sa){return this.component?this.component.multipleInstances?t:sa:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function OR(i){return i===sa?void 0:i}function MR(i){return i.instantiationMode==="EAGER"}class VR{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new DR(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}var Pt;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Pt||(Pt={}));const kR={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},UR=Pt.INFO,LR={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},PR=(i,t,...e)=>{if(t<i.logLevel)return;const s=new Date().toISOString(),o=LR[t];if(o)console[o](`[${s}]  ${i.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class ep{constructor(t){this.name=t,this._logLevel=UR,this._logHandler=PR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Pt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?kR[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...t),this._logHandler(this,Pt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...t),this._logHandler(this,Pt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...t),this._logHandler(this,Pt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...t),this._logHandler(this,Pt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...t),this._logHandler(this,Pt.ERROR,...t)}}const zR=(i,t)=>t.some(e=>i instanceof e);let W0,tE;function jR(){return W0||(W0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function BR(){return tE||(tE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const fw=new WeakMap,gg=new WeakMap,dw=new WeakMap,Km=new WeakMap,np=new WeakMap;function qR(i){const t=new Promise((e,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",c)},u=()=>{e(ys(i.result)),o()},c=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&fw.set(e,i)}).catch(()=>{}),np.set(t,i),t}function HR(i){if(gg.has(i))return;const t=new Promise((e,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",c),i.removeEventListener("abort",c)},u=()=>{e(),o()},c=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",c),i.addEventListener("abort",c)});gg.set(i,t)}let pg={get(i,t,e){if(i instanceof IDBTransaction){if(t==="done")return gg.get(i);if(t==="objectStoreNames")return i.objectStoreNames||dw.get(i);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return ys(i[t])},set(i,t,e){return i[t]=e,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function FR(i){pg=i(pg)}function GR(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const s=i.call($m(this),t,...e);return dw.set(s,t.sort?t.sort():[t]),ys(s)}:BR().includes(i)?function(...t){return i.apply($m(this),t),ys(fw.get(this))}:function(...t){return ys(i.apply($m(this),t))}}function YR(i){return typeof i=="function"?GR(i):(i instanceof IDBTransaction&&HR(i),zR(i,jR())?new Proxy(i,pg):i)}function ys(i){if(i instanceof IDBRequest)return qR(i);if(Km.has(i))return Km.get(i);const t=YR(i);return t!==i&&(Km.set(i,t),np.set(t,i)),t}const $m=i=>np.get(i);function QR(i,t,{blocked:e,upgrade:s,blocking:o,terminated:u}={}){const c=indexedDB.open(i,t),d=ys(c);return s&&c.addEventListener("upgradeneeded",p=>{s(ys(c.result),p.oldVersion,p.newVersion,ys(c.transaction),p)}),e&&c.addEventListener("blocked",p=>e(p.oldVersion,p.newVersion,p)),d.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const XR=["get","getKey","getAll","getAllKeys","count"],KR=["put","add","delete","clear"],Zm=new Map;function eE(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(Zm.get(t))return Zm.get(t);const e=t.replace(/FromIndex$/,""),s=t!==e,o=KR.includes(e);if(!(e in(s?IDBIndex:IDBObjectStore).prototype)||!(o||XR.includes(e)))return;const u=async function(c,...d){const p=this.transaction(c,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[e](...d),o&&p.done]))[0]};return Zm.set(t,u),u}FR(i=>({...i,get:(t,e,s)=>eE(t,e)||i.get(t,e,s),has:(t,e)=>!!eE(t,e)||i.has(t,e)}));class $R{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(ZR(e)){const s=e.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(e=>e).join(" ")}}function ZR(i){return i.getComponent()?.type==="VERSION"}const yg="@firebase/app",nE="0.14.6";const Ar=new ep("@firebase/app"),JR="@firebase/app-compat",WR="@firebase/analytics-compat",tI="@firebase/analytics",eI="@firebase/app-check-compat",nI="@firebase/app-check",iI="@firebase/auth",rI="@firebase/auth-compat",sI="@firebase/database",aI="@firebase/data-connect",oI="@firebase/database-compat",lI="@firebase/functions",uI="@firebase/functions-compat",cI="@firebase/installations",hI="@firebase/installations-compat",fI="@firebase/messaging",dI="@firebase/messaging-compat",mI="@firebase/performance",gI="@firebase/performance-compat",pI="@firebase/remote-config",yI="@firebase/remote-config-compat",_I="@firebase/storage",vI="@firebase/storage-compat",EI="@firebase/firestore",TI="@firebase/ai",wI="@firebase/firestore-compat",AI="firebase",bI="12.6.0";const _g="[DEFAULT]",SI={[yg]:"fire-core",[JR]:"fire-core-compat",[tI]:"fire-analytics",[WR]:"fire-analytics-compat",[nI]:"fire-app-check",[eI]:"fire-app-check-compat",[iI]:"fire-auth",[rI]:"fire-auth-compat",[sI]:"fire-rtdb",[aI]:"fire-data-connect",[oI]:"fire-rtdb-compat",[lI]:"fire-fn",[uI]:"fire-fn-compat",[cI]:"fire-iid",[hI]:"fire-iid-compat",[fI]:"fire-fcm",[dI]:"fire-fcm-compat",[mI]:"fire-perf",[gI]:"fire-perf-compat",[pI]:"fire-rc",[yI]:"fire-rc-compat",[_I]:"fire-gcs",[vI]:"fire-gcs-compat",[EI]:"fire-fst",[wI]:"fire-fst-compat",[TI]:"fire-vertex","fire-js":"fire-js",[AI]:"fire-js-all"};const Gh=new Map,RI=new Map,vg=new Map;function iE(i,t){try{i.container.addComponent(t)}catch(e){Ar.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,e)}}function ga(i){const t=i.name;if(vg.has(t))return Ar.debug(`There were multiple attempts to register component ${t}.`),!1;vg.set(t,i);for(const e of Gh.values())iE(e,i);for(const e of RI.values())iE(e,i);return!0}function vf(i,t){const e=i.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),i.container.getProvider(t)}function qn(i){return i==null?!1:i.settings!==void 0}const II={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_s=new Su("app","Firebase",II);class CI{constructor(t,e,s){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ts("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw _s.create("app-deleted",{appName:this._name})}}const Ta=bI;function mw(i,t={}){let e=i;typeof t!="object"&&(t={name:t});const s={name:_g,automaticDataCollectionEnabled:!0,...t},o=s.name;if(typeof o!="string"||!o)throw _s.create("bad-app-name",{appName:String(o)});if(e||(e=uw()),!e)throw _s.create("no-options");const u=Gh.get(o);if(u){if(ma(e,u.options)&&ma(s,u.config))return u;throw _s.create("duplicate-app",{appName:o})}const c=new VR(o);for(const p of vg.values())c.addComponent(p);const d=new CI(e,s,c);return Gh.set(o,d),d}function ip(i=_g){const t=Gh.get(i);if(!t&&i===_g&&uw())return mw();if(!t)throw _s.create("no-app",{appName:i});return t}function Pi(i,t,e){let s=SI[i]??i;e&&(s+=`-${e}`);const o=s.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const c=[`Unable to register library "${s}" with version "${t}":`];o&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ar.warn(c.join(" "));return}ga(new Ts(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const NI="firebase-heartbeat-database",xI=1,cu="firebase-heartbeat-store";let Jm=null;function gw(){return Jm||(Jm=QR(NI,xI,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(cu)}catch(e){console.warn(e)}}}}).catch(i=>{throw _s.create("idb-open",{originalErrorMessage:i.message})})),Jm}async function DI(i){try{const e=(await gw()).transaction(cu),s=await e.objectStore(cu).get(pw(i));return await e.done,s}catch(t){if(t instanceof Qi)Ar.warn(t.message);else{const e=_s.create("idb-get",{originalErrorMessage:t?.message});Ar.warn(e.message)}}}async function rE(i,t){try{const s=(await gw()).transaction(cu,"readwrite");await s.objectStore(cu).put(t,pw(i)),await s.done}catch(e){if(e instanceof Qi)Ar.warn(e.message);else{const s=_s.create("idb-set",{originalErrorMessage:e?.message});Ar.warn(s.message)}}}function pw(i){return`${i.name}!${i.options.appId}`}const OI=1024,MI=30;class VI{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new UI(e),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=sE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:e}),this._heartbeatsCache.heartbeats.length>MI){const o=LI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Ar.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=sE(),{heartbeatsToSend:e,unsentEntries:s}=kI(this._heartbeatsCache.heartbeats),o=Fh(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Ar.warn(t),""}}}function sE(){return new Date().toISOString().substring(0,10)}function kI(i,t=OI){const e=[];let s=i.slice();for(const o of i){const u=e.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),aE(e)>t){u.dates.pop();break}}else if(e.push({agent:o.agent,dates:[o.date]}),aE(e)>t){e.pop();break}s=s.slice(1)}return{heartbeatsToSend:e,unsentEntries:s}}class UI{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wR()?AR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await DI(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return rE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return rE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function aE(i){return Fh(JSON.stringify({version:2,heartbeats:i})).length}function LI(i){if(i.length===0)return-1;let t=0,e=i[0].date;for(let s=1;s<i.length;s++)i[s].date<e&&(e=i[s].date,t=s);return t}function PI(i){ga(new Ts("platform-logger",t=>new $R(t),"PRIVATE")),ga(new Ts("heartbeat",t=>new VI(t),"PRIVATE")),Pi(yg,nE,i),Pi(yg,nE,"esm2020"),Pi("fire-js","")}PI("");var zI="firebase",jI="12.7.0";Pi(zI,jI,"app");var oE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var vs,yw;(function(){var i;function t(I,R){function C(){}C.prototype=R.prototype,I.F=R.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(L,V,B){for(var N=Array(arguments.length-2),G=2;G<arguments.length;G++)N[G-2]=arguments[G];return R.prototype[V].apply(L,N)}}function e(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,e),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,R,C){C||(C=0);const L=Array(16);if(typeof R=="string")for(var V=0;V<16;++V)L[V]=R.charCodeAt(C++)|R.charCodeAt(C++)<<8|R.charCodeAt(C++)<<16|R.charCodeAt(C++)<<24;else for(V=0;V<16;++V)L[V]=R[C++]|R[C++]<<8|R[C++]<<16|R[C++]<<24;R=I.g[0],C=I.g[1],V=I.g[2];let B=I.g[3],N;N=R+(B^C&(V^B))+L[0]+3614090360&4294967295,R=C+(N<<7&4294967295|N>>>25),N=B+(V^R&(C^V))+L[1]+3905402710&4294967295,B=R+(N<<12&4294967295|N>>>20),N=V+(C^B&(R^C))+L[2]+606105819&4294967295,V=B+(N<<17&4294967295|N>>>15),N=C+(R^V&(B^R))+L[3]+3250441966&4294967295,C=V+(N<<22&4294967295|N>>>10),N=R+(B^C&(V^B))+L[4]+4118548399&4294967295,R=C+(N<<7&4294967295|N>>>25),N=B+(V^R&(C^V))+L[5]+1200080426&4294967295,B=R+(N<<12&4294967295|N>>>20),N=V+(C^B&(R^C))+L[6]+2821735955&4294967295,V=B+(N<<17&4294967295|N>>>15),N=C+(R^V&(B^R))+L[7]+4249261313&4294967295,C=V+(N<<22&4294967295|N>>>10),N=R+(B^C&(V^B))+L[8]+1770035416&4294967295,R=C+(N<<7&4294967295|N>>>25),N=B+(V^R&(C^V))+L[9]+2336552879&4294967295,B=R+(N<<12&4294967295|N>>>20),N=V+(C^B&(R^C))+L[10]+4294925233&4294967295,V=B+(N<<17&4294967295|N>>>15),N=C+(R^V&(B^R))+L[11]+2304563134&4294967295,C=V+(N<<22&4294967295|N>>>10),N=R+(B^C&(V^B))+L[12]+1804603682&4294967295,R=C+(N<<7&4294967295|N>>>25),N=B+(V^R&(C^V))+L[13]+4254626195&4294967295,B=R+(N<<12&4294967295|N>>>20),N=V+(C^B&(R^C))+L[14]+2792965006&4294967295,V=B+(N<<17&4294967295|N>>>15),N=C+(R^V&(B^R))+L[15]+1236535329&4294967295,C=V+(N<<22&4294967295|N>>>10),N=R+(V^B&(C^V))+L[1]+4129170786&4294967295,R=C+(N<<5&4294967295|N>>>27),N=B+(C^V&(R^C))+L[6]+3225465664&4294967295,B=R+(N<<9&4294967295|N>>>23),N=V+(R^C&(B^R))+L[11]+643717713&4294967295,V=B+(N<<14&4294967295|N>>>18),N=C+(B^R&(V^B))+L[0]+3921069994&4294967295,C=V+(N<<20&4294967295|N>>>12),N=R+(V^B&(C^V))+L[5]+3593408605&4294967295,R=C+(N<<5&4294967295|N>>>27),N=B+(C^V&(R^C))+L[10]+38016083&4294967295,B=R+(N<<9&4294967295|N>>>23),N=V+(R^C&(B^R))+L[15]+3634488961&4294967295,V=B+(N<<14&4294967295|N>>>18),N=C+(B^R&(V^B))+L[4]+3889429448&4294967295,C=V+(N<<20&4294967295|N>>>12),N=R+(V^B&(C^V))+L[9]+568446438&4294967295,R=C+(N<<5&4294967295|N>>>27),N=B+(C^V&(R^C))+L[14]+3275163606&4294967295,B=R+(N<<9&4294967295|N>>>23),N=V+(R^C&(B^R))+L[3]+4107603335&4294967295,V=B+(N<<14&4294967295|N>>>18),N=C+(B^R&(V^B))+L[8]+1163531501&4294967295,C=V+(N<<20&4294967295|N>>>12),N=R+(V^B&(C^V))+L[13]+2850285829&4294967295,R=C+(N<<5&4294967295|N>>>27),N=B+(C^V&(R^C))+L[2]+4243563512&4294967295,B=R+(N<<9&4294967295|N>>>23),N=V+(R^C&(B^R))+L[7]+1735328473&4294967295,V=B+(N<<14&4294967295|N>>>18),N=C+(B^R&(V^B))+L[12]+2368359562&4294967295,C=V+(N<<20&4294967295|N>>>12),N=R+(C^V^B)+L[5]+4294588738&4294967295,R=C+(N<<4&4294967295|N>>>28),N=B+(R^C^V)+L[8]+2272392833&4294967295,B=R+(N<<11&4294967295|N>>>21),N=V+(B^R^C)+L[11]+1839030562&4294967295,V=B+(N<<16&4294967295|N>>>16),N=C+(V^B^R)+L[14]+4259657740&4294967295,C=V+(N<<23&4294967295|N>>>9),N=R+(C^V^B)+L[1]+2763975236&4294967295,R=C+(N<<4&4294967295|N>>>28),N=B+(R^C^V)+L[4]+1272893353&4294967295,B=R+(N<<11&4294967295|N>>>21),N=V+(B^R^C)+L[7]+4139469664&4294967295,V=B+(N<<16&4294967295|N>>>16),N=C+(V^B^R)+L[10]+3200236656&4294967295,C=V+(N<<23&4294967295|N>>>9),N=R+(C^V^B)+L[13]+681279174&4294967295,R=C+(N<<4&4294967295|N>>>28),N=B+(R^C^V)+L[0]+3936430074&4294967295,B=R+(N<<11&4294967295|N>>>21),N=V+(B^R^C)+L[3]+3572445317&4294967295,V=B+(N<<16&4294967295|N>>>16),N=C+(V^B^R)+L[6]+76029189&4294967295,C=V+(N<<23&4294967295|N>>>9),N=R+(C^V^B)+L[9]+3654602809&4294967295,R=C+(N<<4&4294967295|N>>>28),N=B+(R^C^V)+L[12]+3873151461&4294967295,B=R+(N<<11&4294967295|N>>>21),N=V+(B^R^C)+L[15]+530742520&4294967295,V=B+(N<<16&4294967295|N>>>16),N=C+(V^B^R)+L[2]+3299628645&4294967295,C=V+(N<<23&4294967295|N>>>9),N=R+(V^(C|~B))+L[0]+4096336452&4294967295,R=C+(N<<6&4294967295|N>>>26),N=B+(C^(R|~V))+L[7]+1126891415&4294967295,B=R+(N<<10&4294967295|N>>>22),N=V+(R^(B|~C))+L[14]+2878612391&4294967295,V=B+(N<<15&4294967295|N>>>17),N=C+(B^(V|~R))+L[5]+4237533241&4294967295,C=V+(N<<21&4294967295|N>>>11),N=R+(V^(C|~B))+L[12]+1700485571&4294967295,R=C+(N<<6&4294967295|N>>>26),N=B+(C^(R|~V))+L[3]+2399980690&4294967295,B=R+(N<<10&4294967295|N>>>22),N=V+(R^(B|~C))+L[10]+4293915773&4294967295,V=B+(N<<15&4294967295|N>>>17),N=C+(B^(V|~R))+L[1]+2240044497&4294967295,C=V+(N<<21&4294967295|N>>>11),N=R+(V^(C|~B))+L[8]+1873313359&4294967295,R=C+(N<<6&4294967295|N>>>26),N=B+(C^(R|~V))+L[15]+4264355552&4294967295,B=R+(N<<10&4294967295|N>>>22),N=V+(R^(B|~C))+L[6]+2734768916&4294967295,V=B+(N<<15&4294967295|N>>>17),N=C+(B^(V|~R))+L[13]+1309151649&4294967295,C=V+(N<<21&4294967295|N>>>11),N=R+(V^(C|~B))+L[4]+4149444226&4294967295,R=C+(N<<6&4294967295|N>>>26),N=B+(C^(R|~V))+L[11]+3174756917&4294967295,B=R+(N<<10&4294967295|N>>>22),N=V+(R^(B|~C))+L[2]+718787259&4294967295,V=B+(N<<15&4294967295|N>>>17),N=C+(B^(V|~R))+L[9]+3951481745&4294967295,I.g[0]=I.g[0]+R&4294967295,I.g[1]=I.g[1]+(V+(N<<21&4294967295|N>>>11))&4294967295,I.g[2]=I.g[2]+V&4294967295,I.g[3]=I.g[3]+B&4294967295}s.prototype.v=function(I,R){R===void 0&&(R=I.length);const C=R-this.blockSize,L=this.C;let V=this.h,B=0;for(;B<R;){if(V==0)for(;B<=C;)o(this,I,B),B+=this.blockSize;if(typeof I=="string"){for(;B<R;)if(L[V++]=I.charCodeAt(B++),V==this.blockSize){o(this,L),V=0;break}}else for(;B<R;)if(L[V++]=I[B++],V==this.blockSize){o(this,L),V=0;break}}this.h=V,this.o+=R},s.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var R=1;R<I.length-8;++R)I[R]=0;R=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=R&255,R/=256;for(this.v(I),I=Array(16),R=0,C=0;C<4;++C)for(let L=0;L<32;L+=8)I[R++]=this.g[C]>>>L&255;return I};function u(I,R){var C=d;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=R(I)}function c(I,R){this.h=R;const C=[];let L=!0;for(let V=I.length-1;V>=0;V--){const B=I[V]|0;L&&B==R||(C[V]=B,L=!1)}this.g=C}var d={};function p(I){return-128<=I&&I<128?u(I,function(R){return new c([R|0],R<0?-1:0)}):new c([I|0],I<0?-1:0)}function g(I){if(isNaN(I)||!isFinite(I))return T;if(I<0)return x(g(-I));const R=[];let C=1;for(let L=0;I>=C;L++)R[L]=I/C|0,C*=4294967296;return new c(R,0)}function _(I,R){if(I.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(I.charAt(0)=="-")return x(_(I.substring(1),R));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=g(Math.pow(R,8));let L=T;for(let B=0;B<I.length;B+=8){var V=Math.min(8,I.length-B);const N=parseInt(I.substring(B,B+V),R);V<8?(V=g(Math.pow(R,V)),L=L.j(V).add(g(N))):(L=L.j(C),L=L.add(g(N)))}return L}var T=p(0),w=p(1),S=p(16777216);i=c.prototype,i.m=function(){if(O(this))return-x(this).m();let I=0,R=1;for(let C=0;C<this.g.length;C++){const L=this.i(C);I+=(L>=0?L:4294967296+L)*R,R*=4294967296}return I},i.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(D(this))return"0";if(O(this))return"-"+x(this).toString(I);const R=g(Math.pow(I,6));var C=this;let L="";for(;;){const V=q(C,R).g;C=z(C,V.j(R));let B=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=V,D(C))return B+L;for(;B.length<6;)B="0"+B;L=B+L}},i.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function D(I){if(I.h!=0)return!1;for(let R=0;R<I.g.length;R++)if(I.g[R]!=0)return!1;return!0}function O(I){return I.h==-1}i.l=function(I){return I=z(this,I),O(I)?-1:D(I)?0:1};function x(I){const R=I.g.length,C=[];for(let L=0;L<R;L++)C[L]=~I.g[L];return new c(C,~I.h).add(w)}i.abs=function(){return O(this)?x(this):this},i.add=function(I){const R=Math.max(this.g.length,I.g.length),C=[];let L=0;for(let V=0;V<=R;V++){let B=L+(this.i(V)&65535)+(I.i(V)&65535),N=(B>>>16)+(this.i(V)>>>16)+(I.i(V)>>>16);L=N>>>16,B&=65535,N&=65535,C[V]=N<<16|B}return new c(C,C[C.length-1]&-2147483648?-1:0)};function z(I,R){return I.add(x(R))}i.j=function(I){if(D(this)||D(I))return T;if(O(this))return O(I)?x(this).j(x(I)):x(x(this).j(I));if(O(I))return x(this.j(x(I)));if(this.l(S)<0&&I.l(S)<0)return g(this.m()*I.m());const R=this.g.length+I.g.length,C=[];for(var L=0;L<2*R;L++)C[L]=0;for(L=0;L<this.g.length;L++)for(let V=0;V<I.g.length;V++){const B=this.i(L)>>>16,N=this.i(L)&65535,G=I.i(V)>>>16,mt=I.i(V)&65535;C[2*L+2*V]+=N*mt,J(C,2*L+2*V),C[2*L+2*V+1]+=B*mt,J(C,2*L+2*V+1),C[2*L+2*V+1]+=N*G,J(C,2*L+2*V+1),C[2*L+2*V+2]+=B*G,J(C,2*L+2*V+2)}for(I=0;I<R;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=R;I<2*R;I++)C[I]=0;return new c(C,0)};function J(I,R){for(;(I[R]&65535)!=I[R];)I[R+1]+=I[R]>>>16,I[R]&=65535,R++}function K(I,R){this.g=I,this.h=R}function q(I,R){if(D(R))throw Error("division by zero");if(D(I))return new K(T,T);if(O(I))return R=q(x(I),R),new K(x(R.g),x(R.h));if(O(R))return R=q(I,x(R)),new K(x(R.g),R.h);if(I.g.length>30){if(O(I)||O(R))throw Error("slowDivide_ only works with positive integers.");for(var C=w,L=R;L.l(I)<=0;)C=ut(C),L=ut(L);var V=ht(C,1),B=ht(L,1);for(L=ht(L,2),C=ht(C,2);!D(L);){var N=B.add(L);N.l(I)<=0&&(V=V.add(C),B=N),L=ht(L,1),C=ht(C,1)}return R=z(I,V.j(R)),new K(V,R)}for(V=T;I.l(R)>=0;){for(C=Math.max(1,Math.floor(I.m()/R.m())),L=Math.ceil(Math.log(C)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),B=g(C),N=B.j(R);O(N)||N.l(I)>0;)C-=L,B=g(C),N=B.j(R);D(B)&&(B=w),V=V.add(B),I=z(I,N)}return new K(V,I)}i.B=function(I){return q(this,I).h},i.and=function(I){const R=Math.max(this.g.length,I.g.length),C=[];for(let L=0;L<R;L++)C[L]=this.i(L)&I.i(L);return new c(C,this.h&I.h)},i.or=function(I){const R=Math.max(this.g.length,I.g.length),C=[];for(let L=0;L<R;L++)C[L]=this.i(L)|I.i(L);return new c(C,this.h|I.h)},i.xor=function(I){const R=Math.max(this.g.length,I.g.length),C=[];for(let L=0;L<R;L++)C[L]=this.i(L)^I.i(L);return new c(C,this.h^I.h)};function ut(I){const R=I.g.length+1,C=[];for(let L=0;L<R;L++)C[L]=I.i(L)<<1|I.i(L-1)>>>31;return new c(C,I.h)}function ht(I,R){const C=R>>5;R%=32;const L=I.g.length-C,V=[];for(let B=0;B<L;B++)V[B]=R>0?I.i(B+C)>>>R|I.i(B+C+1)<<32-R:I.i(B+C);return new c(V,I.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,yw=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=_,vs=c}).apply(typeof oE<"u"?oE:typeof self<"u"?self:typeof window<"u"?window:{});var dh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var _w,Zl,vw,Ch,Eg,Ew,Tw,ww;(function(){var i,t=Object.defineProperty;function e(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof dh=="object"&&dh];for(var y=0;y<h.length;++y){var E=h[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=e(this);function o(h,y){if(y)t:{var E=s;h=h.split(".");for(var b=0;b<h.length-1;b++){var Y=h[b];if(!(Y in E))break t;E=E[Y]}h=h[h.length-1],b=E[h],y=y(b),y!=b&&y!=null&&t(E,h,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(y){var E=[],b;for(b in y)Object.prototype.hasOwnProperty.call(y,b)&&E.push([b,y[b]]);return E}});var u=u||{},c=this||self;function d(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function p(h,y,E){return h.call.apply(h.bind,arguments)}function g(h,y,E){return g=p,g.apply(null,arguments)}function _(h,y){var E=Array.prototype.slice.call(arguments,1);return function(){var b=E.slice();return b.push.apply(b,arguments),h.apply(this,b)}}function T(h,y){function E(){}E.prototype=y.prototype,h.Z=y.prototype,h.prototype=new E,h.prototype.constructor=h,h.Ob=function(b,Y,W){for(var dt=Array(arguments.length-2),Dt=2;Dt<arguments.length;Dt++)dt[Dt-2]=arguments[Dt];return y.prototype[Y].apply(b,dt)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function S(h){const y=h.length;if(y>0){const E=Array(y);for(let b=0;b<y;b++)E[b]=h[b];return E}return[]}function D(h,y){for(let b=1;b<arguments.length;b++){const Y=arguments[b];var E=typeof Y;if(E=E!="object"?E:Y?Array.isArray(Y)?"array":E:"null",E=="array"||E=="object"&&typeof Y.length=="number"){E=h.length||0;const W=Y.length||0;h.length=E+W;for(let dt=0;dt<W;dt++)h[E+dt]=Y[dt]}else h.push(Y)}}class O{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function x(h){c.setTimeout(()=>{throw h},0)}function z(){var h=I;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class J{constructor(){this.h=this.g=null}add(y,E){const b=K.get();b.set(y,E),this.h?this.h.next=b:this.g=b,this.h=b}}var K=new O(()=>new q,h=>h.reset());class q{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ut,ht=!1,I=new J,R=()=>{const h=Promise.resolve(void 0);ut=()=>{h.then(C)}};function C(){for(var h;h=z();){try{h.h.call(h.g)}catch(E){x(E)}var y=K;y.j(h),y.h<100&&(y.h++,h.next=y.g,y.g=h)}ht=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var B=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};c.addEventListener("test",E,y),c.removeEventListener("test",E,y)}catch{}return h})();function N(h){return/^[\s\xa0]*$/.test(h)}function G(h,y){V.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,y)}T(G,V),G.prototype.init=function(h,y){const E=this.type=h.type,b=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget,y||(E=="mouseover"?y=h.fromElement:E=="mouseout"&&(y=h.toElement)),this.relatedTarget=y,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&G.Z.h.call(this)},G.prototype.h=function(){G.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var mt="closure_listenable_"+(Math.random()*1e6|0),P=0;function H(h,y,E,b,Y){this.listener=h,this.proxy=null,this.src=y,this.type=E,this.capture=!!b,this.ha=Y,this.key=++P,this.da=this.fa=!1}function it(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function ft(h,y,E){for(const b in h)y.call(E,h[b],b,h)}function at(h,y){for(const E in h)y.call(void 0,h[E],E,h)}function M(h){const y={};for(const E in h)y[E]=h[E];return y}const $="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function lt(h,y){let E,b;for(let Y=1;Y<arguments.length;Y++){b=arguments[Y];for(E in b)h[E]=b[E];for(let W=0;W<$.length;W++)E=$[W],Object.prototype.hasOwnProperty.call(b,E)&&(h[E]=b[E])}}function ct(h){this.src=h,this.g={},this.h=0}ct.prototype.add=function(h,y,E,b,Y){const W=h.toString();h=this.g[W],h||(h=this.g[W]=[],this.h++);const dt=Tt(h,y,b,Y);return dt>-1?(y=h[dt],E||(y.fa=!1)):(y=new H(y,this.src,W,!!b,Y),y.fa=E,h.push(y)),y};function vt(h,y){const E=y.type;if(E in h.g){var b=h.g[E],Y=Array.prototype.indexOf.call(b,y,void 0),W;(W=Y>=0)&&Array.prototype.splice.call(b,Y,1),W&&(it(y),h.g[E].length==0&&(delete h.g[E],h.h--))}}function Tt(h,y,E,b){for(let Y=0;Y<h.length;++Y){const W=h[Y];if(!W.da&&W.listener==y&&W.capture==!!E&&W.ha==b)return Y}return-1}var Rt="closure_lm_"+(Math.random()*1e6|0),Gt={};function Xt(h,y,E,b,Y){if(Array.isArray(y)){for(let W=0;W<y.length;W++)Xt(h,y[W],E,b,Y);return null}return E=Fo(E),h&&h[mt]?h.J(y,E,d(b)?!!b.capture:!1,Y):Ki(h,y,E,!1,b,Y)}function Ki(h,y,E,b,Y,W){if(!y)throw Error("Invalid event type");const dt=d(Y)?!!Y.capture:!!Y;let Dt=Ns(h);if(Dt||(h[Rt]=Dt=new ct(h)),E=Dt.add(y,E,b,dt,W),E.proxy)return E;if(b=ci(),E.proxy=b,b.src=h,b.listener=E,h.addEventListener)B||(Y=dt),Y===void 0&&(Y=!1),h.addEventListener(y.toString(),b,Y);else if(h.attachEvent)h.attachEvent(hi(y.toString()),b);else if(h.addListener&&h.removeListener)h.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return E}function ci(){function h(E){return y.call(h.src,h.listener,E)}const y=qo;return h}function Ra(h,y,E,b,Y){if(Array.isArray(y))for(var W=0;W<y.length;W++)Ra(h,y[W],E,b,Y);else b=d(b)?!!b.capture:!!b,E=Fo(E),h&&h[mt]?(h=h.i,W=String(y).toString(),W in h.g&&(y=h.g[W],E=Tt(y,E,b,Y),E>-1&&(it(y[E]),Array.prototype.splice.call(y,E,1),y.length==0&&(delete h.g[W],h.h--)))):h&&(h=Ns(h))&&(y=h.g[y.toString()],h=-1,y&&(h=Tt(y,E,b,Y)),(E=h>-1?y[h]:null)&&Ia(E))}function Ia(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[mt])vt(y.i,h);else{var E=h.type,b=h.proxy;y.removeEventListener?y.removeEventListener(E,b,h.capture):y.detachEvent?y.detachEvent(hi(E),b):y.addListener&&y.removeListener&&y.removeListener(b),(E=Ns(y))?(vt(E,h),E.h==0&&(E.src=null,y[Rt]=null)):it(h)}}}function hi(h){return h in Gt?Gt[h]:Gt[h]="on"+h}function qo(h,y){if(h.da)h=!0;else{y=new G(y,this);const E=h.listener,b=h.ha||h.src;h.fa&&Ia(h),h=E.call(b,y)}return h}function Ns(h){return h=h[Rt],h instanceof ct?h:null}var Ho="__closure_events_fn_"+(Math.random()*1e9>>>0);function Fo(h){return typeof h=="function"?h:(h[Ho]||(h[Ho]=function(y){return h.handleEvent(y)}),h[Ho])}function Ee(){L.call(this),this.i=new ct(this),this.M=this,this.G=null}T(Ee,L),Ee.prototype[mt]=!0,Ee.prototype.removeEventListener=function(h,y,E,b){Ra(this,h,y,E,b)};function Ve(h,y){var E,b=h.G;if(b)for(E=[];b;b=b.G)E.push(b);if(h=h.M,b=y.type||y,typeof y=="string")y=new V(y,h);else if(y instanceof V)y.target=y.target||h;else{var Y=y;y=new V(b,h),lt(y,Y)}Y=!0;let W,dt;if(E)for(dt=E.length-1;dt>=0;dt--)W=y.g=E[dt],Y=Nr(W,b,!0,y)&&Y;if(W=y.g=h,Y=Nr(W,b,!0,y)&&Y,Y=Nr(W,b,!1,y)&&Y,E)for(dt=0;dt<E.length;dt++)W=y.g=E[dt],Y=Nr(W,b,!1,y)&&Y}Ee.prototype.N=function(){if(Ee.Z.N.call(this),this.i){var h=this.i;for(const y in h.g){const E=h.g[y];for(let b=0;b<E.length;b++)it(E[b]);delete h.g[y],h.h--}}this.G=null},Ee.prototype.J=function(h,y,E,b){return this.i.add(String(h),y,!1,E,b)},Ee.prototype.K=function(h,y,E,b){return this.i.add(String(h),y,!0,E,b)};function Nr(h,y,E,b){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();let Y=!0;for(let W=0;W<y.length;++W){const dt=y[W];if(dt&&!dt.da&&dt.capture==E){const Dt=dt.listener,pe=dt.ha||dt.src;dt.fa&&vt(h.i,dt),Y=Dt.call(pe,b)!==!1&&Y}}return Y&&!b.defaultPrevented}function Ff(h,y){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:c.setTimeout(h,y||0)}function Pu(h){h.g=Ff(()=>{h.g=null,h.i&&(h.i=!1,Pu(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class en extends L{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Pu(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xs(h){L.call(this),this.h=h,this.g={}}T(xs,L);var Go=[];function Yo(h){ft(h.g,function(y,E){this.g.hasOwnProperty(E)&&Ia(y)},h),h.g={}}xs.prototype.N=function(){xs.Z.N.call(this),Yo(this)},xs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xr=c.JSON.stringify,Gf=c.JSON.parse,zu=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function ju(){}function Bu(){}var Gn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Be(){V.call(this,"d")}T(Be,V);function Nn(){V.call(this,"c")}T(Nn,V);var ge={},qu=null;function Ca(){return qu=qu||new Ee}ge.Ia="serverreachability";function Hu(h){V.call(this,ge.Ia,h)}T(Hu,V);function fi(h){const y=Ca();Ve(y,new Hu(y))}ge.STAT_EVENT="statevent";function Ds(h,y){V.call(this,ge.STAT_EVENT,h),this.stat=y}T(Ds,V);function Te(h){const y=Ca();Ve(y,new Ds(y,h))}ge.Ja="timingevent";function di(h,y){V.call(this,ge.Ja,h),this.size=y}T(di,V);function mi(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},y)}function Yn(){this.g=!0}Yn.prototype.ua=function(){this.g=!1};function Yf(h,y,E,b,Y,W){h.info(function(){if(h.g)if(W){var dt="",Dt=W.split("&");for(let Yt=0;Yt<Dt.length;Yt++){var pe=Dt[Yt].split("=");if(pe.length>1){const le=pe[0];pe=pe[1];const Mn=le.split("_");dt=Mn.length>=2&&Mn[1]=="type"?dt+(le+"="+pe+"&"):dt+(le+"=redacted&")}}}else dt=null;else dt=W;return"XMLHTTP REQ ("+b+") [attempt "+Y+"]: "+y+`
`+E+`
`+dt})}function Fu(h,y,E,b,Y,W,dt){h.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+Y+"]: "+y+`
`+E+`
`+W+" "+dt})}function gi(h,y,E,b){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+Qf(h,E)+(b?" "+b:"")})}function Os(h,y){h.info(function(){return"TIMEOUT: "+y})}Yn.prototype.info=function(){};function Qf(h,y){if(!h.g)return y;if(!y)return null;try{const W=JSON.parse(y);if(W){for(h=0;h<W.length;h++)if(Array.isArray(W[h])){var E=W[h];if(!(E.length<2)){var b=E[1];if(Array.isArray(b)&&!(b.length<1)){var Y=b[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(let dt=1;dt<b.length;dt++)b[dt]=""}}}}return xr(W)}catch{return y}}var Ms={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Qo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Xo;function Vs(){}T(Vs,ju),Vs.prototype.g=function(){return new XMLHttpRequest},Xo=new Vs;function $i(h){return encodeURIComponent(String(h))}function Gu(h){var y=1;h=h.split(":");const E=[];for(;y>0&&h.length;)E.push(h.shift()),y--;return h.length&&E.push(h.join(":")),E}function Qn(h,y,E,b){this.j=h,this.i=y,this.l=E,this.S=b||1,this.V=new xs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Xn}function Xn(){this.i=null,this.g="",this.h=!1}var we={},Le={};function pi(h,y,E){h.M=1,h.A=ks(be(y)),h.u=E,h.R=!0,Na(h,null)}function Na(h,y){h.F=Date.now(),yi(h),h.B=be(h.A);var E=h.B,b=h.S;Array.isArray(b)||(b=[String(b)]),Ma(E.i,"t",b),h.C=0,E=h.j.L,h.h=new Xn,h.g=ac(h.j,E?y:null,!h.u),h.P>0&&(h.O=new en(g(h.Y,h,h.g),h.P)),y=h.V,E=h.g,b=h.ba;var Y="readystatechange";Array.isArray(Y)||(Y&&(Go[0]=Y.toString()),Y=Go);for(let W=0;W<Y.length;W++){const dt=Xt(E,Y[W],b||y.handleEvent,!1,y.h||y);if(!dt)break;y.g[dt.key]=dt}y=h.J?M(h.J):{},h.u?(h.v||(h.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,y)):(h.v="GET",h.g.ea(h.B,h.v,null,y)),fi(),Yf(h.i,h.v,h.B,h.l,h.S,h.u)}Qn.prototype.ba=function(h){h=h.target;const y=this.O;y&&Zn(h)==3?y.j():this.Y(h)},Qn.prototype.Y=function(h){try{if(h==this.g)t:{const Dt=Zn(this.g),pe=this.g.ya(),Yt=this.g.ca();if(!(Dt<3)&&(Dt!=3||this.g&&(this.h.h||this.g.la()||qe(this.g)))){this.K||Dt!=4||pe==7||(pe==8||Yt<=0?fi(3):fi(2)),_i(this);var y=this.g.ca();this.X=y;var E=Xf(this);if(this.o=y==200,Fu(this.i,this.v,this.B,this.l,this.S,Dt,y),this.o){if(this.U&&!this.L){e:{if(this.g){var b,Y=this.g;if((b=Y.g?Y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(b)){var W=b;break e}}W=null}if(h=W)gi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,vi(this,h);else{this.o=!1,this.m=3,Te(12),vn(this),xn(this);break t}}if(this.R){h=!0;let le;for(;!this.K&&this.C<E.length;)if(le=Qu(this,E),le==Le){Dt==4&&(this.m=4,Te(14),h=!1),gi(this.i,this.l,null,"[Incomplete Response]");break}else if(le==we){this.m=4,Te(15),gi(this.i,this.l,E,"[Invalid Chunk]"),h=!1;break}else gi(this.i,this.l,le,null),vi(this,le);if(Yu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Dt!=4||E.length!=0||this.h.h||(this.m=1,Te(16),h=!1),this.o=this.o&&h,!h)gi(this.i,this.l,E,"[Invalid Chunked Response]"),vn(this),xn(this);else if(E.length>0&&!this.W){this.W=!0;var dt=this.j;dt.g==this&&dt.aa&&!dt.P&&(dt.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),ul(dt),dt.P=!0,Te(11))}}else gi(this.i,this.l,E,null),vi(this,E);Dt==4&&vn(this),this.o&&!this.K&&(Dt==4?nc(this.j,this):(this.o=!1,yi(this)))}else Ji(this.g),y==400&&E.indexOf("Unknown SID")>0?(this.m=3,Te(12)):(this.m=0,Te(13)),vn(this),xn(this)}}}catch{}};function Xf(h){if(!Yu(h))return h.g.la();const y=qe(h.g);if(y==="")return"";let E="";const b=y.length,Y=Zn(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return vn(h),xn(h),"";h.h.i=new c.TextDecoder}for(let W=0;W<b;W++)h.h.h=!0,E+=h.h.i.decode(y[W],{stream:!(Y&&W==b-1)});return y.length=0,h.h.g+=E,h.C=0,h.h.g}function Yu(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Qu(h,y){var E=h.C,b=y.indexOf(`
`,E);return b==-1?Le:(E=Number(y.substring(E,b)),isNaN(E)?we:(b+=1,b+E>y.length?Le:(y=y.slice(b,b+E),h.C=b+E,y)))}Qn.prototype.cancel=function(){this.K=!0,vn(this)};function yi(h){h.T=Date.now()+h.H,xa(h,h.H)}function xa(h,y){if(h.D!=null)throw Error("WatchDog timer not null");h.D=mi(g(h.aa,h),y)}function _i(h){h.D&&(c.clearTimeout(h.D),h.D=null)}Qn.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Os(this.i,this.B),this.M!=2&&(fi(),Te(17)),vn(this),this.m=2,xn(this)):xa(this,this.T-h)};function xn(h){h.j.I==0||h.K||nc(h.j,h)}function vn(h){_i(h);var y=h.O;y&&typeof y.dispose=="function"&&y.dispose(),h.O=null,Yo(h.V),h.g&&(y=h.g,h.g=null,y.abort(),y.dispose())}function vi(h,y){try{var E=h.j;if(E.I!=0&&(E.g==h||Ti(E.h,h))){if(!h.L&&Ti(E.h,h)&&E.I==3){try{var b=E.Ba.g.parse(y)}catch{b=null}if(Array.isArray(b)&&b.length==3){var Y=b;if(Y[0]==0){t:if(!E.v){if(E.g)if(E.g.F+3e3<h.F)Pa(E),Pr(E);else break t;qs(E),Te(18)}}else E.xa=Y[1],0<E.xa-E.K&&Y[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=mi(g(E.Va,E),6e3));Ei(E.h)<=1&&E.ta&&(E.ta=void 0)}else Ii(E,11)}else if((h.L||E.g==h)&&Pa(E),!N(y))for(Y=E.Ba.g.parse(y),y=0;y<Y.length;y++){let Yt=Y[y];const le=Yt[0];if(!(le<=E.K))if(E.K=le,Yt=Yt[1],E.I==2)if(Yt[0]=="c"){E.M=Yt[1],E.ba=Yt[2];const Mn=Yt[3];Mn!=null&&(E.ka=Mn,E.j.info("VER="+E.ka));const Ci=Yt[4];Ci!=null&&(E.za=Ci,E.j.info("SVER="+E.za));const Jn=Yt[5];Jn!=null&&typeof Jn=="number"&&Jn>0&&(b=1.5*Jn,E.O=b,E.j.info("backChannelRequestTimeoutMs_="+b)),b=E;const Wn=h.g;if(Wn){const Hs=Wn.g?Wn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Hs){var W=b.h;W.g||Hs.indexOf("spdy")==-1&&Hs.indexOf("quic")==-1&&Hs.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(Zo(W,W.h),W.h=null))}if(b.G){const za=Wn.g?Wn.g.getResponseHeader("X-HTTP-Session-Id"):null;za&&(b.wa=za,$t(b.J,b.G,za))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-h.F,E.j.info("Handshake RTT: "+E.T+"ms")),b=E;var dt=h;if(b.na=sc(b,b.L?b.ba:null,b.W),dt.L){Jo(b.h,dt);var Dt=dt,pe=b.O;pe&&(Dt.H=pe),Dt.D&&(_i(Dt),yi(Dt)),b.g=dt}else tc(b);E.i.length>0&&Ri(E)}else Yt[0]!="stop"&&Yt[0]!="close"||Ii(E,7);else E.I==3&&(Yt[0]=="stop"||Yt[0]=="close"?Yt[0]=="stop"?Ii(E,7):ol(E):Yt[0]!="noop"&&E.l&&E.l.qa(Yt),E.A=0)}}fi(4)}catch{}}var Ae=class{constructor(h,y){this.g=h,this.map=y}};function Ko(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function $o(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ei(h){return h.h?1:h.g?h.g.size:0}function Ti(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function Zo(h,y){h.g?h.g.add(y):h.h=y}function Jo(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}Ko.prototype.cancel=function(){if(this.i=Wo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Wo(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const E of h.g.values())y=y.concat(E.G);return y}return S(h.i)}var Xu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Da(h,y){if(h){h=h.split("&");for(let E=0;E<h.length;E++){const b=h[E].indexOf("=");let Y,W=null;b>=0?(Y=h[E].substring(0,b),W=h[E].substring(b+1)):Y=h[E],y(Y,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function En(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;h instanceof En?(this.l=h.l,Pe(this,h.j),this.o=h.o,this.g=h.g,Dr(this,h.u),this.h=h.h,tl(this,Ju(h.i)),this.m=h.m):h&&(y=String(h).match(Xu))?(this.l=!1,Pe(this,y[1]||"",!0),this.o=wi(y[2]||""),this.g=wi(y[3]||"",!0),Dr(this,y[4]),this.h=wi(y[5]||"",!0),tl(this,y[6]||"",!0),this.m=wi(y[7]||"")):(this.l=!1,this.i=new Mr(null,this.l))}En.prototype.toString=function(){const h=[];var y=this.j;y&&h.push(Us(y,Oa,!0),":");var E=this.g;return(E||y=="file")&&(h.push("//"),(y=this.o)&&h.push(Us(y,Oa,!0),"@"),h.push($i(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&h.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(Us(E,E.charAt(0)=="/"?el:Ku,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",Us(E,$u)),h.join("")},En.prototype.resolve=function(h){const y=be(this);let E=!!h.j;E?Pe(y,h.j):E=!!h.o,E?y.o=h.o:E=!!h.g,E?y.g=h.g:E=h.u!=null;var b=h.h;if(E)Dr(y,h.u);else if(E=!!h.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var Y=y.h.lastIndexOf("/");Y!=-1&&(b=y.h.slice(0,Y+1)+b)}if(Y=b,Y==".."||Y==".")b="";else if(Y.indexOf("./")!=-1||Y.indexOf("/.")!=-1){b=Y.lastIndexOf("/",0)==0,Y=Y.split("/");const W=[];for(let dt=0;dt<Y.length;){const Dt=Y[dt++];Dt=="."?b&&dt==Y.length&&W.push(""):Dt==".."?((W.length>1||W.length==1&&W[0]!="")&&W.pop(),b&&dt==Y.length&&W.push("")):(W.push(Dt),b=!0)}b=W.join("/")}else b=Y}return E?y.h=b:E=h.i.toString()!=="",E?tl(y,Ju(h.i)):E=!!h.m,E&&(y.m=h.m),y};function be(h){return new En(h)}function Pe(h,y,E){h.j=E?wi(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function Dr(h,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);h.u=y}else h.u=null}function tl(h,y,E){y instanceof Mr?(h.i=y,Va(h.i,h.l)):(E||(y=Us(y,Or)),h.i=new Mr(y,h.l))}function $t(h,y,E){h.i.set(y,E)}function ks(h){return $t(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function wi(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Us(h,y,E){return typeof h=="string"?(h=encodeURI(h).replace(y,cn),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function cn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Oa=/[#\/\?@]/g,Ku=/[#\?:]/g,el=/[#\?]/g,Or=/[#\?@]/g,$u=/#/g;function Mr(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function hn(h){h.g||(h.g=new Map,h.h=0,h.i&&Da(h.i,function(y,E){h.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}i=Mr.prototype,i.add=function(h,y){hn(this),this.i=null,h=Vr(this,h);let E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(y),this.h+=1,this};function Zu(h,y){hn(h),y=Vr(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function nl(h,y){return hn(h),y=Vr(h,y),h.g.has(y)}i.forEach=function(h,y){hn(this),this.g.forEach(function(E,b){E.forEach(function(Y){h.call(y,Y,b,this)},this)},this)};function il(h,y){hn(h);let E=[];if(typeof y=="string")nl(h,y)&&(E=E.concat(h.g.get(Vr(h,y))));else for(h=Array.from(h.g.values()),y=0;y<h.length;y++)E=E.concat(h[y]);return E}i.set=function(h,y){return hn(this),this.i=null,h=Vr(this,h),nl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},i.get=function(h,y){return h?(h=il(this,h),h.length>0?String(h[0]):y):y};function Ma(h,y,E){Zu(h,y),E.length>0&&(h.i=null,h.g.set(Vr(h,y),S(E)),h.h+=E.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(let b=0;b<y.length;b++){var E=y[b];const Y=$i(E);E=il(this,E);for(let W=0;W<E.length;W++){let dt=Y;E[W]!==""&&(dt+="="+$i(E[W])),h.push(dt)}}return this.i=h.join("&")};function Ju(h){const y=new Mr;return y.i=h.i,h.g&&(y.g=new Map(h.g),y.h=h.h),y}function Vr(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function Va(h,y){y&&!h.j&&(hn(h),h.i=null,h.g.forEach(function(E,b){const Y=b.toLowerCase();b!=Y&&(Zu(this,b),Ma(this,Y,E))},h)),h.j=y}function Kn(h,y){const E=new Yn;if(c.Image){const b=new Image;b.onload=_(Dn,E,"TestLoadImage: loaded",!0,y,b),b.onerror=_(Dn,E,"TestLoadImage: error",!1,y,b),b.onabort=_(Dn,E,"TestLoadImage: abort",!1,y,b),b.ontimeout=_(Dn,E,"TestLoadImage: timeout",!1,y,b),c.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=h}else y(!1)}function rl(h,y){const E=new Yn,b=new AbortController,Y=setTimeout(()=>{b.abort(),Dn(E,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:b.signal}).then(W=>{clearTimeout(Y),W.ok?Dn(E,"TestPingServer: ok",!0,y):Dn(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(Y),Dn(E,"TestPingServer: error",!1,y)})}function Dn(h,y,E,b,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),b(E)}catch{}}function kr(){this.g=new zu}function Ai(h){this.i=h.Sb||null,this.h=h.ab||!1}T(Ai,ju),Ai.prototype.g=function(){return new Ls(this.i,this.h)};function Ls(h,y){Ee.call(this),this.H=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Ls,Ee),i=Ls.prototype,i.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=y,this.readyState=1,$n(this)},i.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(y.body=h),(this.H||c).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ur(this)),this.readyState=0},i.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,$n(this)),this.g&&(this.readyState=3,$n(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ka(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function ka(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}i.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?Ur(this):$n(this),this.readyState==3&&ka(this)}},i.Oa=function(h){this.g&&(this.response=this.responseText=h,Ur(this))},i.Na=function(h){this.g&&(this.response=h,Ur(this))},i.ga=function(){this.g&&Ur(this)};function Ur(h){h.readyState=4,h.l=null,h.j=null,h.B=null,$n(h)}i.setRequestHeader=function(h,y){this.A.append(h,y)},i.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=y.next();return h.join(`\r
`)};function $n(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Ls.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function On(h){let y="";return ft(h,function(E,b){y+=b,y+=":",y+=E,y+=`\r
`}),y}function Ps(h,y,E){t:{for(b in E){var b=!1;break t}b=!0}b||(E=On(E),typeof h=="string"?E!=null&&$i(E):$t(h,y,E))}function Wt(h){Ee.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(Wt,Ee);var bi=/^https?$/i,sl=["POST","PUT"];i=Wt.prototype,i.Fa=function(h){this.H=h},i.ea=function(h,y,E,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Xo.g(),this.g.onreadystatechange=w(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(W){zs(this,W);return}if(h=E||"",E=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var Y in b)E.set(Y,b[Y]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const W of b.keys())E.set(W,b.get(W));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(E.keys()).find(W=>W.toLowerCase()=="content-type"),Y=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(sl,y,void 0)>=0)||b||Y||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,dt]of E)this.g.setRequestHeader(W,dt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(W){zs(this,W)}};function zs(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.o=5,al(h),Zi(h)}function al(h){h.A||(h.A=!0,Ve(h,"complete"),Ve(h,"error"))}i.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Ve(this,"complete"),Ve(this,"abort"),Zi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zi(this,!0)),Wt.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?js(this):this.Xa())},i.Xa=function(){js(this)};function js(h){if(h.h&&typeof u<"u"){if(h.v&&Zn(h)==4)setTimeout(h.Ca.bind(h),0);else if(Ve(h,"readystatechange"),Zn(h)==4){h.h=!1;try{const W=h.ca();t:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var E;if(!(E=y)){var b;if(b=W===0){let dt=String(h.D).match(Xu)[1]||null;!dt&&c.self&&c.self.location&&(dt=c.self.location.protocol.slice(0,-1)),b=!bi.test(dt?dt.toLowerCase():"")}E=b}if(E)Ve(h,"complete"),Ve(h,"success");else{h.o=6;try{var Y=Zn(h)>2?h.g.statusText:""}catch{Y=""}h.l=Y+" ["+h.ca()+"]",al(h)}}finally{Zi(h)}}}}function Zi(h,y){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const E=h.g;h.g=null,y||Ve(h,"ready");try{E.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function Zn(h){return h.g?h.g.readyState:0}i.ca=function(){try{return Zn(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),Gf(y)}};function qe(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Ji(h){const y={};h=(h.g&&Zn(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<h.length;b++){if(N(h[b]))continue;var E=Gu(h[b]);const Y=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const W=y[Y]||[];y[Y]=W,W.push(E)}at(y,function(b){return b.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Si(h,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||y}function Lr(h){this.za=0,this.i=[],this.j=new Yn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Si("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Si("baseRetryDelayMs",5e3,h),this.Za=Si("retryDelaySeedMs",1e4,h),this.Ta=Si("forwardChannelMaxRetries",2,h),this.va=Si("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Ko(h&&h.concurrentRequestLimit),this.Ba=new kr,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Lr.prototype,i.ka=8,i.I=1,i.connect=function(h,y,E,b){Te(0),this.W=h,this.H=y||{},E&&b!==void 0&&(this.H.OSID=E,this.H.OAID=b),this.F=this.X,this.J=sc(this,null,this.W),Ri(this)};function ol(h){if(Ua(h),h.I==3){var y=h.V++,E=be(h.J);if($t(E,"SID",h.M),$t(E,"RID",y),$t(E,"TYPE","terminate"),Bs(h,E),y=new Qn(h,h.j,y),y.M=2,y.A=ks(be(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(y.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=y.A,E=!0),E||(y.g=ac(y.j,null),y.g.ea(y.A)),y.F=Date.now(),yi(y)}rc(h)}function Pr(h){h.g&&(ul(h),h.g.cancel(),h.g=null)}function Ua(h){Pr(h),h.v&&(c.clearTimeout(h.v),h.v=null),Pa(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Ri(h){if(!$o(h.h)&&!h.m){h.m=!0;var y=h.Ea;ut||R(),ht||(ut(),ht=!0),I.add(y,h),h.D=0}}function La(h,y){return Ei(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=y.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=mi(g(h.Ea,h,y),ic(h,h.D)),h.D++,!0)}i.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const Y=new Qn(this,this.j,h);let W=this.o;if(this.U&&(W?(W=M(W),lt(W,this.U)):W=this.U),this.u!==null||this.R||(Y.J=W,W=null),this.S)t:{for(var y=0,E=0;E<this.i.length;E++){e:{var b=this.i[E];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(y+=b,y>4096){y=E;break t}if(y===4096||E===this.i.length-1){y=E+1;break t}}y=1e3}else y=1e3;y=Wu(this,Y,y),E=be(this.J),$t(E,"RID",h),$t(E,"CVER",22),this.G&&$t(E,"X-HTTP-Session-Id",this.G),Bs(this,E),W&&(this.R?y="headers="+$i(On(W))+"&"+y:this.u&&Ps(E,this.u,W)),Zo(this.h,Y),this.Ra&&$t(E,"TYPE","init"),this.S?($t(E,"$req",y),$t(E,"SID","null"),Y.U=!0,pi(Y,E,null)):pi(Y,E,y),this.I=2}}else this.I==3&&(h?ll(this,h):this.i.length==0||$o(this.h)||ll(this))};function ll(h,y){var E;y?E=y.l:E=h.V++;const b=be(h.J);$t(b,"SID",h.M),$t(b,"RID",E),$t(b,"AID",h.K),Bs(h,b),h.u&&h.o&&Ps(b,h.u,h.o),E=new Qn(h,h.j,E,h.D+1),h.u===null&&(E.J=h.o),y&&(h.i=y.G.concat(h.i)),y=Wu(h,E,1e3),E.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Zo(h.h,E),pi(E,b,y)}function Bs(h,y){h.H&&ft(h.H,function(E,b){$t(y,b,E)}),h.l&&ft({},function(E,b){$t(y,b,E)})}function Wu(h,y,E){E=Math.min(h.i.length,E);const b=h.l?g(h.l.Ka,h.l,h):null;t:{var Y=h.i;let Dt=-1;for(;;){const pe=["count="+E];Dt==-1?E>0?(Dt=Y[0].g,pe.push("ofs="+Dt)):Dt=0:pe.push("ofs="+Dt);let Yt=!0;for(let le=0;le<E;le++){var W=Y[le].g;const Mn=Y[le].map;if(W-=Dt,W<0)Dt=Math.max(0,Y[le].g-100),Yt=!1;else try{W="req"+W+"_"||"";try{var dt=Mn instanceof Map?Mn:Object.entries(Mn);for(const[Ci,Jn]of dt){let Wn=Jn;d(Jn)&&(Wn=xr(Jn)),pe.push(W+Ci+"="+encodeURIComponent(Wn))}}catch(Ci){throw pe.push(W+"type="+encodeURIComponent("_badmap")),Ci}}catch{b&&b(Mn)}}if(Yt){dt=pe.join("&");break t}}dt=void 0}return h=h.i.splice(0,E),y.G=h,dt}function tc(h){if(!h.g&&!h.v){h.Y=1;var y=h.Da;ut||R(),ht||(ut(),ht=!0),I.add(y,h),h.A=0}}function qs(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=mi(g(h.Da,h),ic(h,h.A)),h.A++,!0)}i.Da=function(){if(this.v=null,ec(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=mi(g(this.Wa,this),h)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Te(10),Pr(this),ec(this))};function ul(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function ec(h){h.g=new Qn(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var y=be(h.na);$t(y,"RID","rpc"),$t(y,"SID",h.M),$t(y,"AID",h.K),$t(y,"CI",h.F?"0":"1"),!h.F&&h.ia&&$t(y,"TO",h.ia),$t(y,"TYPE","xmlhttp"),Bs(h,y),h.u&&h.o&&Ps(y,h.u,h.o),h.O&&(h.g.H=h.O);var E=h.g;h=h.ba,E.M=1,E.A=ks(be(y)),E.u=null,E.R=!0,Na(E,h)}i.Va=function(){this.C!=null&&(this.C=null,Pr(this),qs(this),Te(19))};function Pa(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function nc(h,y){var E=null;if(h.g==y){Pa(h),ul(h),h.g=null;var b=2}else if(Ti(h.h,y))E=y.G,Jo(h.h,y),b=1;else return;if(h.I!=0){if(y.o)if(b==1){E=y.u?y.u.length:0,y=Date.now()-y.F;var Y=h.D;b=Ca(),Ve(b,new di(b,E)),Ri(h)}else tc(h);else if(Y=y.m,Y==3||Y==0&&y.X>0||!(b==1&&La(h,y)||b==2&&qs(h)))switch(E&&E.length>0&&(y=h.h,y.i=y.i.concat(E)),Y){case 1:Ii(h,5);break;case 4:Ii(h,10);break;case 3:Ii(h,6);break;default:Ii(h,2)}}}function ic(h,y){let E=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(E*=2),E*y}function Ii(h,y){if(h.j.info("Error code "+y),y==2){var E=g(h.bb,h),b=h.Ua;const Y=!b;b=new En(b||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Pe(b,"https"),ks(b),Y?Kn(b.toString(),E):rl(b.toString(),E)}else Te(2);h.I=0,h.l&&h.l.pa(y),rc(h),Ua(h)}i.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Te(2)):(this.j.info("Failed to ping google.com"),Te(1))};function rc(h){if(h.I=0,h.ja=[],h.l){const y=Wo(h.h);(y.length!=0||h.i.length!=0)&&(D(h.ja,y),D(h.ja,h.i),h.h.i.length=0,S(h.i),h.i.length=0),h.l.oa()}}function sc(h,y,E){var b=E instanceof En?be(E):new En(E);if(b.g!="")y&&(b.g=y+"."+b.g),Dr(b,b.u);else{var Y=c.location;b=Y.protocol,y=y?y+"."+Y.hostname:Y.hostname,Y=+Y.port;const W=new En(null);b&&Pe(W,b),y&&(W.g=y),Y&&Dr(W,Y),E&&(W.h=E),b=W}return E=h.G,y=h.wa,E&&y&&$t(b,E,y),$t(b,"VER",h.ka),Bs(h,b),b}function ac(h,y,E){if(y&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Aa&&!h.ma?new Wt(new Ai({ab:E})):new Wt(h.ma),y.Fa(h.L),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function oc(){}i=oc.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function zr(){}zr.prototype.g=function(h,y){return new nn(h,y)};function nn(h,y){Ee.call(this),this.g=new Lr(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(h?h["X-WebChannel-Client-Profile"]=y.sa:h={"X-WebChannel-Client-Profile":y.sa}),this.g.U=h,(h=y&&y.Qb)&&!N(h)&&(this.g.u=h),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!N(y)&&(this.g.G=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new Wi(this)}T(nn,Ee),nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){ol(this.g)},nn.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.v&&(E={},E.__data__=xr(h),h=E);y.i.push(new Ae(y.Ya++,h)),y.I==3&&Ri(y)},nn.prototype.N=function(){this.g.l=null,delete this.j,ol(this.g),delete this.g,nn.Z.N.call(this)};function lc(h){Be.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){t:{for(const E in y){h=E;break t}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}T(lc,Be);function uc(){Nn.call(this),this.status=1}T(uc,Nn);function Wi(h){this.g=h}T(Wi,oc),Wi.prototype.ra=function(){Ve(this.g,"a")},Wi.prototype.qa=function(h){Ve(this.g,new lc(h))},Wi.prototype.pa=function(h){Ve(this.g,new uc)},Wi.prototype.oa=function(){Ve(this.g,"b")},zr.prototype.createWebChannel=zr.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,ww=function(){return new zr},Tw=function(){return Ca()},Ew=ge,Eg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ms.NO_ERROR=0,Ms.TIMEOUT=8,Ms.HTTP_ERROR=6,Ch=Ms,Qo.COMPLETE="complete",vw=Qo,Bu.EventType=Gn,Gn.OPEN="a",Gn.CLOSE="b",Gn.ERROR="c",Gn.MESSAGE="d",Ee.prototype.listen=Ee.prototype.J,Zl=Bu,Wt.prototype.listenOnce=Wt.prototype.K,Wt.prototype.getLastError=Wt.prototype.Ha,Wt.prototype.getLastErrorCode=Wt.prototype.ya,Wt.prototype.getStatus=Wt.prototype.ca,Wt.prototype.getResponseJson=Wt.prototype.La,Wt.prototype.getResponseText=Wt.prototype.la,Wt.prototype.send=Wt.prototype.ea,Wt.prototype.setWithCredentials=Wt.prototype.Fa,_w=Wt}).apply(typeof dh<"u"?dh:typeof self<"u"?self:typeof window<"u"?window:{});const lE="@firebase/firestore",uE="4.9.3";class Je{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Je.UNAUTHENTICATED=new Je(null),Je.GOOGLE_CREDENTIALS=new Je("google-credentials-uid"),Je.FIRST_PARTY=new Je("first-party-uid"),Je.MOCK_USER=new Je("mock-user");let Uo="12.7.0";const pa=new ep("@firebase/firestore");function po(){return pa.logLevel}function yt(i,...t){if(pa.logLevel<=Pt.DEBUG){const e=t.map(rp);pa.debug(`Firestore (${Uo}): ${i}`,...e)}}function br(i,...t){if(pa.logLevel<=Pt.ERROR){const e=t.map(rp);pa.error(`Firestore (${Uo}): ${i}`,...e)}}function Ro(i,...t){if(pa.logLevel<=Pt.WARN){const e=t.map(rp);pa.warn(`Firestore (${Uo}): ${i}`,...e)}}function rp(i){if(typeof i=="string")return i;try{return(function(e){return JSON.stringify(e)})(i)}catch{return i}}function St(i,t,e){let s="Unexpected state";typeof t=="string"?s=t:e=t,Aw(i,s,e)}function Aw(i,t,e){let s=`FIRESTORE (${Uo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${i.toString(16)})`;if(e!==void 0)try{s+=" CONTEXT: "+JSON.stringify(e)}catch{s+=" CONTEXT: "+e}throw br(s),new Error(s)}function Kt(i,t,e,s){let o="Unexpected state";typeof e=="string"?o=e:s=e,i||Aw(t,o,s)}function xt(i,t){return i}const rt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pt extends Qi{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Er{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class bw{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class BI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(Je.UNAUTHENTICATED)))}shutdown(){}}class qI{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class HI{constructor(t){this.t=t,this.currentUser=Je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Kt(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,e(p)):Promise.resolve();let u=new Er;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Er,t.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=u;t.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},d=p=>{yt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>d(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(yt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Er)}}),0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((s=>this.i!==t?(yt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Kt(typeof s.accessToken=="string",31837,{l:s}),new bw(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Kt(t===null||typeof t=="string",2055,{h:t}),new Je(t)}}class FI{constructor(t,e,s){this.P=t,this.T=e,this.I=s,this.type="FirstParty",this.user=Je.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class GI{constructor(t,e,s){this.P=t,this.T=e,this.I=s}getToken(){return Promise.resolve(new FI(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(Je.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class cE{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class YI{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,qn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){Kt(this.o===void 0,3512);const s=u=>{u.error!=null&&yt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.m;return this.m=u.token,yt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>s(u)))};const o=u=>{yt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):yt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new cE(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(Kt(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new cE(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function QI(i){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(i);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let s=0;s<i;s++)e[s]=Math.floor(256*Math.random());return e}class sp{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=QI(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<e&&(s+=t.charAt(o[u]%62))}return s}}function zt(i,t){return i<t?-1:i>t?1:0}function Tg(i,t){const e=Math.min(i.length,t.length);for(let s=0;s<e;s++){const o=i.charAt(s),u=t.charAt(s);if(o!==u)return Wm(o)===Wm(u)?zt(o,u):Wm(o)?1:-1}return zt(i.length,t.length)}const XI=55296,KI=57343;function Wm(i){const t=i.charCodeAt(0);return t>=XI&&t<=KI}function Io(i,t,e){return i.length===t.length&&i.every(((s,o)=>e(s,t[o])))}const hE="__name__";class Mi{constructor(t,e,s){e===void 0?e=0:e>t.length&&St(637,{offset:e,range:t.length}),s===void 0?s=t.length-e:s>t.length-e&&St(1746,{length:s,range:t.length-e}),this.segments=t,this.offset=e,this.len=s}get length(){return this.len}isEqual(t){return Mi.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Mi?t.forEach((s=>{e.push(s)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,s=this.limit();e<s;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const s=Math.min(t.length,e.length);for(let o=0;o<s;o++){const u=Mi.compareSegments(t.get(o),e.get(o));if(u!==0)return u}return zt(t.length,e.length)}static compareSegments(t,e){const s=Mi.isNumericId(t),o=Mi.isNumericId(e);return s&&!o?-1:!s&&o?1:s&&o?Mi.extractNumericId(t).compare(Mi.extractNumericId(e)):Tg(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return vs.fromString(t.substring(4,t.length-2))}}class re extends Mi{construct(t,e,s){return new re(t,e,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const s of t){if(s.indexOf("//")>=0)throw new pt(rt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);e.push(...s.split("/").filter((o=>o.length>0)))}return new re(e)}static emptyPath(){return new re([])}}const $I=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xe extends Mi{construct(t,e,s){return new Xe(t,e,s)}static isValidIdentifier(t){return $I.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===hE}static keyField(){return new Xe([hE])}static fromServerFormat(t){const e=[];let s="",o=0;const u=()=>{if(s.length===0)throw new pt(rt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(s),s=""};let c=!1;for(;o<t.length;){const d=t[o];if(d==="\\"){if(o+1===t.length)throw new pt(rt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new pt(rt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,o+=2}else d==="`"?(c=!c,o++):d!=="."||c?(s+=d,o++):(u(),o++)}if(u(),c)throw new pt(rt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Xe(e)}static emptyPath(){return new Xe([])}}class At{constructor(t){this.path=t}static fromPath(t){return new At(re.fromString(t))}static fromName(t){return new At(re.fromString(t).popFirst(5))}static empty(){return new At(re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&re.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return re.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new At(new re(t.slice()))}}function Sw(i,t,e){if(!e)throw new pt(rt.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${t}.`)}function ZI(i,t,e,s){if(t===!0&&s===!0)throw new pt(rt.INVALID_ARGUMENT,`${i} and ${e} cannot be used together.`)}function fE(i){if(!At.isDocumentKey(i))throw new pt(rt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function dE(i){if(At.isDocumentKey(i))throw new pt(rt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Rw(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Ef(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(i);return t?`a custom ${t} object`:"an object"}}return typeof i=="function"?"a function":St(12329,{type:typeof i})}function Tr(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new pt(rt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Ef(i);throw new pt(rt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return i}function JI(i,t){if(t<=0)throw new pt(rt.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${t}.`)}function De(i,t){const e={typeString:i};return t&&(e.value=t),e}function Iu(i,t){if(!Rw(i))throw new pt(rt.INVALID_ARGUMENT,"JSON must be an object");let e;for(const s in t)if(t[s]){const o=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in i)){e=`JSON missing required field: '${s}'`;break}const c=i[s];if(o&&typeof c!==o){e=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&c!==u.value){e=`Expected '${s}' field to equal '${u.value}'`;break}}if(e)throw new pt(rt.INVALID_ARGUMENT,e);return!0}const mE=-62135596800,gE=1e6;class oe{static now(){return oe.fromMillis(Date.now())}static fromDate(t){return oe.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),s=Math.floor((t-1e3*e)*gE);return new oe(e,s)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new pt(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new pt(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<mE)throw new pt(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new pt(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/gE}_compareTo(t){return this.seconds===t.seconds?zt(this.nanoseconds,t.nanoseconds):zt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:oe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Iu(t,oe._jsonSchema))return new oe(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-mE;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}oe._jsonSchemaVersion="firestore/timestamp/1.0",oe._jsonSchema={type:De("string",oe._jsonSchemaVersion),seconds:De("number"),nanoseconds:De("number")};class Ct{static fromTimestamp(t){return new Ct(t)}static min(){return new Ct(new oe(0,0))}static max(){return new Ct(new oe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const hu=-1;function WI(i,t){const e=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Ct.fromTimestamp(s===1e9?new oe(e+1,0):new oe(e,s));return new ws(o,At.empty(),t)}function t2(i){return new ws(i.readTime,i.key,hu)}class ws{constructor(t,e,s){this.readTime=t,this.documentKey=e,this.largestBatchId=s}static min(){return new ws(Ct.min(),At.empty(),hu)}static max(){return new ws(Ct.max(),At.empty(),hu)}}function e2(i,t){let e=i.readTime.compareTo(t.readTime);return e!==0?e:(e=At.comparator(i.documentKey,t.documentKey),e!==0?e:zt(i.largestBatchId,t.largestBatchId))}const n2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class i2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Lo(i){if(i.code!==rt.FAILED_PRECONDITION||i.message!==n2)throw i;yt("LocalStore","Unexpectedly lost primary lease")}class ot{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&St(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new ot(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(e,u).next(s,o)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof ot?e:ot.resolve(e)}catch(e){return ot.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):ot.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):ot.reject(e)}static resolve(t){return new ot(((e,s)=>{e(t)}))}static reject(t){return new ot(((e,s)=>{s(t)}))}static waitFor(t){return new ot(((e,s)=>{let o=0,u=0,c=!1;t.forEach((d=>{++o,d.next((()=>{++u,c&&u===o&&e()}),(p=>s(p)))})),c=!0,u===o&&e()}))}static or(t){let e=ot.resolve(!1);for(const s of t)e=e.next((o=>o?ot.resolve(o):s()));return e}static forEach(t,e){const s=[];return t.forEach(((o,u)=>{s.push(e.call(this,o,u))})),this.waitFor(s)}static mapArray(t,e){return new ot(((s,o)=>{const u=t.length,c=new Array(u);let d=0;for(let p=0;p<u;p++){const g=p;e(t[g]).next((_=>{c[g]=_,++d,d===u&&s(c)}),(_=>o(_)))}}))}static doWhile(t,e){return new ot(((s,o)=>{const u=()=>{t()===!0?e().next((()=>{u()}),o):s()};u()}))}}function r2(i){const t=i.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function Po(i){return i.name==="IndexedDbTransactionError"}class Tf{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>e.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Tf.ce=-1;const ap=-1;function wf(i){return i==null}function Yh(i){return i===0&&1/i==-1/0}function s2(i){return typeof i=="number"&&Number.isInteger(i)&&!Yh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const Iw="";function a2(i){let t="";for(let e=0;e<i.length;e++)t.length>0&&(t=pE(t)),t=o2(i.get(e),t);return pE(t)}function o2(i,t){let e=t;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":e+="";break;case Iw:e+="";break;default:e+=u}}return e}function pE(i){return i+Iw+""}function yE(i){let t=0;for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&t++;return t}function wa(i,t){for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&t(e,i[e])}function Cw(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}class ce{constructor(t,e){this.comparator=t,this.root=e||Qe.EMPTY}insert(t,e){return new ce(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Qe.BLACK,null,null))}remove(t){return new ce(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Qe.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const s=this.comparator(t,e.key);if(s===0)return e.value;s<0?e=e.left:s>0&&(e=e.right)}return null}indexOf(t){let e=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return e+s.left.size;o<0?s=s.left:(e+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,s)=>(t(e,s),!1)))}toString(){const t=[];return this.inorderTraversal(((e,s)=>(t.push(`${e}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new mh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new mh(this.root,t,this.comparator,!1)}getReverseIterator(){return new mh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new mh(this.root,t,this.comparator,!0)}}class mh{constructor(t,e,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=e?s(t.key,e):1,e&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Qe{constructor(t,e,s,o,u){this.key=t,this.value=e,this.color=s??Qe.RED,this.left=o??Qe.EMPTY,this.right=u??Qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,s,o,u){return new Qe(t??this.key,e??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,e,s),null):u===0?o.copy(null,e,null,null,null):o.copy(null,null,null,null,o.right.insert(t,e,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Qe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let s,o=this;if(e(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,e),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),e(t,o.key)===0){if(o.right.isEmpty())return Qe.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,e))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw St(43730,{key:this.key,value:this.value});if(this.right.isRed())throw St(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw St(27949);return t+(this.isRed()?0:1)}}Qe.EMPTY=null,Qe.RED=!0,Qe.BLACK=!1;Qe.EMPTY=new class{constructor(){this.size=0}get key(){throw St(57766)}get value(){throw St(16141)}get color(){throw St(16727)}get left(){throw St(29726)}get right(){throw St(36894)}copy(t,e,s,o,u){return this}insert(t,e,s){return new Qe(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ue{constructor(t){this.comparator=t,this.data=new ce(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,s)=>(t(e),!1)))}forEachInRange(t,e){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;e(o.key)}}forEachWhile(t,e){let s;for(s=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new _E(this.data.getIterator())}getIteratorFrom(t){return new _E(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((s=>{e=e.add(s)})),e}isEqual(t){if(!(t instanceof Ue)||this.size!==t.size)return!1;const e=this.data.getIterator(),s=t.data.getIterator();for(;e.hasNext();){const o=e.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new Ue(this.comparator);return e.data=t,e}}class _E{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ri{constructor(t){this.fields=t,t.sort(Xe.comparator)}static empty(){return new ri([])}unionWith(t){let e=new Ue(Xe.comparator);for(const s of this.fields)e=e.add(s);for(const s of t)e=e.add(s);return new ri(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Io(this.fields,t.fields,((e,s)=>e.isEqual(s)))}}class Nw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ke{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Nw("Invalid base64 string: "+u):u}})(t);return new Ke(e)}static fromUint8Array(t){const e=(function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u})(t);return new Ke(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const s=new Uint8Array(e.length);for(let o=0;o<e.length;o++)s[o]=e.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return zt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ke.EMPTY_BYTE_STRING=new Ke("");const l2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function As(i){if(Kt(!!i,39018),typeof i=="string"){let t=0;const e=l2.exec(i);if(Kt(!!e,46558,{timestamp:i}),e[1]){let o=e[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:ve(i.seconds),nanos:ve(i.nanos)}}function ve(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function bs(i){return typeof i=="string"?Ke.fromBase64String(i):Ke.fromUint8Array(i)}const xw="server_timestamp",Dw="__type__",Ow="__previous_value__",Mw="__local_write_time__";function op(i){return(i?.mapValue?.fields||{})[Dw]?.stringValue===xw}function Af(i){const t=i.mapValue.fields[Ow];return op(t)?Af(t):t}function fu(i){const t=As(i.mapValue.fields[Mw].timestampValue);return new oe(t.seconds,t.nanos)}class u2{constructor(t,e,s,o,u,c,d,p,g,_){this.databaseId=t,this.appId=e,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=_}}const Qh="(default)";class du{constructor(t,e){this.projectId=t,this.database=e||Qh}static empty(){return new du("","")}get isDefaultDatabase(){return this.database===Qh}isEqual(t){return t instanceof du&&t.projectId===this.projectId&&t.database===this.database}}const Vw="__type__",c2="__max__",gh={mapValue:{}},kw="__vector__",Xh="value";function Ss(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?op(i)?4:f2(i)?9007199254740991:h2(i)?10:11:St(28295,{value:i})}function Gi(i,t){if(i===t)return!0;const e=Ss(i);if(e!==Ss(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return fu(i).isEqual(fu(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=As(o.timestampValue),d=As(u.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(i,t);case 5:return i.stringValue===t.stringValue;case 6:return(function(o,u){return bs(o.bytesValue).isEqual(bs(u.bytesValue))})(i,t);case 7:return i.referenceValue===t.referenceValue;case 8:return(function(o,u){return ve(o.geoPointValue.latitude)===ve(u.geoPointValue.latitude)&&ve(o.geoPointValue.longitude)===ve(u.geoPointValue.longitude)})(i,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return ve(o.integerValue)===ve(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=ve(o.doubleValue),d=ve(u.doubleValue);return c===d?Yh(c)===Yh(d):isNaN(c)&&isNaN(d)}return!1})(i,t);case 9:return Io(i.arrayValue.values||[],t.arrayValue.values||[],Gi);case 10:case 11:return(function(o,u){const c=o.mapValue.fields||{},d=u.mapValue.fields||{};if(yE(c)!==yE(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!Gi(c[p],d[p])))return!1;return!0})(i,t);default:return St(52216,{left:i})}}function mu(i,t){return(i.values||[]).find((e=>Gi(e,t)))!==void 0}function Co(i,t){if(i===t)return 0;const e=Ss(i),s=Ss(t);if(e!==s)return zt(e,s);switch(e){case 0:case 9007199254740991:return 0;case 1:return zt(i.booleanValue,t.booleanValue);case 2:return(function(u,c){const d=ve(u.integerValue||u.doubleValue),p=ve(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1})(i,t);case 3:return vE(i.timestampValue,t.timestampValue);case 4:return vE(fu(i),fu(t));case 5:return Tg(i.stringValue,t.stringValue);case 6:return(function(u,c){const d=bs(u),p=bs(c);return d.compareTo(p)})(i.bytesValue,t.bytesValue);case 7:return(function(u,c){const d=u.split("/"),p=c.split("/");for(let g=0;g<d.length&&g<p.length;g++){const _=zt(d[g],p[g]);if(_!==0)return _}return zt(d.length,p.length)})(i.referenceValue,t.referenceValue);case 8:return(function(u,c){const d=zt(ve(u.latitude),ve(c.latitude));return d!==0?d:zt(ve(u.longitude),ve(c.longitude))})(i.geoPointValue,t.geoPointValue);case 9:return EE(i.arrayValue,t.arrayValue);case 10:return(function(u,c){const d=u.fields||{},p=c.fields||{},g=d[Xh]?.arrayValue,_=p[Xh]?.arrayValue,T=zt(g?.values?.length||0,_?.values?.length||0);return T!==0?T:EE(g,_)})(i.mapValue,t.mapValue);case 11:return(function(u,c){if(u===gh.mapValue&&c===gh.mapValue)return 0;if(u===gh.mapValue)return 1;if(c===gh.mapValue)return-1;const d=u.fields||{},p=Object.keys(d),g=c.fields||{},_=Object.keys(g);p.sort(),_.sort();for(let T=0;T<p.length&&T<_.length;++T){const w=Tg(p[T],_[T]);if(w!==0)return w;const S=Co(d[p[T]],g[_[T]]);if(S!==0)return S}return zt(p.length,_.length)})(i.mapValue,t.mapValue);default:throw St(23264,{he:e})}}function vE(i,t){if(typeof i=="string"&&typeof t=="string"&&i.length===t.length)return zt(i,t);const e=As(i),s=As(t),o=zt(e.seconds,s.seconds);return o!==0?o:zt(e.nanos,s.nanos)}function EE(i,t){const e=i.values||[],s=t.values||[];for(let o=0;o<e.length&&o<s.length;++o){const u=Co(e[o],s[o]);if(u)return u}return zt(e.length,s.length)}function No(i){return wg(i)}function wg(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(e){const s=As(e);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(e){return bs(e).toBase64()})(i.bytesValue):"referenceValue"in i?(function(e){return At.fromName(e).toString()})(i.referenceValue):"geoPointValue"in i?(function(e){return`geo(${e.latitude},${e.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(e){let s="[",o=!0;for(const u of e.values||[])o?o=!1:s+=",",s+=wg(u);return s+"]"})(i.arrayValue):"mapValue"in i?(function(e){const s=Object.keys(e.fields||{}).sort();let o="{",u=!0;for(const c of s)u?u=!1:o+=",",o+=`${c}:${wg(e.fields[c])}`;return o+"}"})(i.mapValue):St(61005,{value:i})}function Nh(i){switch(Ss(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Af(i);return t?16+Nh(t):16;case 5:return 2*i.stringValue.length;case 6:return bs(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Nh(u)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return wa(s.fields,((u,c)=>{o+=u.length+Nh(c)})),o})(i.mapValue);default:throw St(13486,{value:i})}}function TE(i,t){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${t.path.canonicalString()}`}}function Ag(i){return!!i&&"integerValue"in i}function lp(i){return!!i&&"arrayValue"in i}function wE(i){return!!i&&"nullValue"in i}function AE(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function xh(i){return!!i&&"mapValue"in i}function h2(i){return(i?.mapValue?.fields||{})[Vw]?.stringValue===kw}function ru(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const t={mapValue:{fields:{}}};return wa(i.mapValue.fields,((e,s)=>t.mapValue.fields[e]=ru(s))),t}if(i.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(i.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=ru(i.arrayValue.values[e]);return t}return{...i}}function f2(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===c2}class Hn{constructor(t){this.value=t}static empty(){return new Hn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let s=0;s<t.length-1;++s)if(e=(e.mapValue.fields||{})[t.get(s)],!xh(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=ru(e)}setAll(t){let e=Xe.emptyPath(),s={},o=[];t.forEach(((c,d)=>{if(!e.isImmediateParentOf(d)){const p=this.getFieldsMap(e);this.applyChanges(p,s,o),s={},o=[],e=d.popLast()}c?s[d.lastSegment()]=ru(c):o.push(d.lastSegment())}));const u=this.getFieldsMap(e);this.applyChanges(u,s,o)}delete(t){const e=this.field(t.popLast());xh(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Gi(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=e.mapValue.fields[t.get(s)];xh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},e.mapValue.fields[t.get(s)]=o),e=o}return e.mapValue.fields}applyChanges(t,e,s){wa(e,((o,u)=>t[o]=u));for(const o of s)delete t[o]}clone(){return new Hn(ru(this.value))}}function Uw(i){const t=[];return wa(i.fields,((e,s)=>{const o=new Xe([e]);if(xh(s)){const u=Uw(s.mapValue).fields;if(u.length===0)t.push(o);else for(const c of u)t.push(o.child(c))}else t.push(o)})),new ri(t)}class We{constructor(t,e,s,o,u,c,d){this.key=t,this.documentType=e,this.version=s,this.readTime=o,this.createTime=u,this.data=c,this.documentState=d}static newInvalidDocument(t){return new We(t,0,Ct.min(),Ct.min(),Ct.min(),Hn.empty(),0)}static newFoundDocument(t,e,s,o){return new We(t,1,e,Ct.min(),s,o,0)}static newNoDocument(t,e){return new We(t,2,e,Ct.min(),Ct.min(),Hn.empty(),0)}static newUnknownDocument(t,e){return new We(t,3,e,Ct.min(),Ct.min(),Hn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Ct.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Hn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ct.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof We&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new We(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Kh{constructor(t,e){this.position=t,this.inclusive=e}}function bE(i,t,e){let s=0;for(let o=0;o<i.position.length;o++){const u=t[o],c=i.position[o];if(u.field.isKeyField()?s=At.comparator(At.fromName(c.referenceValue),e.key):s=Co(c,e.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function SE(i,t){if(i===null)return t===null;if(t===null||i.inclusive!==t.inclusive||i.position.length!==t.position.length)return!1;for(let e=0;e<i.position.length;e++)if(!Gi(i.position[e],t.position[e]))return!1;return!0}class gu{constructor(t,e="asc"){this.field=t,this.dir=e}}function d2(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}class Lw{}class xe extends Lw{constructor(t,e,s){super(),this.field=t,this.op=e,this.value=s}static create(t,e,s){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,s):new g2(t,e,s):e==="array-contains"?new _2(t,s):e==="in"?new v2(t,s):e==="not-in"?new E2(t,s):e==="array-contains-any"?new T2(t,s):new xe(t,e,s)}static createKeyFieldInFilter(t,e,s){return e==="in"?new p2(t,s):new y2(t,s)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Co(e,this.value)):e!==null&&Ss(this.value)===Ss(e)&&this.matchesComparison(Co(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return St(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class li extends Lw{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new li(t,e)}matches(t){return Pw(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Pw(i){return i.op==="and"}function zw(i){return m2(i)&&Pw(i)}function m2(i){for(const t of i.filters)if(t instanceof li)return!1;return!0}function bg(i){if(i instanceof xe)return i.field.canonicalString()+i.op.toString()+No(i.value);if(zw(i))return i.filters.map((t=>bg(t))).join(",");{const t=i.filters.map((e=>bg(e))).join(",");return`${i.op}(${t})`}}function jw(i,t){return i instanceof xe?(function(s,o){return o instanceof xe&&s.op===o.op&&s.field.isEqual(o.field)&&Gi(s.value,o.value)})(i,t):i instanceof li?(function(s,o){return o instanceof li&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,c,d)=>u&&jw(c,o.filters[d])),!0):!1})(i,t):void St(19439)}function Bw(i){return i instanceof xe?(function(e){return`${e.field.canonicalString()} ${e.op} ${No(e.value)}`})(i):i instanceof li?(function(e){return e.op.toString()+" {"+e.getFilters().map(Bw).join(" ,")+"}"})(i):"Filter"}class g2 extends xe{constructor(t,e,s){super(t,e,s),this.key=At.fromName(s.referenceValue)}matches(t){const e=At.comparator(t.key,this.key);return this.matchesComparison(e)}}class p2 extends xe{constructor(t,e){super(t,"in",e),this.keys=qw("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class y2 extends xe{constructor(t,e){super(t,"not-in",e),this.keys=qw("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function qw(i,t){return(t.arrayValue?.values||[]).map((e=>At.fromName(e.referenceValue)))}class _2 extends xe{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return lp(e)&&mu(e.arrayValue,this.value)}}class v2 extends xe{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&mu(this.value.arrayValue,e)}}class E2 extends xe{constructor(t,e){super(t,"not-in",e)}matches(t){if(mu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!mu(this.value.arrayValue,e)}}class T2 extends xe{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!lp(e)||!e.arrayValue.values)&&e.arrayValue.values.some((s=>mu(this.value.arrayValue,s)))}}class w2{constructor(t,e=null,s=[],o=[],u=null,c=null,d=null){this.path=t,this.collectionGroup=e,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=c,this.endAt=d,this.Te=null}}function RE(i,t=null,e=[],s=[],o=null,u=null,c=null){return new w2(i,t,e,s,o,u,c)}function up(i){const t=xt(i);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((s=>bg(s))).join(","),e+="|ob:",e+=t.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),wf(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((s=>No(s))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((s=>No(s))).join(",")),t.Te=e}return t.Te}function cp(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<i.orderBy.length;e++)if(!d2(i.orderBy[e],t.orderBy[e]))return!1;if(i.filters.length!==t.filters.length)return!1;for(let e=0;e<i.filters.length;e++)if(!jw(i.filters[e],t.filters[e]))return!1;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!SE(i.startAt,t.startAt)&&SE(i.endAt,t.endAt)}function Sg(i){return At.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class zo{constructor(t,e=null,s=[],o=[],u=null,c="F",d=null,p=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=c,this.startAt=d,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function A2(i,t,e,s,o,u,c,d){return new zo(i,t,e,s,o,u,c,d)}function bf(i){return new zo(i)}function IE(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function Hw(i){return i.collectionGroup!==null}function su(i){const t=xt(i);if(t.Ie===null){t.Ie=[];const e=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),e.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Ue(Xe.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(d=d.add(g.field))}))})),d})(t).forEach((u=>{e.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new gu(u,s))})),e.has(Xe.keyField().canonicalString())||t.Ie.push(new gu(Xe.keyField(),s))}return t.Ie}function zi(i){const t=xt(i);return t.Ee||(t.Ee=b2(t,su(i))),t.Ee}function b2(i,t){if(i.limitType==="F")return RE(i.path,i.collectionGroup,t,i.filters,i.limit,i.startAt,i.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new gu(o.field,u)}));const e=i.endAt?new Kh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Kh(i.startAt.position,i.startAt.inclusive):null;return RE(i.path,i.collectionGroup,t,i.filters,i.limit,e,s)}}function Rg(i,t){const e=i.filters.concat([t]);return new zo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),e,i.limit,i.limitType,i.startAt,i.endAt)}function $h(i,t,e){return new zo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,e,i.startAt,i.endAt)}function Sf(i,t){return cp(zi(i),zi(t))&&i.limitType===t.limitType}function Fw(i){return`${up(zi(i))}|lt:${i.limitType}`}function yo(i){return`Query(target=${(function(e){let s=e.path.canonicalString();return e.collectionGroup!==null&&(s+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(s+=`, filters: [${e.filters.map((o=>Bw(o))).join(", ")}]`),wf(e.limit)||(s+=", limit: "+e.limit),e.orderBy.length>0&&(s+=`, orderBy: [${e.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),e.startAt&&(s+=", startAt: ",s+=e.startAt.inclusive?"b:":"a:",s+=e.startAt.position.map((o=>No(o))).join(",")),e.endAt&&(s+=", endAt: ",s+=e.endAt.inclusive?"a:":"b:",s+=e.endAt.position.map((o=>No(o))).join(",")),`Target(${s})`})(zi(i))}; limitType=${i.limitType})`}function Rf(i,t){return t.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):At.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(i,t)&&(function(s,o){for(const u of su(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,t)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(i,t)&&(function(s,o){return!(s.startAt&&!(function(c,d,p){const g=bE(c,d,p);return c.inclusive?g<=0:g<0})(s.startAt,su(s),o)||s.endAt&&!(function(c,d,p){const g=bE(c,d,p);return c.inclusive?g>=0:g>0})(s.endAt,su(s),o))})(i,t)}function S2(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Gw(i){return(t,e)=>{let s=!1;for(const o of su(i)){const u=R2(o,t,e);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function R2(i,t,e){const s=i.field.isKeyField()?At.comparator(t.key,e.key):(function(u,c,d){const p=c.data.field(u),g=d.data.field(u);return p!==null&&g!==null?Co(p,g):St(42886)})(i.field,t,e);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return St(19790,{direction:i.dir})}}class Aa{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),s=this.inner[e];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,e){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,e]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,e]);o.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),s=this.inner[e];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[e]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){wa(this.inner,((e,s)=>{for(const[o,u]of s)t(o,u)}))}isEmpty(){return Cw(this.inner)}size(){return this.innerSize}}const I2=new ce(At.comparator);function Sr(){return I2}const Yw=new ce(At.comparator);function Jl(...i){let t=Yw;for(const e of i)t=t.insert(e.key,e);return t}function Qw(i){let t=Yw;return i.forEach(((e,s)=>t=t.insert(e,s.overlayedDocument))),t}function aa(){return au()}function Xw(){return au()}function au(){return new Aa((i=>i.toString()),((i,t)=>i.isEqual(t)))}const C2=new ce(At.comparator),N2=new Ue(At.comparator);function jt(...i){let t=N2;for(const e of i)t=t.add(e);return t}const x2=new Ue(zt);function D2(){return x2}function hp(i,t){if(i.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yh(t)?"-0":t}}function Kw(i){return{integerValue:""+i}}function O2(i,t){return s2(t)?Kw(t):hp(i,t)}class If{constructor(){this._=void 0}}function M2(i,t,e){return i instanceof pu?(function(o,u){const c={fields:{[Dw]:{stringValue:xw},[Mw]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&op(u)&&(u=Af(u)),u&&(c.fields[Ow]=u),{mapValue:c}})(e,t):i instanceof yu?Zw(i,t):i instanceof _u?Jw(i,t):(function(o,u){const c=$w(o,u),d=CE(c)+CE(o.Ae);return Ag(c)&&Ag(o.Ae)?Kw(d):hp(o.serializer,d)})(i,t)}function V2(i,t,e){return i instanceof yu?Zw(i,t):i instanceof _u?Jw(i,t):e}function $w(i,t){return i instanceof Zh?(function(s){return Ag(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(t)?t:{integerValue:0}:null}class pu extends If{}class yu extends If{constructor(t){super(),this.elements=t}}function Zw(i,t){const e=Ww(t);for(const s of i.elements)e.some((o=>Gi(o,s)))||e.push(s);return{arrayValue:{values:e}}}class _u extends If{constructor(t){super(),this.elements=t}}function Jw(i,t){let e=Ww(t);for(const s of i.elements)e=e.filter((o=>!Gi(o,s)));return{arrayValue:{values:e}}}class Zh extends If{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function CE(i){return ve(i.integerValue||i.doubleValue)}function Ww(i){return lp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class k2{constructor(t,e){this.field=t,this.transform=e}}function U2(i,t){return i.field.isEqual(t.field)&&(function(s,o){return s instanceof yu&&o instanceof yu||s instanceof _u&&o instanceof _u?Io(s.elements,o.elements,Gi):s instanceof Zh&&o instanceof Zh?Gi(s.Ae,o.Ae):s instanceof pu&&o instanceof pu})(i.transform,t.transform)}class L2{constructor(t,e){this.version=t,this.transformResults=e}}class wr{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new wr}static exists(t){return new wr(void 0,t)}static updateTime(t){return new wr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Dh(i,t){return i.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(i.updateTime):i.exists===void 0||i.exists===t.isFoundDocument()}class Cf{}function tA(i,t){if(!i.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return i.isNoDocument()?new nA(i.key,wr.none()):new Cu(i.key,i.data,wr.none());{const e=i.data,s=Hn.empty();let o=new Ue(Xe.comparator);for(let u of t.fields)if(!o.has(u)){let c=e.field(u);c===null&&u.length>1&&(u=u.popLast(),c=e.field(u)),c===null?s.delete(u):s.set(u,c),o=o.add(u)}return new ba(i.key,s,new ri(o.toArray()),wr.none())}}function P2(i,t,e){i instanceof Cu?(function(o,u,c){const d=o.value.clone(),p=xE(o.fieldTransforms,u,c.transformResults);d.setAll(p),u.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(i,t,e):i instanceof ba?(function(o,u,c){if(!Dh(o.precondition,u))return void u.convertToUnknownDocument(c.version);const d=xE(o.fieldTransforms,u,c.transformResults),p=u.data;p.setAll(eA(o)),p.setAll(d),u.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(i,t,e):(function(o,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,e)}function ou(i,t,e,s){return i instanceof Cu?(function(u,c,d,p){if(!Dh(u.precondition,c))return d;const g=u.value.clone(),_=DE(u.fieldTransforms,p,c);return g.setAll(_),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(i,t,e,s):i instanceof ba?(function(u,c,d,p){if(!Dh(u.precondition,c))return d;const g=DE(u.fieldTransforms,p,c),_=c.data;return _.setAll(eA(u)),_.setAll(g),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(i,t,e,s):(function(u,c,d){return Dh(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(i,t,e)}function z2(i,t){let e=null;for(const s of i.fieldTransforms){const o=t.data.field(s.field),u=$w(s.transform,o||null);u!=null&&(e===null&&(e=Hn.empty()),e.set(s.field,u))}return e||null}function NE(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Io(s,o,((u,c)=>U2(u,c)))})(i.fieldTransforms,t.fieldTransforms)&&(i.type===0?i.value.isEqual(t.value):i.type!==1||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask))}class Cu extends Cf{constructor(t,e,s,o=[]){super(),this.key=t,this.value=e,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ba extends Cf{constructor(t,e,s,o,u=[]){super(),this.key=t,this.data=e,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function eA(i){const t=new Map;return i.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const s=i.data.field(e);t.set(e,s)}})),t}function xE(i,t,e){const s=new Map;Kt(i.length===e.length,32656,{Re:e.length,Ve:i.length});for(let o=0;o<e.length;o++){const u=i[o],c=u.transform,d=t.data.field(u.field);s.set(u.field,V2(c,d,e[o]))}return s}function DE(i,t,e){const s=new Map;for(const o of i){const u=o.transform,c=e.data.field(o.field);s.set(o.field,M2(u,c,t))}return s}class nA extends Cf{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class j2 extends Cf{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class B2{constructor(t,e,s,o){this.batchId=t,this.localWriteTime=e,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,e){const s=e.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&P2(u,t,s[o])}}applyToLocalView(t,e){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(e=ou(s,t,e,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(e=ou(s,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const s=Xw();return this.mutations.forEach((o=>{const u=t.get(o.key),c=u.overlayedDocument;let d=this.applyToLocalView(c,u.mutatedFields);d=e.has(o.key)?null:d;const p=tA(c,d);p!==null&&s.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(Ct.min())})),s}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),jt())}isEqual(t){return this.batchId===t.batchId&&Io(this.mutations,t.mutations,((e,s)=>NE(e,s)))&&Io(this.baseMutations,t.baseMutations,((e,s)=>NE(e,s)))}}class fp{constructor(t,e,s,o){this.batch=t,this.commitVersion=e,this.mutationResults=s,this.docVersions=o}static from(t,e,s){Kt(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let o=(function(){return C2})();const u=t.mutations;for(let c=0;c<u.length;c++)o=o.insert(u[c].key,s[c].version);return new fp(t,e,s,o)}}class q2{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class H2{constructor(t,e){this.count=t,this.unchangedNames=e}}var Ne,qt;function F2(i){switch(i){case rt.OK:return St(64938);case rt.CANCELLED:case rt.UNKNOWN:case rt.DEADLINE_EXCEEDED:case rt.RESOURCE_EXHAUSTED:case rt.INTERNAL:case rt.UNAVAILABLE:case rt.UNAUTHENTICATED:return!1;case rt.INVALID_ARGUMENT:case rt.NOT_FOUND:case rt.ALREADY_EXISTS:case rt.PERMISSION_DENIED:case rt.FAILED_PRECONDITION:case rt.ABORTED:case rt.OUT_OF_RANGE:case rt.UNIMPLEMENTED:case rt.DATA_LOSS:return!0;default:return St(15467,{code:i})}}function iA(i){if(i===void 0)return br("GRPC error has no .code"),rt.UNKNOWN;switch(i){case Ne.OK:return rt.OK;case Ne.CANCELLED:return rt.CANCELLED;case Ne.UNKNOWN:return rt.UNKNOWN;case Ne.DEADLINE_EXCEEDED:return rt.DEADLINE_EXCEEDED;case Ne.RESOURCE_EXHAUSTED:return rt.RESOURCE_EXHAUSTED;case Ne.INTERNAL:return rt.INTERNAL;case Ne.UNAVAILABLE:return rt.UNAVAILABLE;case Ne.UNAUTHENTICATED:return rt.UNAUTHENTICATED;case Ne.INVALID_ARGUMENT:return rt.INVALID_ARGUMENT;case Ne.NOT_FOUND:return rt.NOT_FOUND;case Ne.ALREADY_EXISTS:return rt.ALREADY_EXISTS;case Ne.PERMISSION_DENIED:return rt.PERMISSION_DENIED;case Ne.FAILED_PRECONDITION:return rt.FAILED_PRECONDITION;case Ne.ABORTED:return rt.ABORTED;case Ne.OUT_OF_RANGE:return rt.OUT_OF_RANGE;case Ne.UNIMPLEMENTED:return rt.UNIMPLEMENTED;case Ne.DATA_LOSS:return rt.DATA_LOSS;default:return St(39323,{code:i})}}(qt=Ne||(Ne={}))[qt.OK=0]="OK",qt[qt.CANCELLED=1]="CANCELLED",qt[qt.UNKNOWN=2]="UNKNOWN",qt[qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qt[qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qt[qt.NOT_FOUND=5]="NOT_FOUND",qt[qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",qt[qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",qt[qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",qt[qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qt[qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qt[qt.ABORTED=10]="ABORTED",qt[qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",qt[qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",qt[qt.INTERNAL=13]="INTERNAL",qt[qt.UNAVAILABLE=14]="UNAVAILABLE",qt[qt.DATA_LOSS=15]="DATA_LOSS";function G2(){return new TextEncoder}const Y2=new vs([4294967295,4294967295],0);function OE(i){const t=G2().encode(i),e=new yw;return e.update(t),new Uint8Array(e.digest())}function ME(i){const t=new DataView(i.buffer),e=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new vs([e,s],0),new vs([o,u],0)]}class dp{constructor(t,e,s){if(this.bitmap=t,this.padding=e,this.hashCount=s,e<0||e>=8)throw new Wl(`Invalid padding: ${e}`);if(s<0)throw new Wl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Wl(`Invalid hash count: ${s}`);if(t.length===0&&e!==0)throw new Wl(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=vs.fromNumber(this.ge)}ye(t,e,s){let o=t.add(e.multiply(vs.fromNumber(s)));return o.compare(Y2)===1&&(o=new vs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=OE(t),[s,o]=ME(e);for(let u=0;u<this.hashCount;u++){const c=this.ye(s,o,u);if(!this.we(c))return!1}return!0}static create(t,e,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),c=new dp(u,o,e);return s.forEach((d=>c.insert(d))),c}insert(t){if(this.ge===0)return;const e=OE(t),[s,o]=ME(e);for(let u=0;u<this.hashCount;u++){const c=this.ye(s,o,u);this.Se(c)}}Se(t){const e=Math.floor(t/8),s=t%8;this.bitmap[e]|=1<<s}}class Wl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Nf{constructor(t,e,s,o,u){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,e,s){const o=new Map;return o.set(t,Nu.createSynthesizedTargetChangeForCurrentChange(t,e,s)),new Nf(Ct.min(),o,new ce(zt),Sr(),jt())}}class Nu{constructor(t,e,s,o,u){this.resumeToken=t,this.current=e,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,e,s){return new Nu(s,e,jt(),jt(),jt())}}class Oh{constructor(t,e,s,o){this.be=t,this.removedTargetIds=e,this.key=s,this.De=o}}class rA{constructor(t,e){this.targetId=t,this.Ce=e}}class sA{constructor(t,e,s=Ke.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=e,this.resumeToken=s,this.cause=o}}class VE{constructor(){this.ve=0,this.Fe=kE(),this.Me=Ke.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=jt(),e=jt(),s=jt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:e=e.add(o);break;case 1:s=s.add(o);break;default:St(38017,{changeType:u})}})),new Nu(this.Me,this.xe,t,e,s)}qe(){this.Oe=!1,this.Fe=kE()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Kt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Q2{constructor(t){this.Ge=t,this.ze=new Map,this.je=Sr(),this.Je=ph(),this.He=ph(),this.Ye=new ce(zt)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const s=this.nt(e);switch(t.state){case 0:this.rt(e)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),s.Le(t.resumeToken));break;default:St(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((s,o)=>{this.rt(o)&&e(o)}))}st(t){const e=t.targetId,s=t.Ce.count,o=this.ot(e);if(o){const u=o.target;if(Sg(u))if(s===0){const c=new At(u.path);this.et(e,c,We.newNoDocument(c,Ct.min()))}else Kt(s===1,20013,{expectedCount:s});else{const c=this._t(e);if(c!==s){const d=this.ut(t),p=d?this.ct(d,t,c):1;if(p!==0){this.it(e);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,g)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=e;let c,d;try{c=bs(s).toUint8Array()}catch(p){if(p instanceof Nw)return Ro("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new dp(c,o,u)}catch(p){return Ro(p instanceof Wl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.ge===0?null:d}ct(t,e,s){return e.Ce.count===s-this.Pt(t,e.targetId)?0:2}Pt(t,e){const s=this.Ge.getRemoteKeysForTarget(e);let o=0;return s.forEach((u=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;t.mightContain(d)||(this.et(e,u,null),o++)})),o}Tt(t){const e=new Map;this.ze.forEach(((u,c)=>{const d=this.ot(c);if(d){if(u.current&&Sg(d.target)){const p=new At(d.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,We.newNoDocument(p,t))}u.Be&&(e.set(c,u.ke()),u.qe())}}));let s=jt();this.He.forEach(((u,c)=>{let d=!0;c.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(s=s.add(u))})),this.je.forEach(((u,c)=>c.setReadTime(t)));const o=new Nf(t,e,this.Ye,this.je,s);return this.je=Sr(),this.Je=ph(),this.He=ph(),this.Ye=new ce(zt),o}Xe(t,e){if(!this.rt(t))return;const s=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,s),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,s){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,e)?o.Qe(e,1):o.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),s&&(this.je=this.je.insert(e,s))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new VE,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new Ue(zt),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new Ue(zt),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||yt("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new VE),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function ph(){return new ce(At.comparator)}function kE(){return new ce(At.comparator)}const X2={asc:"ASCENDING",desc:"DESCENDING"},K2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$2={and:"AND",or:"OR"};class Z2{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Ig(i,t){return i.useProto3Json||wf(t)?t:{value:t}}function Jh(i,t){return i.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function aA(i,t){return i.useProto3Json?t.toBase64():t.toUint8Array()}function J2(i,t){return Jh(i,t.toTimestamp())}function ji(i){return Kt(!!i,49232),Ct.fromTimestamp((function(e){const s=As(e);return new oe(s.seconds,s.nanos)})(i))}function mp(i,t){return Cg(i,t).canonicalString()}function Cg(i,t){const e=(function(o){return new re(["projects",o.projectId,"databases",o.database])})(i).child("documents");return t===void 0?e:e.child(t)}function oA(i){const t=re.fromString(i);return Kt(fA(t),10190,{key:t.toString()}),t}function Ng(i,t){return mp(i.databaseId,t.path)}function tg(i,t){const e=oA(t);if(e.get(1)!==i.databaseId.projectId)throw new pt(rt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+i.databaseId.projectId);if(e.get(3)!==i.databaseId.database)throw new pt(rt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+i.databaseId.database);return new At(uA(e))}function lA(i,t){return mp(i.databaseId,t)}function W2(i){const t=oA(i);return t.length===4?re.emptyPath():uA(t)}function xg(i){return new re(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function uA(i){return Kt(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function UE(i,t,e){return{name:Ng(i,t),fields:e.value.mapValue.fields}}function tC(i,t){let e;if("targetChange"in t){t.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:St(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(g,_){return g.useProto3Json?(Kt(_===void 0||typeof _=="string",58123),Ke.fromBase64String(_||"")):(Kt(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),Ke.fromUint8Array(_||new Uint8Array))})(i,t.targetChange.resumeToken),c=t.targetChange.cause,d=c&&(function(g){const _=g.code===void 0?rt.UNKNOWN:iA(g.code);return new pt(_,g.message||"")})(c);e=new sA(s,o,u,d||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=tg(i,s.document.name),u=ji(s.document.updateTime),c=s.document.createTime?ji(s.document.createTime):Ct.min(),d=new Hn({mapValue:{fields:s.document.fields}}),p=We.newFoundDocument(o,u,c,d),g=s.targetIds||[],_=s.removedTargetIds||[];e=new Oh(g,_,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=tg(i,s.document),u=s.readTime?ji(s.readTime):Ct.min(),c=We.newNoDocument(o,u),d=s.removedTargetIds||[];e=new Oh([],d,c.key,c)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=tg(i,s.document),u=s.removedTargetIds||[];e=new Oh([],u,o,null)}else{if(!("filter"in t))return St(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,c=new H2(o,u),d=s.targetId;e=new rA(d,c)}}return e}function eC(i,t){let e;if(t instanceof Cu)e={update:UE(i,t.key,t.value)};else if(t instanceof nA)e={delete:Ng(i,t.key)};else if(t instanceof ba)e={update:UE(i,t.key,t.data),updateMask:cC(t.fieldMask)};else{if(!(t instanceof j2))return St(16599,{Vt:t.type});e={verify:Ng(i,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((s=>(function(u,c){const d=c.transform;if(d instanceof pu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof yu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof _u)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Zh)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw St(20930,{transform:c.transform})})(0,s)))),t.precondition.isNone||(e.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:J2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:St(27497)})(i,t.precondition)),e}function nC(i,t){return i&&i.length>0?(Kt(t!==void 0,14353),i.map((e=>(function(o,u){let c=o.updateTime?ji(o.updateTime):ji(u);return c.isEqual(Ct.min())&&(c=ji(u)),new L2(c,o.transformResults||[])})(e,t)))):[]}function iC(i,t){return{documents:[lA(i,t.path)]}}function rC(i,t){const e={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),e.structuredQuery.from=[{collectionId:s.lastSegment()}]),e.parent=lA(i,o);const u=(function(g){if(g.length!==0)return hA(li.create(g,"and"))})(t.filters);u&&(e.structuredQuery.where=u);const c=(function(g){if(g.length!==0)return g.map((_=>(function(w){return{field:_o(w.field),direction:oC(w.dir)}})(_)))})(t.orderBy);c&&(e.structuredQuery.orderBy=c);const d=Ig(i,t.limit);return d!==null&&(e.structuredQuery.limit=d),t.startAt&&(e.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:e,parent:o}}function sC(i){let t=W2(i.parent);const e=i.structuredQuery,s=e.from?e.from.length:0;let o=null;if(s>0){Kt(s===1,65062);const _=e.from[0];_.allDescendants?o=_.collectionId:t=t.child(_.collectionId)}let u=[];e.where&&(u=(function(T){const w=cA(T);return w instanceof li&&zw(w)?w.getFilters():[w]})(e.where));let c=[];e.orderBy&&(c=(function(T){return T.map((w=>(function(D){return new gu(vo(D.field),(function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(D.direction))})(w)))})(e.orderBy));let d=null;e.limit&&(d=(function(T){let w;return w=typeof T=="object"?T.value:T,wf(w)?null:w})(e.limit));let p=null;e.startAt&&(p=(function(T){const w=!!T.before,S=T.values||[];return new Kh(S,w)})(e.startAt));let g=null;return e.endAt&&(g=(function(T){const w=!T.before,S=T.values||[];return new Kh(S,w)})(e.endAt)),A2(t,o,c,u,d,"F",p,g)}function aC(i,t){const e=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return St(28987,{purpose:o})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function cA(i){return i.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const s=vo(e.unaryFilter.field);return xe.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=vo(e.unaryFilter.field);return xe.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=vo(e.unaryFilter.field);return xe.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=vo(e.unaryFilter.field);return xe.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return St(61313);default:return St(60726)}})(i):i.fieldFilter!==void 0?(function(e){return xe.create(vo(e.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return St(58110);default:return St(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(e){return li.create(e.compositeFilter.filters.map((s=>cA(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return St(1026)}})(e.compositeFilter.op))})(i):St(30097,{filter:i})}function oC(i){return X2[i]}function lC(i){return K2[i]}function uC(i){return $2[i]}function _o(i){return{fieldPath:i.canonicalString()}}function vo(i){return Xe.fromServerFormat(i.fieldPath)}function hA(i){return i instanceof xe?(function(e){if(e.op==="=="){if(AE(e.value))return{unaryFilter:{field:_o(e.field),op:"IS_NAN"}};if(wE(e.value))return{unaryFilter:{field:_o(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(AE(e.value))return{unaryFilter:{field:_o(e.field),op:"IS_NOT_NAN"}};if(wE(e.value))return{unaryFilter:{field:_o(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_o(e.field),op:lC(e.op),value:e.value}}})(i):i instanceof li?(function(e){const s=e.getFilters().map((o=>hA(o)));return s.length===1?s[0]:{compositeFilter:{op:uC(e.op),filters:s}}})(i):St(54877,{filter:i})}function cC(i){const t=[];return i.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function fA(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}class gs{constructor(t,e,s,o,u=Ct.min(),c=Ct.min(),d=Ke.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=e,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(t){return new gs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new gs(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class hC{constructor(t){this.yt=t}}function fC(i){const t=sC({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?$h(t,t.limit,"L"):t}class dC{constructor(){this.Cn=new mC}addToCollectionParentIndex(t,e){return this.Cn.add(e),ot.resolve()}getCollectionParents(t,e){return ot.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return ot.resolve()}deleteFieldIndex(t,e){return ot.resolve()}deleteAllFieldIndexes(t){return ot.resolve()}createTargetIndexes(t,e){return ot.resolve()}getDocumentsMatchingTarget(t,e){return ot.resolve(null)}getIndexType(t,e){return ot.resolve(0)}getFieldIndexes(t,e){return ot.resolve([])}getNextCollectionGroupToUpdate(t){return ot.resolve(null)}getMinOffset(t,e){return ot.resolve(ws.min())}getMinOffsetFromCollectionGroup(t,e){return ot.resolve(ws.min())}updateCollectionGroup(t,e,s){return ot.resolve()}updateIndexEntries(t,e){return ot.resolve()}}class mC{constructor(){this.index={}}add(t){const e=t.lastSegment(),s=t.popLast(),o=this.index[e]||new Ue(re.comparator),u=!o.has(s);return this.index[e]=o.add(s),u}has(t){const e=t.lastSegment(),s=t.popLast(),o=this.index[e];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Ue(re.comparator)).toArray()}}const LE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},dA=41943040;class yn{static withCacheSize(t){return new yn(t,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=s}}yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(dA,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);class xo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new xo(0)}static cr(){return new xo(-1)}}const PE="LruGarbageCollector",gC=1048576;function zE([i,t],[e,s]){const o=zt(i,e);return o===0?zt(t,s):o}class pC{constructor(t){this.Ir=t,this.buffer=new Ue(zE),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const s=this.buffer.last();zE(e,s)<0&&(this.buffer=this.buffer.delete(s).add(e))}}get maxValue(){return this.buffer.last()[0]}}class yC{constructor(t,e,s){this.garbageCollector=t,this.asyncQueue=e,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){yt(PE,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Po(e)?yt(PE,"Ignoring IndexedDB error during garbage collection: ",e):await Lo(e)}await this.Vr(3e5)}))}}class _C{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next((s=>Math.floor(e/100*s)))}nthSequenceNumber(t,e){if(e===0)return ot.resolve(Tf.ce);const s=new pC(e);return this.mr.forEachTarget(t,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(t,e,s){return this.mr.removeTargets(t,e,s)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(yt("LruGarbageCollector","Garbage collection skipped; disabled"),ot.resolve(LE)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(yt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),LE):this.yr(t,e)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let s,o,u,c,d,p,g;const _=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(yt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,c=Date.now(),this.nthSequenceNumber(t,o)))).next((T=>(s=T,d=Date.now(),this.removeTargets(t,s,e)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(t,s)))).next((T=>(g=Date.now(),po()<=Pt.DEBUG&&yt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${o} in `+(d-c)+`ms
	Removed ${u} targets in `+(p-d)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-_}ms`),ot.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function vC(i,t){return new _C(i,t)}class EC{constructor(){this.changes=new Aa((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,We.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const s=this.changes.get(e);return s!==void 0?ot.resolve(s):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class TC{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class wC{constructor(t,e,s,o){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,e){let s=null;return this.documentOverlayCache.getOverlay(t,e).next((o=>(s=o,this.remoteDocumentCache.getEntry(t,e)))).next((o=>(s!==null&&ou(s.mutation,o,ri.empty(),oe.now()),o)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((s=>this.getLocalViewOfDocuments(t,s,jt()).next((()=>s))))}getLocalViewOfDocuments(t,e,s=jt()){const o=aa();return this.populateOverlays(t,o,e).next((()=>this.computeViews(t,e,o,s).next((u=>{let c=Jl();return u.forEach(((d,p)=>{c=c.insert(d,p.overlayedDocument)})),c}))))}getOverlayedDocuments(t,e){const s=aa();return this.populateOverlays(t,s,e).next((()=>this.computeViews(t,e,s,jt())))}populateOverlays(t,e,s){const o=[];return s.forEach((u=>{e.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((c,d)=>{e.set(c,d)}))}))}computeViews(t,e,s,o){let u=Sr();const c=au(),d=(function(){return au()})();return e.forEach(((p,g)=>{const _=s.get(g.key);o.has(g.key)&&(_===void 0||_.mutation instanceof ba)?u=u.insert(g.key,g):_!==void 0?(c.set(g.key,_.mutation.getFieldMask()),ou(_.mutation,g,_.mutation.getFieldMask(),oe.now())):c.set(g.key,ri.empty())})),this.recalculateAndSaveOverlays(t,u).next((p=>(p.forEach(((g,_)=>c.set(g,_))),e.forEach(((g,_)=>d.set(g,new TC(_,c.get(g)??null)))),d)))}recalculateAndSaveOverlays(t,e){const s=au();let o=new ce(((c,d)=>c-d)),u=jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((c=>{for(const d of c)d.keys().forEach((p=>{const g=e.get(p);if(g===null)return;let _=s.get(p)||ri.empty();_=d.applyToLocalView(g,_),s.set(p,_);const T=(o.get(d.batchId)||jt()).add(p);o=o.insert(d.batchId,T)}))})).next((()=>{const c=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,_=p.value,T=Xw();_.forEach((w=>{if(!u.has(w)){const S=tA(e.get(w),s.get(w));S!==null&&T.set(w,S),u=u.add(w)}})),c.push(this.documentOverlayCache.saveOverlays(t,g,T))}return ot.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,e,s,o){return(function(c){return At.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):Hw(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,s,o):this.getDocumentsMatchingCollectionQuery(t,e,s,o)}getNextDocuments(t,e,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,s,o).next((u=>{const c=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,s.largestBatchId,o-u.size):ot.resolve(aa());let d=hu,p=u;return c.next((g=>ot.forEach(g,((_,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),u.get(_)?ot.resolve():this.remoteDocumentCache.getEntry(t,_).next((w=>{p=p.insert(_,w)}))))).next((()=>this.populateOverlays(t,g,u))).next((()=>this.computeViews(t,p,g,jt()))).next((_=>({batchId:d,changes:Qw(_)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new At(e)).next((s=>{let o=Jl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(t,e,s,o){const u=e.collectionGroup;let c=Jl();return this.indexManager.getCollectionParents(t,u).next((d=>ot.forEach(d,(p=>{const g=(function(T,w){return new zo(w,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(e,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,s,o).next((_=>{_.forEach(((T,w)=>{c=c.insert(T,w)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,e,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,s.largestBatchId).next((c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,s,u,o)))).next((c=>{u.forEach(((p,g)=>{const _=g.getKey();c.get(_)===null&&(c=c.insert(_,We.newInvalidDocument(_)))}));let d=Jl();return c.forEach(((p,g)=>{const _=u.get(p);_!==void 0&&ou(_.mutation,g,ri.empty(),oe.now()),Rf(e,g)&&(d=d.insert(p,g))})),d}))}}class AC{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return ot.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,(function(o){return{id:o.id,version:o.version,createTime:ji(o.createTime)}})(e)),ot.resolve()}getNamedQuery(t,e){return ot.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,(function(o){return{name:o.name,query:fC(o.bundledQuery),readTime:ji(o.readTime)}})(e)),ot.resolve()}}class bC{constructor(){this.overlays=new ce(At.comparator),this.qr=new Map}getOverlay(t,e){return ot.resolve(this.overlays.get(e))}getOverlays(t,e){const s=aa();return ot.forEach(e,(o=>this.getOverlay(t,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(t,e,s){return s.forEach(((o,u)=>{this.St(t,e,u)})),ot.resolve()}removeOverlaysForBatchId(t,e,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),ot.resolve()}getOverlaysForCollection(t,e,s){const o=aa(),u=e.length+1,c=new At(e.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!e.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ot.resolve(o)}getOverlaysForCollectionGroup(t,e,s,o){let u=new ce(((g,_)=>g-_));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===e&&g.largestBatchId>s){let _=u.get(g.largestBatchId);_===null&&(_=aa(),u=u.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const d=aa(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,_)=>d.set(g,_))),!(d.size()>=o)););return ot.resolve(d)}St(t,e,s){const o=this.overlays.get(s.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new q2(e,s));let u=this.qr.get(e);u===void 0&&(u=jt(),this.qr.set(e,u)),this.qr.set(e,u.add(s.key))}}class SC{constructor(){this.sessionToken=Ke.EMPTY_BYTE_STRING}getSessionToken(t){return ot.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,ot.resolve()}}class gp{constructor(){this.Qr=new Ue(je.$r),this.Ur=new Ue(je.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const s=new je(t,e);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,e){t.forEach((s=>this.addReference(s,e)))}removeReference(t,e){this.Gr(new je(t,e))}zr(t,e){t.forEach((s=>this.removeReference(s,e)))}jr(t){const e=new At(new re([])),s=new je(e,t),o=new je(e,t+1),u=[];return this.Ur.forEachInRange([s,o],(c=>{this.Gr(c),u.push(c.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new At(new re([])),s=new je(e,t),o=new je(e,t+1);let u=jt();return this.Ur.forEachInRange([s,o],(c=>{u=u.add(c.key)})),u}containsKey(t){const e=new je(t,0),s=this.Qr.firstAfterOrEqual(e);return s!==null&&t.isEqual(s.key)}}class je{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return At.comparator(t.key,e.key)||zt(t.Yr,e.Yr)}static Kr(t,e){return zt(t.Yr,e.Yr)||At.comparator(t.key,e.key)}}class RC{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new Ue(je.$r)}checkEmpty(t){return ot.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new B2(u,e,s,o);this.mutationQueue.push(c);for(const d of o)this.Zr=this.Zr.add(new je(d.key,u)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return ot.resolve(c)}lookupMutationBatch(t,e){return ot.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const s=e+1,o=this.ei(s),u=o<0?0:o;return ot.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ot.resolve(this.mutationQueue.length===0?ap:this.tr-1)}getAllMutationBatches(t){return ot.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const s=new je(e,0),o=new je(e,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(c=>{const d=this.Xr(c.Yr);u.push(d)})),ot.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,e){let s=new Ue(zt);return e.forEach((o=>{const u=new je(o,0),c=new je(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,c],(d=>{s=s.add(d.Yr)}))})),ot.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,e){const s=e.path,o=s.length+1;let u=s;At.isDocumentKey(u)||(u=u.child(""));const c=new je(new At(u),0);let d=new Ue(zt);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(d=d.add(p.Yr)),!0)}),c),ot.resolve(this.ti(d))}ti(t){const e=[];return t.forEach((s=>{const o=this.Xr(s);o!==null&&e.push(o)})),e}removeMutationBatch(t,e){Kt(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ot.forEach(e.mutations,(o=>{const u=new je(o.key,e.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,e){const s=new je(e,0),o=this.Zr.firstAfterOrEqual(s);return ot.resolve(e.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,ot.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class IC{constructor(t){this.ri=t,this.docs=(function(){return new ce(At.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const s=e.key,o=this.docs.get(s),u=o?o.size:0,c=this.ri(e);return this.docs=this.docs.insert(s,{document:e.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const s=this.docs.get(e);return ot.resolve(s?s.document.mutableCopy():We.newInvalidDocument(e))}getEntries(t,e){let s=Sr();return e.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():We.newInvalidDocument(o))})),ot.resolve(s)}getDocumentsMatchingQuery(t,e,s,o){let u=Sr();const c=e.path,d=new At(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:_}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||e2(t2(_),s)<=0||(o.has(_.key)||Rf(e,_))&&(u=u.insert(_.key,_.mutableCopy()))}return ot.resolve(u)}getAllFromCollectionGroup(t,e,s,o){St(9500)}ii(t,e){return ot.forEach(this.docs,(s=>e(s)))}newChangeBuffer(t){return new CC(this)}getSize(t){return ot.resolve(this.size)}}class CC extends EC{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?e.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(s)})),ot.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}class NC{constructor(t){this.persistence=t,this.si=new Aa((e=>up(e)),cp),this.lastRemoteSnapshotVersion=Ct.min(),this.highestTargetId=0,this.oi=0,this._i=new gp,this.targetCount=0,this.ai=xo.ur()}forEachTarget(t,e){return this.si.forEach(((s,o)=>e(o))),ot.resolve()}getLastRemoteSnapshotVersion(t){return ot.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ot.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),ot.resolve(this.highestTargetId)}setTargetsMetadata(t,e,s){return s&&(this.lastRemoteSnapshotVersion=s),e>this.oi&&(this.oi=e),ot.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new xo(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,ot.resolve()}updateTargetData(t,e){return this.Pr(e),ot.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,ot.resolve()}removeTargets(t,e,s){let o=0;const u=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=e&&s.get(d.targetId)===null&&(this.si.delete(c),u.push(this.removeMatchingKeysForTargetId(t,d.targetId)),o++)})),ot.waitFor(u).next((()=>o))}getTargetCount(t){return ot.resolve(this.targetCount)}getTargetData(t,e){const s=this.si.get(e)||null;return ot.resolve(s)}addMatchingKeys(t,e,s){return this._i.Wr(e,s),ot.resolve()}removeMatchingKeys(t,e,s){this._i.zr(e,s);const o=this.persistence.referenceDelegate,u=[];return o&&e.forEach((c=>{u.push(o.markPotentiallyOrphaned(t,c))})),ot.waitFor(u)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),ot.resolve()}getMatchingKeysForTargetId(t,e){const s=this._i.Hr(e);return ot.resolve(s)}containsKey(t,e){return ot.resolve(this._i.containsKey(e))}}class mA{constructor(t,e){this.ui={},this.overlays={},this.ci=new Tf(0),this.li=!1,this.li=!0,this.hi=new SC,this.referenceDelegate=t(this),this.Pi=new NC(this),this.indexManager=new dC,this.remoteDocumentCache=(function(o){return new IC(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new hC(e),this.Ii=new AC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new bC,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let s=this.ui[t.toKey()];return s||(s=new RC(e,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,s){yt("MemoryPersistence","Starting transaction:",t);const o=new xC(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,e){return ot.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,e))))}}class xC extends i2{constructor(t){super(),this.currentSequenceNumber=t}}class pp{constructor(t){this.persistence=t,this.Ri=new gp,this.Vi=null}static mi(t){return new pp(t)}get fi(){if(this.Vi)return this.Vi;throw St(60996)}addReference(t,e,s){return this.Ri.addReference(s,e),this.fi.delete(s.toString()),ot.resolve()}removeReference(t,e,s){return this.Ri.removeReference(s,e),this.fi.add(s.toString()),ot.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),ot.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,e.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(t,e)))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ot.forEach(this.fi,(s=>{const o=At.fromPath(s);return this.gi(t,o).next((u=>{u||e.removeEntry(o,Ct.min())}))})).next((()=>(this.Vi=null,e.apply(t))))}updateLimboDocument(t,e){return this.gi(t,e).next((s=>{s?this.fi.delete(e.toString()):this.fi.add(e.toString())}))}Ti(t){return 0}gi(t,e){return ot.or([()=>ot.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class Wh{constructor(t,e){this.persistence=t,this.pi=new Aa((s=>a2(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=vC(this,e)}static mi(t,e){return new Wh(t,e)}Ei(){}di(t){return ot.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>e.next((o=>s+o))))}wr(t){let e=0;return this.pr(t,(s=>{e++})).next((()=>e))}pr(t,e){return ot.forEach(this.pi,((s,o)=>this.br(t,s,o).next((u=>u?ot.resolve():e(o)))))}removeTargets(t,e,s){return this.persistence.getTargetCache().removeTargets(t,e,s)}removeOrphanedDocuments(t,e){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(c=>this.br(t,c,e).next((d=>{d||(s++,u.removeEntry(c,Ct.min()))})))).next((()=>u.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),ot.resolve()}removeTarget(t,e){const s=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,e,s){return this.pi.set(s,t.currentSequenceNumber),ot.resolve()}removeReference(t,e,s){return this.pi.set(s,t.currentSequenceNumber),ot.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),ot.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=Nh(t.data.value)),e}br(t,e,s){return ot.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const o=this.pi.get(e);return ot.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class yp{constructor(t,e,s,o){this.targetId=t,this.fromCache=e,this.Es=s,this.ds=o}static As(t,e){let s=jt(),o=jt();for(const u of e.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new yp(t,e.fromCache,s,o)}}class DC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class OC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return TR()?8:r2(tn())>0?6:4})()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,s,o){const u={result:null};return this.ys(t,e).next((c=>{u.result=c})).next((()=>{if(!u.result)return this.ws(t,e,o,s).next((c=>{u.result=c}))})).next((()=>{if(u.result)return;const c=new DC;return this.Ss(t,e,c).next((d=>{if(u.result=d,this.Vs)return this.bs(t,e,c,d.size)}))})).next((()=>u.result))}bs(t,e,s,o){return s.documentReadCount<this.fs?(po()<=Pt.DEBUG&&yt("QueryEngine","SDK will not create cache indexes for query:",yo(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ot.resolve()):(po()<=Pt.DEBUG&&yt("QueryEngine","Query:",yo(e),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(po()<=Pt.DEBUG&&yt("QueryEngine","The SDK decides to create cache indexes for query:",yo(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,zi(e))):ot.resolve())}ys(t,e){if(IE(e))return ot.resolve(null);let s=zi(e);return this.indexManager.getIndexType(t,s).next((o=>o===0?null:(e.limit!==null&&o===1&&(e=$h(e,null,"F"),s=zi(e)),this.indexManager.getDocumentsMatchingTarget(t,s).next((u=>{const c=jt(...u);return this.ps.getDocuments(t,c).next((d=>this.indexManager.getMinOffset(t,s).next((p=>{const g=this.Ds(e,d);return this.Cs(e,g,c,p.readTime)?this.ys(t,$h(e,null,"F")):this.vs(t,g,e,p)}))))})))))}ws(t,e,s,o){return IE(e)||o.isEqual(Ct.min())?ot.resolve(null):this.ps.getDocuments(t,s).next((u=>{const c=this.Ds(e,u);return this.Cs(e,c,s,o)?ot.resolve(null):(po()<=Pt.DEBUG&&yt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),yo(e)),this.vs(t,c,e,WI(o,hu)).next((d=>d)))}))}Ds(t,e){let s=new Ue(Gw(t));return e.forEach(((o,u)=>{Rf(t,u)&&(s=s.add(u))})),s}Cs(t,e,s,o){if(t.limit===null)return!1;if(s.size!==e.size)return!0;const u=t.limitType==="F"?e.last():e.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,e,s){return po()<=Pt.DEBUG&&yt("QueryEngine","Using full collection scan to execute query:",yo(e)),this.ps.getDocumentsMatchingQuery(t,e,ws.min(),s)}vs(t,e,s,o){return this.ps.getDocumentsMatchingQuery(t,s,o).next((u=>(e.forEach((c=>{u=u.insert(c.key,c)})),u)))}}const _p="LocalStore",MC=3e8;class VC{constructor(t,e,s,o){this.persistence=t,this.Fs=e,this.serializer=o,this.Ms=new ce(zt),this.xs=new Aa((u=>up(u)),cp),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new wC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Ms)))}}function kC(i,t,e,s){return new VC(i,t,e,s)}async function gA(i,t){const e=xt(i);return await e.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return e.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,e.Bs(t),e.mutationQueue.getAllMutationBatches(s)))).next((u=>{const c=[],d=[];let p=jt();for(const g of o){c.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}for(const g of u){d.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}return e.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:d})))}))}))}function UC(i,t){const e=xt(i);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=t.batch.keys(),u=e.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,p,g,_){const T=g.batch,w=T.keys();let S=ot.resolve();return w.forEach((D=>{S=S.next((()=>_.getEntry(p,D))).next((O=>{const x=g.docVersions.get(D);Kt(x!==null,48541),O.version.compareTo(x)<0&&(T.applyToRemoteDocument(O,g),O.isValidDocument()&&(O.setReadTime(g.commitVersion),_.addEntry(O)))}))})),S.next((()=>d.mutationQueue.removeMutationBatch(p,T)))})(e,s,t,u).next((()=>u.apply(s))).next((()=>e.mutationQueue.performConsistencyCheck(s))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(d){let p=jt();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p})(t)))).next((()=>e.localDocuments.getDocuments(s,o)))}))}function pA(i){const t=xt(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Pi.getLastRemoteSnapshotVersion(e)))}function LC(i,t){const e=xt(i),s=t.snapshotVersion;let o=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const c=e.Ns.newChangeBuffer({trackRemovals:!0});o=e.Ms;const d=[];t.targetChanges.forEach(((_,T)=>{const w=o.get(T);if(!w)return;d.push(e.Pi.removeMatchingKeys(u,_.removedDocuments,T).next((()=>e.Pi.addMatchingKeys(u,_.addedDocuments,T))));let S=w.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(T)!==null?S=S.withResumeToken(Ke.EMPTY_BYTE_STRING,Ct.min()).withLastLimboFreeSnapshotVersion(Ct.min()):_.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(_.resumeToken,s)),o=o.insert(T,S),(function(O,x,z){return O.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=MC?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0})(w,S,_)&&d.push(e.Pi.updateTargetData(u,S))}));let p=Sr(),g=jt();if(t.documentUpdates.forEach((_=>{t.resolvedLimboDocuments.has(_)&&d.push(e.persistence.referenceDelegate.updateLimboDocument(u,_))})),d.push(PC(u,c,t.documentUpdates).next((_=>{p=_.ks,g=_.qs}))),!s.isEqual(Ct.min())){const _=e.Pi.getLastRemoteSnapshotVersion(u).next((T=>e.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));d.push(_)}return ot.waitFor(d).next((()=>c.apply(u))).next((()=>e.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(e.Ms=o,u)))}function PC(i,t,e){let s=jt(),o=jt();return e.forEach((u=>s=s.add(u))),t.getEntries(i,s).next((u=>{let c=Sr();return e.forEach(((d,p)=>{const g=u.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(Ct.min())?(t.removeEntry(d,p.readTime),c=c.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),c=c.insert(d,p)):yt(_p,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)})),{ks:c,qs:o}}))}function zC(i,t){const e=xt(i);return e.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=ap),e.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function jC(i,t){const e=xt(i);return e.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return e.Pi.getTargetData(s,t).next((u=>u?(o=u,ot.resolve(o)):e.Pi.allocateTargetId(s).next((c=>(o=new gs(t,c,"TargetPurposeListen",s.currentSequenceNumber),e.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=e.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(s.targetId,s),e.xs.set(t,s.targetId)),s}))}async function Dg(i,t,e){const s=xt(i),o=s.Ms.get(t),u=e?"readwrite":"readwrite-primary";try{e||await s.persistence.runTransaction("Release target",u,(c=>s.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!Po(c))throw c;yt(_p,`Failed to update sequence numbers for target ${t}: ${c}`)}s.Ms=s.Ms.remove(t),s.xs.delete(o.target)}function jE(i,t,e){const s=xt(i);let o=Ct.min(),u=jt();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,g,_){const T=xt(p),w=T.xs.get(_);return w!==void 0?ot.resolve(T.Ms.get(w)):T.Pi.getTargetData(g,_)})(s,c,zi(t)).next((d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,d.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(c,t,e?o:Ct.min(),e?u:jt()))).next((d=>(BC(s,S2(t),d),{documents:d,Qs:u})))))}function BC(i,t,e){let s=i.Os.get(t)||Ct.min();e.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),i.Os.set(t,s)}class BE{constructor(){this.activeTargetIds=D2()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class qC{constructor(){this.Mo=new BE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,s){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,s){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new BE,Promise.resolve()}handleUserChange(t,e,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class HC{Oo(t){}shutdown(){}}const qE="ConnectivityMonitor";class HE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){yt(qE,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){yt(qE,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let yh=null;function Og(){return yh===null?yh=(function(){return 268435456+Math.round(2147483648*Math.random())})():yh++,"0x"+yh.toString(16)}const eg="RestConnection",FC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class GC{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Qh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(t,e,s,o,u){const c=Og(),d=this.zo(t,e.toUriEncodedString());yt(eg,`Sending RPC '${t}' ${c}:`,d,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(d),_=Cs(g);return this.Jo(t,d,p,s,_).then((T=>(yt(eg,`Received RPC '${t}' ${c}: `,T),T)),(T=>{throw Ro(eg,`RPC '${t}' ${c} failed with error: `,T,"url: ",d,"request:",s),T}))}Ho(t,e,s,o,u,c){return this.Go(t,e,s,o,u)}jo(t,e,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Uo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((o,u)=>t[u]=o)),s&&s.headers.forEach(((o,u)=>t[u]=o))}zo(t,e){const s=FC[t];return`${this.Uo}/v1/${e}:${s}`}terminate(){}}class YC{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Ze="WebChannelConnection";class QC extends GC{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,s,o,u){const c=Og();return new Promise(((d,p)=>{const g=new _w;g.setWithCredentials(!0),g.listenOnce(vw.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Ch.NO_ERROR:const T=g.getResponseJson();yt(Ze,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(T)),d(T);break;case Ch.TIMEOUT:yt(Ze,`RPC '${t}' ${c} timed out`),p(new pt(rt.DEADLINE_EXCEEDED,"Request time out"));break;case Ch.HTTP_ERROR:const w=g.getStatus();if(yt(Ze,`RPC '${t}' ${c} failed with status:`,w,"response text:",g.getResponseText()),w>0){let S=g.getResponseJson();Array.isArray(S)&&(S=S[0]);const D=S?.error;if(D&&D.status&&D.message){const O=(function(z){const J=z.toLowerCase().replace(/_/g,"-");return Object.values(rt).indexOf(J)>=0?J:rt.UNKNOWN})(D.status);p(new pt(O,D.message))}else p(new pt(rt.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new pt(rt.UNAVAILABLE,"Connection failed."));break;default:St(9055,{l_:t,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{yt(Ze,`RPC '${t}' ${c} completed.`)}}));const _=JSON.stringify(o);yt(Ze,`RPC '${t}' ${c} sending request:`,o),g.send(e,"POST",_,s,15)}))}T_(t,e,s){const o=Og(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=ww(),d=Tw(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,e,s),p.encodeInitMessageHeaders=!0;const _=u.join("");yt(Ze,`Creating RPC '${t}' stream ${o}: ${_}`,p);const T=c.createWebChannel(_,p);this.I_(T);let w=!1,S=!1;const D=new YC({Yo:x=>{S?yt(Ze,`Not sending because RPC '${t}' stream ${o} is closed:`,x):(w||(yt(Ze,`Opening RPC '${t}' stream ${o} transport.`),T.open(),w=!0),yt(Ze,`RPC '${t}' stream ${o} sending:`,x),T.send(x))},Zo:()=>T.close()}),O=(x,z,J)=>{x.listen(z,(K=>{try{J(K)}catch(q){setTimeout((()=>{throw q}),0)}}))};return O(T,Zl.EventType.OPEN,(()=>{S||(yt(Ze,`RPC '${t}' stream ${o} transport opened.`),D.o_())})),O(T,Zl.EventType.CLOSE,(()=>{S||(S=!0,yt(Ze,`RPC '${t}' stream ${o} transport closed`),D.a_(),this.E_(T))})),O(T,Zl.EventType.ERROR,(x=>{S||(S=!0,Ro(Ze,`RPC '${t}' stream ${o} transport errored. Name:`,x.name,"Message:",x.message),D.a_(new pt(rt.UNAVAILABLE,"The operation could not be completed")))})),O(T,Zl.EventType.MESSAGE,(x=>{if(!S){const z=x.data[0];Kt(!!z,16349);const J=z,K=J?.error||J[0]?.error;if(K){yt(Ze,`RPC '${t}' stream ${o} received error:`,K);const q=K.status;let ut=(function(R){const C=Ne[R];if(C!==void 0)return iA(C)})(q),ht=K.message;ut===void 0&&(ut=rt.INTERNAL,ht="Unknown error status: "+q+" with message "+K.message),S=!0,D.a_(new pt(ut,ht)),T.close()}else yt(Ze,`RPC '${t}' stream ${o} received:`,z),D.u_(z)}})),O(d,Ew.STAT_EVENT,(x=>{x.stat===Eg.PROXY?yt(Ze,`RPC '${t}' stream ${o} detected buffering proxy`):x.stat===Eg.NOPROXY&&yt(Ze,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{D.__()}),0),D}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((e=>e===t))}}function ng(){return typeof document<"u"?document:null}function xf(i){return new Z2(i,!0)}class yA{constructor(t,e,s=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=e,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,e-s);o>0&&yt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const FE="PersistentStream";class _A{constructor(t,e,s,o,u,c,d,p){this.Mi=t,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new yA(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===rt.RESOURCE_EXHAUSTED?(br(e.toString()),br("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===rt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===e&&this.G_(s,o)}),(s=>{t((()=>{const o=new pt(rt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(t,e){const s=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return yt(FE,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget((()=>this.D_===t?e():(yt(FE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class XC extends _A{constructor(t,e,s,o,u,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,s,o,c),this.serializer=u}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=tC(this.serializer,t),s=(function(u){if(!("targetChange"in u))return Ct.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?Ct.min():c.readTime?ji(c.readTime):Ct.min()})(t);return this.listener.H_(e,s)}Y_(t){const e={};e.database=xg(this.serializer),e.addTarget=(function(u,c){let d;const p=c.target;if(d=Sg(p)?{documents:iC(u,p)}:{query:rC(u,p).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=aA(u,c.resumeToken);const g=Ig(u,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(Ct.min())>0){d.readTime=Jh(u,c.snapshotVersion.toTimestamp());const g=Ig(u,c.expectedCount);g!==null&&(d.expectedCount=g)}return d})(this.serializer,t);const s=aC(this.serializer,t);s&&(e.labels=s),this.q_(e)}Z_(t){const e={};e.database=xg(this.serializer),e.removeTarget=t,this.q_(e)}}class KC extends _A{constructor(t,e,s,o,u,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,s,o,c),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return Kt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Kt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Kt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=nC(t.writeResults,t.commitTime),s=ji(t.commitTime);return this.listener.na(s,e)}ra(){const t={};t.database=xg(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((s=>eC(this.serializer,s)))};this.q_(e)}}class $C{}class ZC extends $C{constructor(t,e,s,o){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new pt(rt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Go(t,Cg(e,s),o,u,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new pt(rt.UNKNOWN,u.toString())}))}Ho(t,e,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(t,Cg(e,s),o,c,d,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new pt(rt.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class JC{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(br(e),this.aa=!1):yt("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ya="RemoteStore";class WC{constructor(t,e,s,o,u){this.localStore=t,this.datastore=e,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((c=>{s.enqueueAndForget((async()=>{Sa(this)&&(yt(ya,"Restarting streams for network reachability change."),await(async function(p){const g=xt(p);g.Ea.add(4),await xu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Df(g)})(this))}))})),this.Ra=new JC(s,o)}}async function Df(i){if(Sa(i))for(const t of i.da)await t(!0)}async function xu(i){for(const t of i.da)await t(!1)}function vA(i,t){const e=xt(i);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),wp(e)?Tp(e):jo(e).O_()&&Ep(e,t))}function vp(i,t){const e=xt(i),s=jo(e);e.Ia.delete(t),s.O_()&&EA(e,t),e.Ia.size===0&&(s.O_()?s.L_():Sa(e)&&e.Ra.set("Unknown"))}function Ep(i,t){if(i.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ct.min())>0){const e=i.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}jo(i).Y_(t)}function EA(i,t){i.Va.Ue(t),jo(i).Z_(t)}function Tp(i){i.Va=new Q2({getRemoteKeysForTarget:t=>i.remoteSyncer.getRemoteKeysForTarget(t),At:t=>i.Ia.get(t)||null,ht:()=>i.datastore.serializer.databaseId}),jo(i).start(),i.Ra.ua()}function wp(i){return Sa(i)&&!jo(i).x_()&&i.Ia.size>0}function Sa(i){return xt(i).Ea.size===0}function TA(i){i.Va=void 0}async function tN(i){i.Ra.set("Online")}async function eN(i){i.Ia.forEach(((t,e)=>{Ep(i,t)}))}async function nN(i,t){TA(i),wp(i)?(i.Ra.ha(t),Tp(i)):i.Ra.set("Unknown")}async function iN(i,t,e){if(i.Ra.set("Online"),t instanceof sA&&t.state===2&&t.cause)try{await(async function(o,u){const c=u.cause;for(const d of u.targetIds)o.Ia.has(d)&&(await o.remoteSyncer.rejectListen(d,c),o.Ia.delete(d),o.Va.removeTarget(d))})(i,t)}catch(s){yt(ya,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await tf(i,s)}else if(t instanceof Oh?i.Va.Ze(t):t instanceof rA?i.Va.st(t):i.Va.tt(t),!e.isEqual(Ct.min()))try{const s=await pA(i.localStore);e.compareTo(s)>=0&&await(function(u,c){const d=u.Va.Tt(c);return d.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const _=u.Ia.get(g);_&&u.Ia.set(g,_.withResumeToken(p.resumeToken,c))}})),d.targetMismatches.forEach(((p,g)=>{const _=u.Ia.get(p);if(!_)return;u.Ia.set(p,_.withResumeToken(Ke.EMPTY_BYTE_STRING,_.snapshotVersion)),EA(u,p);const T=new gs(_.target,p,g,_.sequenceNumber);Ep(u,T)})),u.remoteSyncer.applyRemoteEvent(d)})(i,e)}catch(s){yt(ya,"Failed to raise snapshot:",s),await tf(i,s)}}async function tf(i,t,e){if(!Po(t))throw t;i.Ea.add(1),await xu(i),i.Ra.set("Offline"),e||(e=()=>pA(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{yt(ya,"Retrying IndexedDB access"),await e(),i.Ea.delete(1),await Df(i)}))}function wA(i,t){return t().catch((e=>tf(i,e,t)))}async function Of(i){const t=xt(i),e=Rs(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:ap;for(;rN(t);)try{const o=await zC(t.localStore,s);if(o===null){t.Ta.length===0&&e.L_();break}s=o.batchId,sN(t,o)}catch(o){await tf(t,o)}AA(t)&&bA(t)}function rN(i){return Sa(i)&&i.Ta.length<10}function sN(i,t){i.Ta.push(t);const e=Rs(i);e.O_()&&e.X_&&e.ea(t.mutations)}function AA(i){return Sa(i)&&!Rs(i).x_()&&i.Ta.length>0}function bA(i){Rs(i).start()}async function aN(i){Rs(i).ra()}async function oN(i){const t=Rs(i);for(const e of i.Ta)t.ea(e.mutations)}async function lN(i,t,e){const s=i.Ta.shift(),o=fp.from(s,t,e);await wA(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await Of(i)}async function uN(i,t){t&&Rs(i).X_&&await(async function(s,o){if((function(c){return F2(c)&&c!==rt.ABORTED})(o.code)){const u=s.Ta.shift();Rs(s).B_(),await wA(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Of(s)}})(i,t),AA(i)&&bA(i)}async function GE(i,t){const e=xt(i);e.asyncQueue.verifyOperationInProgress(),yt(ya,"RemoteStore received new credentials");const s=Sa(e);e.Ea.add(3),await xu(e),s&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await Df(e)}async function cN(i,t){const e=xt(i);t?(e.Ea.delete(2),await Df(e)):t||(e.Ea.add(2),await xu(e),e.Ra.set("Unknown"))}function jo(i){return i.ma||(i.ma=(function(e,s,o){const u=xt(e);return u.sa(),new XC(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:tN.bind(null,i),t_:eN.bind(null,i),r_:nN.bind(null,i),H_:iN.bind(null,i)}),i.da.push((async t=>{t?(i.ma.B_(),wp(i)?Tp(i):i.Ra.set("Unknown")):(await i.ma.stop(),TA(i))}))),i.ma}function Rs(i){return i.fa||(i.fa=(function(e,s,o){const u=xt(e);return u.sa(),new KC(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:aN.bind(null,i),r_:uN.bind(null,i),ta:oN.bind(null,i),na:lN.bind(null,i)}),i.da.push((async t=>{t?(i.fa.B_(),await Of(i)):(await i.fa.stop(),i.Ta.length>0&&(yt(ya,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class Ap{constructor(t,e,s,o,u){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Er,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,s,o,u){const c=Date.now()+s,d=new Ap(t,e,c,o,u);return d.start(s),d}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pt(rt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bp(i,t){if(br("AsyncQueue",`${t}: ${i}`),Po(i))return new pt(rt.UNAVAILABLE,`${t}: ${i}`);throw i}class Eo{static emptySet(t){return new Eo(t.comparator)}constructor(t){this.comparator=t?(e,s)=>t(e,s)||At.comparator(e.key,s.key):(e,s)=>At.comparator(e.key,s.key),this.keyedMap=Jl(),this.sortedSet=new ce(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,s)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Eo)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;e.hasNext();){const o=e.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const s=new Eo;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=e,s}}class YE{constructor(){this.ga=new ce(At.comparator)}track(t){const e=t.doc.key,s=this.ga.get(e);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(e,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(e,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(e):t.type===1&&s.type===2?this.ga=this.ga.insert(e,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):St(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,s)=>{t.push(s)})),t}}class Do{constructor(t,e,s,o,u,c,d,p,g){this.query=t,this.docs=e,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,e,s,o,u){const c=[];return e.forEach((d=>{c.push({type:0,doc:d})})),new Do(t,e,Eo.emptySet(e),c,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Sf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,s=t.docChanges;if(e.length!==s.length)return!1;for(let o=0;o<e.length;o++)if(e[o].type!==s[o].type||!e[o].doc.isEqual(s[o].doc))return!1;return!0}}class hN{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class fN{constructor(){this.queries=QE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,s){const o=xt(e),u=o.queries;o.queries=QE(),u.forEach(((c,d)=>{for(const p of d.Sa)p.onError(s)}))})(this,new pt(rt.ABORTED,"Firestore shutting down"))}}function QE(){return new Aa((i=>Fw(i)),Sf)}async function Sp(i,t){const e=xt(i);let s=3;const o=t.query;let u=e.queries.get(o);u?!u.ba()&&t.Da()&&(s=2):(u=new hN,s=t.Da()?0:1);try{switch(s){case 0:u.wa=await e.onListen(o,!0);break;case 1:u.wa=await e.onListen(o,!1);break;case 2:await e.onFirstRemoteStoreListen(o)}}catch(c){const d=bp(c,`Initialization of query '${yo(t.query)}' failed`);return void t.onError(d)}e.queries.set(o,u),u.Sa.push(t),t.va(e.onlineState),u.wa&&t.Fa(u.wa)&&Ip(e)}async function Rp(i,t){const e=xt(i),s=t.query;let o=3;const u=e.queries.get(s);if(u){const c=u.Sa.indexOf(t);c>=0&&(u.Sa.splice(c,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return e.queries.delete(s),e.onUnlisten(s,!0);case 1:return e.queries.delete(s),e.onUnlisten(s,!1);case 2:return e.onLastRemoteStoreUnlisten(s);default:return}}function dN(i,t){const e=xt(i);let s=!1;for(const o of t){const u=o.query,c=e.queries.get(u);if(c){for(const d of c.Sa)d.Fa(o)&&(s=!0);c.wa=o}}s&&Ip(e)}function mN(i,t,e){const s=xt(i),o=s.queries.get(t);if(o)for(const u of o.Sa)u.onError(e);s.queries.delete(t)}function Ip(i){i.Ca.forEach((t=>{t.next()}))}var Mg,XE;(XE=Mg||(Mg={})).Ma="default",XE.Cache="cache";class Cp{constructor(t,e,s){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new Do(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const s=e!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=Do.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Mg.Cache}}class SA{constructor(t){this.key=t}}class RA{constructor(t){this.key=t}}class gN{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=jt(),this.mutatedKeys=jt(),this.eu=Gw(t),this.tu=new Eo(this.eu)}get nu(){return this.Ya}ru(t,e){const s=e?e.iu:new YE,o=e?e.tu:this.tu;let u=e?e.mutatedKeys:this.mutatedKeys,c=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((_,T)=>{const w=o.get(_),S=Rf(this.query,T)?T:null,D=!!w&&this.mutatedKeys.has(w.key),O=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let x=!1;w&&S?w.data.isEqual(S.data)?D!==O&&(s.track({type:3,doc:S}),x=!0):this.su(w,S)||(s.track({type:2,doc:S}),x=!0,(p&&this.eu(S,p)>0||g&&this.eu(S,g)<0)&&(d=!0)):!w&&S?(s.track({type:0,doc:S}),x=!0):w&&!S&&(s.track({type:1,doc:w}),x=!0,(p||g)&&(d=!0)),x&&(S?(c=c.add(S),u=O?u.add(_):u.delete(_)):(c=c.delete(_),u=u.delete(_)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),u=u.delete(_.key),s.track({type:1,doc:_})}return{tu:c,iu:s,Cs:d,mutatedKeys:u}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,s,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((_,T)=>(function(S,D){const O=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return St(20277,{Rt:x})}};return O(S)-O(D)})(_.type,T.type)||this.eu(_.doc,T.doc))),this.ou(s),o=o??!1;const d=e&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,c.length!==0||g?{snapshot:new Do(this.query,t.tu,u,c,t.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new YE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Ya=this.Ya.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Ya=this.Ya.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=jt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const e=[];return t.forEach((s=>{this.Xa.has(s)||e.push(new RA(s))})),this.Xa.forEach((s=>{t.has(s)||e.push(new SA(s))})),e}cu(t){this.Ya=t.Qs,this.Xa=jt();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return Do.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Np="SyncEngine";class pN{constructor(t,e,s){this.query=t,this.targetId=e,this.view=s}}class yN{constructor(t){this.key=t,this.hu=!1}}class _N{constructor(t,e,s,o,u,c){this.localStore=t,this.remoteStore=e,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Aa((d=>Fw(d)),Sf),this.Iu=new Map,this.Eu=new Set,this.du=new ce(At.comparator),this.Au=new Map,this.Ru=new gp,this.Vu={},this.mu=new Map,this.fu=xo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function vN(i,t,e=!0){const s=OA(i);let o;const u=s.Tu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await IA(s,t,e,!0),o}async function EN(i,t){const e=OA(i);await IA(e,t,!0,!1)}async function IA(i,t,e,s){const o=await jC(i.localStore,zi(t)),u=o.targetId,c=i.sharedClientState.addLocalQueryTarget(u,e);let d;return s&&(d=await TN(i,t,u,c==="current",o.resumeToken)),i.isPrimaryClient&&e&&vA(i.remoteStore,o),d}async function TN(i,t,e,s,o){i.pu=(T,w,S)=>(async function(O,x,z,J){let K=x.view.ru(z);K.Cs&&(K=await jE(O.localStore,x.query,!1).then((({documents:I})=>x.view.ru(I,K))));const q=J&&J.targetChanges.get(x.targetId),ut=J&&J.targetMismatches.get(x.targetId)!=null,ht=x.view.applyChanges(K,O.isPrimaryClient,q,ut);return $E(O,x.targetId,ht.au),ht.snapshot})(i,T,w,S);const u=await jE(i.localStore,t,!0),c=new gN(t,u.Qs),d=c.ru(u.documents),p=Nu.createSynthesizedTargetChangeForCurrentChange(e,s&&i.onlineState!=="Offline",o),g=c.applyChanges(d,i.isPrimaryClient,p);$E(i,e,g.au);const _=new pN(t,e,c);return i.Tu.set(t,_),i.Iu.has(e)?i.Iu.get(e).push(t):i.Iu.set(e,[t]),g.snapshot}async function wN(i,t,e){const s=xt(i),o=s.Tu.get(t),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((c=>!Sf(c,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Dg(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),e&&vp(s.remoteStore,o.targetId),Vg(s,o.targetId)})).catch(Lo)):(Vg(s,o.targetId),await Dg(s.localStore,o.targetId,!0))}async function AN(i,t){const e=xt(i),s=e.Tu.get(t),o=e.Iu.get(s.targetId);e.isPrimaryClient&&o.length===1&&(e.sharedClientState.removeLocalQueryTarget(s.targetId),vp(e.remoteStore,s.targetId))}async function bN(i,t,e){const s=DN(i);try{const o=await(function(c,d){const p=xt(c),g=oe.now(),_=d.reduce(((S,D)=>S.add(D.key)),jt());let T,w;return p.persistence.runTransaction("Locally write mutations","readwrite",(S=>{let D=Sr(),O=jt();return p.Ns.getEntries(S,_).next((x=>{D=x,D.forEach(((z,J)=>{J.isValidDocument()||(O=O.add(z))}))})).next((()=>p.localDocuments.getOverlayedDocuments(S,D))).next((x=>{T=x;const z=[];for(const J of d){const K=z2(J,T.get(J.key).overlayedDocument);K!=null&&z.push(new ba(J.key,K,Uw(K.value.mapValue),wr.exists(!0)))}return p.mutationQueue.addMutationBatch(S,g,z,d)})).next((x=>{w=x;const z=x.applyToLocalDocumentSet(T,O);return p.documentOverlayCache.saveOverlays(S,x.batchId,z)}))})).then((()=>({batchId:w.batchId,changes:Qw(T)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),(function(c,d,p){let g=c.Vu[c.currentUser.toKey()];g||(g=new ce(zt)),g=g.insert(d,p),c.Vu[c.currentUser.toKey()]=g})(s,o.batchId,e),await Du(s,o.changes),await Of(s.remoteStore)}catch(o){const u=bp(o,"Failed to persist write");e.reject(u)}}async function CA(i,t){const e=xt(i);try{const s=await LC(e.localStore,t);t.targetChanges.forEach(((o,u)=>{const c=e.Au.get(u);c&&(Kt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?Kt(c.hu,14607):o.removedDocuments.size>0&&(Kt(c.hu,42227),c.hu=!1))})),await Du(e,s,t)}catch(s){await Lo(s)}}function KE(i,t,e){const s=xt(i);if(s.isPrimaryClient&&e===0||!s.isPrimaryClient&&e===1){const o=[];s.Tu.forEach(((u,c)=>{const d=c.view.va(t);d.snapshot&&o.push(d.snapshot)})),(function(c,d){const p=xt(c);p.onlineState=d;let g=!1;p.queries.forEach(((_,T)=>{for(const w of T.Sa)w.va(d)&&(g=!0)})),g&&Ip(p)})(s.eventManager,t),o.length&&s.Pu.H_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function SN(i,t,e){const s=xt(i);s.sharedClientState.updateQueryState(t,"rejected",e);const o=s.Au.get(t),u=o&&o.key;if(u){let c=new ce(At.comparator);c=c.insert(u,We.newNoDocument(u,Ct.min()));const d=jt().add(u),p=new Nf(Ct.min(),new Map,new ce(zt),c,d);await CA(s,p),s.du=s.du.remove(u),s.Au.delete(t),xp(s)}else await Dg(s.localStore,t,!1).then((()=>Vg(s,t,e))).catch(Lo)}async function RN(i,t){const e=xt(i),s=t.batch.batchId;try{const o=await UC(e.localStore,t);xA(e,s,null),NA(e,s),e.sharedClientState.updateMutationState(s,"acknowledged"),await Du(e,o)}catch(o){await Lo(o)}}async function IN(i,t,e){const s=xt(i);try{const o=await(function(c,d){const p=xt(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let _;return p.mutationQueue.lookupMutationBatch(g,d).next((T=>(Kt(T!==null,37113),_=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,_,d))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_))).next((()=>p.localDocuments.getDocuments(g,_)))}))})(s.localStore,t);xA(s,t,e),NA(s,t),s.sharedClientState.updateMutationState(t,"rejected",e),await Du(s,o)}catch(o){await Lo(o)}}function NA(i,t){(i.mu.get(t)||[]).forEach((e=>{e.resolve()})),i.mu.delete(t)}function xA(i,t,e){const s=xt(i);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(e?u.reject(e):u.resolve(),o=o.remove(t)),s.Vu[s.currentUser.toKey()]=o}}function Vg(i,t,e=null){i.sharedClientState.removeLocalQueryTarget(t);for(const s of i.Iu.get(t))i.Tu.delete(s),e&&i.Pu.yu(s,e);i.Iu.delete(t),i.isPrimaryClient&&i.Ru.jr(t).forEach((s=>{i.Ru.containsKey(s)||DA(i,s)}))}function DA(i,t){i.Eu.delete(t.path.canonicalString());const e=i.du.get(t);e!==null&&(vp(i.remoteStore,e),i.du=i.du.remove(t),i.Au.delete(e),xp(i))}function $E(i,t,e){for(const s of e)s instanceof SA?(i.Ru.addReference(s.key,t),CN(i,s)):s instanceof RA?(yt(Np,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,t),i.Ru.containsKey(s.key)||DA(i,s.key)):St(19791,{wu:s})}function CN(i,t){const e=t.key,s=e.path.canonicalString();i.du.get(e)||i.Eu.has(s)||(yt(Np,"New document in limbo: "+e),i.Eu.add(s),xp(i))}function xp(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const t=i.Eu.values().next().value;i.Eu.delete(t);const e=new At(re.fromString(t)),s=i.fu.next();i.Au.set(s,new yN(e)),i.du=i.du.insert(e,s),vA(i.remoteStore,new gs(zi(bf(e.path)),s,"TargetPurposeLimboResolution",Tf.ce))}}async function Du(i,t,e){const s=xt(i),o=[],u=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((d,p)=>{c.push(s.pu(p,t,e).then((g=>{if((g||e)&&s.isPrimaryClient){const _=g?!g.fromCache:e?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,_?"current":"not-current")}if(g){o.push(g);const _=yp.As(p.targetId,g);u.push(_)}})))})),await Promise.all(c),s.Pu.H_(o),await(async function(p,g){const _=xt(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>ot.forEach(g,(w=>ot.forEach(w.Es,(S=>_.persistence.referenceDelegate.addReference(T,w.targetId,S))).next((()=>ot.forEach(w.ds,(S=>_.persistence.referenceDelegate.removeReference(T,w.targetId,S)))))))))}catch(T){if(!Po(T))throw T;yt(_p,"Failed to update sequence numbers: "+T)}for(const T of g){const w=T.targetId;if(!T.fromCache){const S=_.Ms.get(w),D=S.snapshotVersion,O=S.withLastLimboFreeSnapshotVersion(D);_.Ms=_.Ms.insert(w,O)}}})(s.localStore,u))}async function NN(i,t){const e=xt(i);if(!e.currentUser.isEqual(t)){yt(Np,"User change. New user:",t.toKey());const s=await gA(e.localStore,t);e.currentUser=t,(function(u,c){u.mu.forEach((d=>{d.forEach((p=>{p.reject(new pt(rt.CANCELLED,c))}))})),u.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Du(e,s.Ls)}}function xN(i,t){const e=xt(i),s=e.Au.get(t);if(s&&s.hu)return jt().add(s.key);{let o=jt();const u=e.Iu.get(t);if(!u)return o;for(const c of u){const d=e.Tu.get(c);o=o.unionWith(d.view.nu)}return o}}function OA(i){const t=xt(i);return t.remoteStore.remoteSyncer.applyRemoteEvent=CA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=xN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=SN.bind(null,t),t.Pu.H_=dN.bind(null,t.eventManager),t.Pu.yu=mN.bind(null,t.eventManager),t}function DN(i){const t=xt(i);return t.remoteStore.remoteSyncer.applySuccessfulWrite=RN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=IN.bind(null,t),t}class ef{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=xf(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return kC(this.persistence,new OC,t.initialUser,this.serializer)}Cu(t){return new mA(pp.mi,this.serializer)}Du(t){return new qC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ef.provider={build:()=>new ef};class ON extends ef{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){Kt(this.persistence.referenceDelegate instanceof Wh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new yC(s,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?yn.withCacheSize(this.cacheSizeBytes):yn.DEFAULT;return new mA((s=>Wh.mi(s,e)),this.serializer)}}class kg{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>KE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=NN.bind(null,this.syncEngine),await cN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new fN})()}createDatastore(t){const e=xf(t.databaseInfo.databaseId),s=(function(u){return new QC(u)})(t.databaseInfo);return(function(u,c,d,p){return new ZC(u,c,d,p)})(t.authCredentials,t.appCheckCredentials,s,e)}createRemoteStore(t){return(function(s,o,u,c,d){return new WC(s,o,u,c,d)})(this.localStore,this.datastore,t.asyncQueue,(e=>KE(this.syncEngine,e,0)),(function(){return HE.v()?new HE:new HC})())}createSyncEngine(t,e){return(function(o,u,c,d,p,g,_){const T=new _N(o,u,c,d,p,g);return _&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const s=xt(e);yt(ya,"RemoteStore shutting down."),s.Ea.add(5),await xu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}kg.provider={build:()=>new kg};class Dp{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):br("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}const Is="FirestoreClient";class MN{constructor(t,e,s,o,u){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=s,this.databaseInfo=o,this.user=Je.UNAUTHENTICATED,this.clientId=sp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async c=>{yt(Is,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(yt(Is,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Er;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const s=bp(e,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function ig(i,t){i.asyncQueue.verifyOperationInProgress(),yt(Is,"Initializing OfflineComponentProvider");const e=i.configuration;await t.initialize(e);let s=e.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await gA(t.localStore,o),s=o)})),t.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=t}async function ZE(i,t){i.asyncQueue.verifyOperationInProgress();const e=await VN(i);yt(Is,"Initializing OnlineComponentProvider"),await t.initialize(e,i.configuration),i.setCredentialChangeListener((s=>GE(t.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>GE(t.remoteStore,o))),i._onlineComponents=t}async function VN(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){yt(Is,"Using user provided OfflineComponentProvider");try{await ig(i,i._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(o){return o.name==="FirebaseError"?o.code===rt.FAILED_PRECONDITION||o.code===rt.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(e))throw e;Ro("Error using user provided cache. Falling back to memory cache: "+e),await ig(i,new ef)}}else yt(Is,"Using default OfflineComponentProvider"),await ig(i,new ON(void 0));return i._offlineComponents}async function MA(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(yt(Is,"Using user provided OnlineComponentProvider"),await ZE(i,i._uninitializedComponentsProvider._online)):(yt(Is,"Using default OnlineComponentProvider"),await ZE(i,new kg))),i._onlineComponents}function kN(i){return MA(i).then((t=>t.syncEngine))}async function nf(i){const t=await MA(i),e=t.eventManager;return e.onListen=vN.bind(null,t.syncEngine),e.onUnlisten=wN.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=EN.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=AN.bind(null,t.syncEngine),e}function UN(i,t,e={}){const s=new Er;return i.asyncQueue.enqueueAndForget((async()=>(function(u,c,d,p,g){const _=new Dp({next:w=>{_.Nu(),c.enqueueAndForget((()=>Rp(u,T)));const S=w.docs.has(d);!S&&w.fromCache?g.reject(new pt(rt.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&w.fromCache&&p&&p.source==="server"?g.reject(new pt(rt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),T=new Cp(bf(d.path),_,{includeMetadataChanges:!0,qa:!0});return Sp(u,T)})(await nf(i),i.asyncQueue,t,e,s))),s.promise}function LN(i,t,e={}){const s=new Er;return i.asyncQueue.enqueueAndForget((async()=>(function(u,c,d,p,g){const _=new Dp({next:w=>{_.Nu(),c.enqueueAndForget((()=>Rp(u,T))),w.fromCache&&p.source==="server"?g.reject(new pt(rt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),T=new Cp(d,_,{includeMetadataChanges:!0,qa:!0});return Sp(u,T)})(await nf(i),i.asyncQueue,t,e,s))),s.promise}function VA(i){const t={};return i.timeoutSeconds!==void 0&&(t.timeoutSeconds=i.timeoutSeconds),t}const JE=new Map;const kA="firestore.googleapis.com",WE=!0;class tT{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new pt(rt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=kA,this.ssl=WE}else this.host=t.host,this.ssl=t.ssl??WE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=dA;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<gC)throw new pt(rt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}ZI("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=VA(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new pt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new pt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new pt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Mf{constructor(t,e,s,o){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pt(rt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new pt(rt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tT(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new BI;switch(s.type){case"firstParty":return new GI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new pt(rt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const s=JE.get(e);s&&(yt("ComponentProvider","Removing Datastore"),JE.delete(e),s.terminate())})(this),Promise.resolve()}}function PN(i,t,e,s={}){i=Tr(i,Mf);const o=Cs(t),u=i._getSettings(),c={...u,emulatorOptions:i._getEmulatorOptions()},d=`${t}:${e}`;o&&(Wg(`https://${d}`),tp("Firestore",!0)),u.host!==kA&&u.host!==d&&Ro("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:d,ssl:o,emulatorOptions:s};if(!ma(p,c)&&(i._setSettings(p),s.mockUserToken)){let g,_;if(typeof s.mockUserToken=="string")g=s.mockUserToken,_=Je.MOCK_USER;else{g=hw(s.mockUserToken,i._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new pt(rt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Je(T)}i._authCredentials=new qI(new bw(g,_))}}class Cr{constructor(t,e,s){this.converter=e,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Cr(this.firestore,t,this._query)}}class Oe{constructor(t,e,s){this.converter=e,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Es(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Oe(this.firestore,t,this._key)}toJSON(){return{type:Oe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,s){if(Iu(e,Oe._jsonSchema))return new Oe(t,s||null,new At(re.fromString(e.referencePath)))}}Oe._jsonSchemaVersion="firestore/documentReference/1.0",Oe._jsonSchema={type:De("string",Oe._jsonSchemaVersion),referencePath:De("string")};class Es extends Cr{constructor(t,e,s){super(t,e,bf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Oe(this.firestore,null,new At(t))}withConverter(t){return new Es(this.firestore,t,this._path)}}function Ui(i,t,...e){if(i=Me(i),Sw("collection","path",t),i instanceof Mf){const s=re.fromString(t,...e);return dE(s),new Es(i,null,s)}{if(!(i instanceof Oe||i instanceof Es))throw new pt(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(re.fromString(t,...e));return dE(s),new Es(i.firestore,null,s)}}function UA(i,t,...e){if(i=Me(i),arguments.length===1&&(t=sp.newId()),Sw("doc","path",t),i instanceof Mf){const s=re.fromString(t,...e);return fE(s),new Oe(i,null,new At(s))}{if(!(i instanceof Oe||i instanceof Es))throw new pt(rt.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(re.fromString(t,...e));return fE(s),new Oe(i.firestore,i instanceof Es?i.converter:null,new At(s))}}const eT="AsyncQueue";class nT{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new yA(this,"async_queue_retry"),this._c=()=>{const s=ng();s&&yt(eT,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const e=ng();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=ng();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new Er;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Po(t))throw t;yt(eT,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,br("INTERNAL UNHANDLED ERROR: ",iT(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=e,e}enqueueAfterDelay(t,e,s){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const o=Ap.createAndSchedule(this,t,e,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&St(47125,{Pc:iT(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,s)=>e.targetTimeMs-s.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function iT(i){let t=i.message||"";return i.stack&&(t=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),t}function rT(i){return(function(e,s){if(typeof e!="object"||e===null)return!1;const o=e;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(i,["next","error","complete"])}class Oo extends Mf{constructor(t,e,s,o){super(t,e,s,o),this.type="firestore",this._queue=new nT,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new nT(t),this._firestoreClient=void 0,await t}}}function zN(i,t){const e=typeof i=="object"?i:ip(),s=typeof i=="string"?i:Qh,o=vf(e,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=lw("firestore");u&&PN(o,...u)}return o}function Vf(i){if(i._terminated)throw new pt(rt.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||jN(i),i._firestoreClient}function jN(i){const t=i._freezeSettings(),e=(function(o,u,c,d){return new u2(o,u,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,VA(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,t);i._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),i._firestoreClient=new MN(i._authCredentials,i._appCheckCredentials,i._queue,e,i._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(i._componentsProvider))}class Fn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Fn(Ke.fromBase64String(t))}catch(e){throw new pt(rt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Fn(Ke.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Fn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Iu(t,Fn._jsonSchema))return Fn.fromBase64String(t.bytes)}}Fn._jsonSchemaVersion="firestore/bytes/1.0",Fn._jsonSchema={type:De("string",Fn._jsonSchemaVersion),bytes:De("string")};class Op{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new pt(rt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Mp{constructor(t){this._methodName=t}}class Bi{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new pt(rt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new pt(rt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return zt(this._lat,t._lat)||zt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Bi._jsonSchemaVersion}}static fromJSON(t){if(Iu(t,Bi._jsonSchema))return new Bi(t.latitude,t.longitude)}}Bi._jsonSchemaVersion="firestore/geoPoint/1.0",Bi._jsonSchema={type:De("string",Bi._jsonSchemaVersion),latitude:De("number"),longitude:De("number")};class qi{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:qi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Iu(t,qi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new qi(t.vectorValues);throw new pt(rt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}qi._jsonSchemaVersion="firestore/vectorValue/1.0",qi._jsonSchema={type:De("string",qi._jsonSchemaVersion),vectorValues:De("object")};const BN=/^__.*__$/;class qN{constructor(t,e,s){this.data=t,this.fieldMask=e,this.fieldTransforms=s}toMutation(t,e){return this.fieldMask!==null?new ba(t,this.data,this.fieldMask,e,this.fieldTransforms):new Cu(t,this.data,e,this.fieldTransforms)}}function LA(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw St(40011,{Ac:i})}}class Vp{constructor(t,e,s,o,u,c){this.settings=t,this.databaseId=e,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Vp({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const e=this.path?.child(t),s=this.Vc({path:e,fc:!1});return s.gc(t),s}yc(t){const e=this.path?.child(t),s=this.Vc({path:e,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return rf(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(LA(this.Ac)&&BN.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class HN{constructor(t,e,s){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=s||xf(t)}Cc(t,e,s,o=!1){return new Vp({Ac:t,methodName:e,Dc:s,path:Xe.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function PA(i){const t=i._freezeSettings(),e=xf(i._databaseId);return new HN(i._databaseId,!!t.ignoreUndefinedProperties,e)}function FN(i,t,e,s,o,u={}){const c=i.Cc(u.merge||u.mergeFields?2:0,t,e,o);BA("Data must be an object, but it was:",c,s);const d=zA(s,c);let p,g;if(u.merge)p=new ri(c.fieldMask),g=c.fieldTransforms;else if(u.mergeFields){const _=[];for(const T of u.mergeFields){const w=YN(t,T,e);if(!c.contains(w))throw new pt(rt.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);XN(_,w)||_.push(w)}p=new ri(_),g=c.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=c.fieldTransforms;return new qN(new Hn(d),p,g)}class kp extends Mp{_toFieldTransform(t){return new k2(t.path,new pu)}isEqual(t){return t instanceof kp}}function GN(i,t,e,s=!1){return Up(e,i.Cc(s?4:3,t))}function Up(i,t){if(jA(i=Me(i)))return BA("Unsupported field value:",t,i),zA(i,t);if(i instanceof Mp)return(function(s,o){if(!LA(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,t),null;if(i===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let c=0;for(const d of s){let p=Up(d,o.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),c++}return{arrayValue:{values:u}}})(i,t)}return(function(s,o){if((s=Me(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return O2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=oe.fromDate(s);return{timestampValue:Jh(o.serializer,u)}}if(s instanceof oe){const u=new oe(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Jh(o.serializer,u)}}if(s instanceof Bi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Fn)return{bytesValue:aA(o.serializer,s._byteString)};if(s instanceof Oe){const u=o.databaseId,c=s.firestore._databaseId;if(!c.isEqual(u))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:mp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof qi)return(function(c,d){return{mapValue:{fields:{[Vw]:{stringValue:kw},[Xh]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw d.Sc("VectorValues must only contain numeric values.");return hp(d.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Ef(s)}`)})(i,t)}function zA(i,t){const e={};return Cw(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):wa(i,((s,o)=>{const u=Up(o,t.mc(s));u!=null&&(e[s]=u)})),{mapValue:{fields:e}}}function jA(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof oe||i instanceof Bi||i instanceof Fn||i instanceof Oe||i instanceof Mp||i instanceof qi)}function BA(i,t,e){if(!jA(e)||!Rw(e)){const s=Ef(e);throw s==="an object"?t.Sc(i+" a custom object"):t.Sc(i+" "+s)}}function YN(i,t,e){if((t=Me(t))instanceof Op)return t._internalPath;if(typeof t=="string")return qA(i,t);throw rf("Field path arguments must be of type string or ",i,!1,void 0,e)}const QN=new RegExp("[~\\*/\\[\\]]");function qA(i,t,e){if(t.search(QN)>=0)throw rf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,e);try{return new Op(...t.split("."))._internalPath}catch{throw rf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,e)}}function rf(i,t,e,s,o){const u=s&&!s.isEmpty(),c=o!==void 0;let d=`Function ${t}() called with invalid data`;e&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(u||c)&&(p+=" (found",u&&(p+=` in field ${s}`),c&&(p+=` in document ${o}`),p+=")"),new pt(rt.INVALID_ARGUMENT,d+i+p)}function XN(i,t){return i.some((e=>e.isEqual(t)))}class HA{constructor(t,e,s,o,u){this._firestore=t,this._userDataWriter=e,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Oe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new KN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(kf("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class KN extends HA{data(){return super.data()}}function kf(i,t){return typeof t=="string"?qA(i,t):t instanceof Op?t._internalPath:t._delegate._internalPath}function FA(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new pt(rt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Lp{}class Pp extends Lp{}function sf(i,t,...e){let s=[];t instanceof Lp&&s.push(t),s=s.concat(e),(function(u){const c=u.filter((p=>p instanceof zp)).length,d=u.filter((p=>p instanceof Uf)).length;if(c>1||c>0&&d>0)throw new pt(rt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)i=o._apply(i);return i}class Uf extends Pp{constructor(t,e,s){super(),this._field=t,this._op=e,this._value=s,this.type="where"}static _create(t,e,s){return new Uf(t,e,s)}_apply(t){const e=this._parse(t);return GA(t._query,e),new Cr(t.firestore,t.converter,Rg(t._query,e))}_parse(t){const e=PA(t.firestore);return(function(u,c,d,p,g,_,T){let w;if(g.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new pt(rt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){aT(T,_);const D=[];for(const O of T)D.push(sT(p,u,O));w={arrayValue:{values:D}}}else w=sT(p,u,T)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||aT(T,_),w=GN(d,c,T,_==="in"||_==="not-in");return xe.create(g,_,w)})(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}function $N(i,t,e){const s=t,o=kf("where",i);return Uf._create(o,s,e)}class zp extends Lp{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new zp(t,e)}_parse(t){const e=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return e.length===1?e[0]:li.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:((function(o,u){let c=o;const d=u.getFlattenedFilters();for(const p of d)GA(c,p),c=Rg(c,p)})(t._query,e),new Cr(t.firestore,t.converter,Rg(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class jp extends Pp{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new jp(t,e)}_apply(t){const e=(function(o,u,c){if(o.startAt!==null)throw new pt(rt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new pt(rt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new gu(u,c)})(t._query,this._field,this._direction);return new Cr(t.firestore,t.converter,(function(o,u){const c=o.explicitOrderBy.concat([u]);return new zo(o.path,o.collectionGroup,c,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(t._query,e))}}function Ug(i,t="asc"){const e=t,s=kf("orderBy",i);return jp._create(s,e)}class Bp extends Pp{constructor(t,e,s){super(),this.type=t,this._limit=e,this._limitType=s}static _create(t,e,s){return new Bp(t,e,s)}_apply(t){return new Cr(t.firestore,t.converter,$h(t._query,this._limit,this._limitType))}}function Lg(i){return JI("limit",i),Bp._create("limit",i,"F")}function sT(i,t,e){if(typeof(e=Me(e))=="string"){if(e==="")throw new pt(rt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Hw(t)&&e.indexOf("/")!==-1)throw new pt(rt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const s=t.path.child(re.fromString(e));if(!At.isDocumentKey(s))throw new pt(rt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return TE(i,new At(s))}if(e instanceof Oe)return TE(i,e._key);throw new pt(rt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ef(e)}.`)}function aT(i,t){if(!Array.isArray(i)||i.length===0)throw new pt(rt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function GA(i,t){const e=(function(o,u){for(const c of o)for(const d of c.getFlattenedFilters())if(u.indexOf(d.op)>=0)return d.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(e!==null)throw e===t.op?new pt(rt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new pt(rt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class ZN{convertValue(t,e="none"){switch(Ss(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ve(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(bs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw St(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const s={};return wa(t,((o,u)=>{s[o]=this.convertValue(u,e)})),s}convertVectorValue(t){const e=t.fields?.[Xh].arrayValue?.values?.map((s=>ve(s.doubleValue)));return new qi(e)}convertGeoPoint(t){return new Bi(ve(t.latitude),ve(t.longitude))}convertArray(t,e){return(t.values||[]).map((s=>this.convertValue(s,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const s=Af(t);return s==null?null:this.convertValue(s,e);case"estimate":return this.convertTimestamp(fu(t));default:return null}}convertTimestamp(t){const e=As(t);return new oe(e.seconds,e.nanos)}convertDocumentKey(t,e){const s=re.fromString(t);Kt(fA(s),9688,{name:t});const o=new du(s.get(1),s.get(3)),u=new At(s.popFirst(5));return o.isEqual(e)||br(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),u}}function JN(i,t,e){let s;return s=i?i.toFirestore(t):t,s}class tu{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ua extends HA{constructor(t,e,s,o,u,c){super(t,e,s,o,c),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Mh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const s=this._document.data.field(kf("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pt(rt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=ua._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}ua._jsonSchemaVersion="firestore/documentSnapshot/1.0",ua._jsonSchema={type:De("string",ua._jsonSchemaVersion),bundleSource:De("string","DocumentSnapshot"),bundleName:De("string"),bundle:De("string")};class Mh extends ua{data(t={}){return super.data(t)}}class ca{constructor(t,e,s,o){this._firestore=t,this._userDataWriter=e,this._snapshot=o,this.metadata=new tu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((s=>{t.call(e,new Mh(this._firestore,this._userDataWriter,s.key,s,new tu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new pt(rt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((d=>{const p=new Mh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new tu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((d=>u||d.type!==3)).map((d=>{const p=new Mh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new tu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,_=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),_=c.indexOf(d.doc.key)),{type:WN(d.type),doc:p,oldIndex:g,newIndex:_}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pt(rt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=ca._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=sp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(e.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function WN(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return St(61501,{type:i})}}function tx(i){i=Tr(i,Oe);const t=Tr(i.firestore,Oo);return UN(Vf(t),i._key).then((e=>YA(t,i,e)))}ca._jsonSchemaVersion="firestore/querySnapshot/1.0",ca._jsonSchema={type:De("string",ca._jsonSchemaVersion),bundleSource:De("string","QuerySnapshot"),bundleName:De("string"),bundle:De("string")};class qp extends ZN{constructor(t){super(),this.firestore=t}convertBytes(t){return new Fn(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Oe(this.firestore,null,e)}}function Hp(i){i=Tr(i,Cr);const t=Tr(i.firestore,Oo),e=Vf(t),s=new qp(t);return FA(i._query),LN(e,i._query).then((o=>new ca(t,s,i,o)))}function Vh(i,t){const e=Tr(i.firestore,Oo),s=UA(i),o=JN(i.converter,t);return ex(e,[FN(PA(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,wr.exists(!1))]).then((()=>s))}function Pg(i,...t){i=Me(i);let e={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||rT(t[s])||(e=t[s++]);const o={includeMetadataChanges:e.includeMetadataChanges,source:e.source};if(rT(t[s])){const p=t[s];t[s]=p.next?.bind(p),t[s+1]=p.error?.bind(p),t[s+2]=p.complete?.bind(p)}let u,c,d;if(i instanceof Oe)c=Tr(i.firestore,Oo),d=bf(i._key.path),u={next:p=>{t[s]&&t[s](YA(c,i,p))},error:t[s+1],complete:t[s+2]};else{const p=Tr(i,Cr);c=Tr(p.firestore,Oo),d=p._query;const g=new qp(c);u={next:_=>{t[s]&&t[s](new ca(c,g,p,_))},error:t[s+1],complete:t[s+2]},FA(i._query)}return(function(g,_,T,w){const S=new Dp(w),D=new Cp(_,S,T);return g.asyncQueue.enqueueAndForget((async()=>Sp(await nf(g),D))),()=>{S.Nu(),g.asyncQueue.enqueueAndForget((async()=>Rp(await nf(g),D)))}})(Vf(c),d,o,u)}function ex(i,t){return(function(s,o){const u=new Er;return s.asyncQueue.enqueueAndForget((async()=>bN(await kN(s),o,u))),u.promise})(Vf(i),t)}function YA(i,t,e){const s=e.docs.get(t._key),o=new qp(i);return new ua(i,o,t._key,s,new tu(e.hasPendingWrites,e.fromCache),t.converter)}function kh(){return new kp("serverTimestamp")}(function(t,e=!0){(function(o){Uo=o})(Ta),ga(new Ts("firestore",((s,{instanceIdentifier:o,options:u})=>{const c=s.getProvider("app").getImmediate(),d=new Oo(new HI(s.getProvider("auth-internal")),new YI(c,s.getProvider("app-check-internal")),(function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new pt(rt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new du(g.options.projectId,_)})(c,o),c);return u={useFetchStreams:e,...u},d._setSettings(u),d}),"PUBLIC").setMultipleInstances(!0)),Pi(lE,uE,t),Pi(lE,uE,"esm2020")})();const QA="firebasestorage.googleapis.com",XA="storageBucket",nx=120*1e3,ix=600*1e3;class me extends Qi{constructor(t,e,s=0){super(rg(t),`Firebase Storage: ${e} (${rg(t)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,me.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return rg(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var de;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(de||(de={}));function rg(i){return"storage/"+i}function Fp(){const i="An unknown error occurred, please check the error payload for server response.";return new me(de.UNKNOWN,i)}function rx(i){return new me(de.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")}function sx(i){return new me(de.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function ax(){const i="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new me(de.UNAUTHENTICATED,i)}function ox(){return new me(de.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function lx(i){return new me(de.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")}function ux(){return new me(de.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function cx(){return new me(de.CANCELED,"User canceled the upload/download.")}function hx(i){return new me(de.INVALID_URL,"Invalid URL '"+i+"'.")}function fx(i){return new me(de.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function dx(){return new me(de.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+XA+"' property when initializing the app?")}function mx(){return new me(de.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function gx(){return new me(de.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function px(i){return new me(de.UNSUPPORTED_ENVIRONMENT,`${i} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function zg(i){return new me(de.INVALID_ARGUMENT,i)}function KA(){return new me(de.APP_DELETED,"The Firebase app was deleted.")}function yx(i){return new me(de.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function lu(i,t){return new me(de.INVALID_FORMAT,"String does not match format '"+i+"': "+t)}function Xl(i){throw new me(de.INTERNAL_ERROR,"Internal error: "+i)}class on{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let s;try{s=on.makeFromUrl(t,e)}catch{return new on(t,"")}if(s.path==="")return s;throw fx(t)}static makeFromUrl(t,e){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(q){q.path.charAt(q.path.length-1)==="/"&&(q.path_=q.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+o+c,"i"),p={bucket:1,path:3};function g(q){q.path_=decodeURIComponent(q.path)}const _="v[A-Za-z0-9_]+",T=e.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",S=new RegExp(`^https?://${T}/${_}/b/${o}/o${w}`,"i"),D={bucket:1,path:3},O=e===QA?"(?:storage.googleapis.com|storage.cloud.google.com)":e,x="([^?#]*)",z=new RegExp(`^https?://${O}/${o}/${x}`,"i"),K=[{regex:d,indices:p,postModify:u},{regex:S,indices:D,postModify:g},{regex:z,indices:{bucket:1,path:2},postModify:g}];for(let q=0;q<K.length;q++){const ut=K[q],ht=ut.regex.exec(t);if(ht){const I=ht[ut.indices.bucket];let R=ht[ut.indices.path];R||(R=""),s=new on(I,R),ut.postModify(s);break}}if(s==null)throw hx(t);return s}}class _x{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function vx(i,t,e){let s=1,o=null,u=null,c=!1,d=0;function p(){return d===2}let g=!1;function _(...x){g||(g=!0,t.apply(null,x))}function T(x){o=setTimeout(()=>{o=null,i(S,p())},x)}function w(){u&&clearTimeout(u)}function S(x,...z){if(g){w();return}if(x){w(),_.call(null,x,...z);return}if(p()||c){w(),_.call(null,x,...z);return}s<64&&(s*=2);let K;d===1?(d=2,K=0):K=(s+Math.random())*1e3,T(K)}let D=!1;function O(x){D||(D=!0,w(),!g&&(o!==null?(x||(d=2),clearTimeout(o),T(0)):x||(d=1)))}return T(0),u=setTimeout(()=>{c=!0,O(!0)},e),O}function Ex(i){i(!1)}function Tx(i){return i!==void 0}function wx(i){return typeof i=="object"&&!Array.isArray(i)}function Gp(i){return typeof i=="string"||i instanceof String}function oT(i){return Yp()&&i instanceof Blob}function Yp(){return typeof Blob<"u"}function jg(i,t,e,s){if(s<t)throw zg(`Invalid value for '${i}'. Expected ${t} or greater.`);if(s>e)throw zg(`Invalid value for '${i}'. Expected ${e} or less.`)}function Lf(i,t,e){let s=t;return e==null&&(s=`https://${t}`),`${e}://${s}/v0${i}`}function $A(i){const t=encodeURIComponent;let e="?";for(const s in i)if(i.hasOwnProperty(s)){const o=t(s)+"="+t(i[s]);e=e+o+"&"}return e=e.slice(0,-1),e}var ha;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(ha||(ha={}));function Ax(i,t){const e=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,u=t.indexOf(i)!==-1;return e||o||u}class bx{constructor(t,e,s,o,u,c,d,p,g,_,T,w=!0,S=!1){this.url_=t,this.method_=e,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=_,this.connectionFactory_=T,this.retry=w,this.isUsingEmulator=S,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((D,O)=>{this.resolve_=D,this.reject_=O,this.start_()})}start_(){const t=(s,o)=>{if(o){s(!1,new _h(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const c=d=>{const p=d.loaded,g=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(c),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(c),this.pendingConnection_=null;const d=u.getErrorCode()===ha.NO_ERROR,p=u.getStatus();if(!d||Ax(p,this.additionalRetryCodes_)&&this.retry){const _=u.getErrorCode()===ha.ABORT;s(!1,new _h(!1,null,_));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new _h(g,u))})},e=(s,o)=>{const u=this.resolve_,c=this.reject_,d=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(d,d.getResponse());Tx(p)?u(p):u()}catch(p){c(p)}else if(d!==null){const p=Fp();p.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,p)):c(p)}else if(o.canceled){const p=this.appDelete_?KA():cx();c(p)}else{const p=ux();c(p)}};this.canceled_?e(!1,new _h(!1,null,!0)):this.backoffId_=vx(t,e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&Ex(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class _h{constructor(t,e,s){this.wasSuccessCode=t,this.connection=e,this.canceled=!!s}}function Sx(i,t){t!==null&&t.length>0&&(i.Authorization="Firebase "+t)}function Rx(i,t){i["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function Ix(i,t){t&&(i["X-Firebase-GMPID"]=t)}function Cx(i,t){t!==null&&(i["X-Firebase-AppCheck"]=t)}function Nx(i,t,e,s,o,u,c=!0,d=!1){const p=$A(i.urlParams),g=i.url+p,_=Object.assign({},i.headers);return Ix(_,t),Sx(_,e),Rx(_,u),Cx(_,s),new bx(g,i.method,_,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,c,d)}function xx(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Dx(...i){const t=xx();if(t!==void 0){const e=new t;for(let s=0;s<i.length;s++)e.append(i[s]);return e.getBlob()}else{if(Yp())return new Blob(i);throw new me(de.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Ox(i,t,e){return i.webkitSlice?i.webkitSlice(t,e):i.mozSlice?i.mozSlice(t,e):i.slice?i.slice(t,e):null}function Mx(i){if(typeof atob>"u")throw px("base-64");return atob(i)}const Li={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class sg{constructor(t,e){this.data=t,this.contentType=e||null}}function Vx(i,t){switch(i){case Li.RAW:return new sg(ZA(t));case Li.BASE64:case Li.BASE64URL:return new sg(JA(i,t));case Li.DATA_URL:return new sg(Ux(t),Lx(t))}throw Fp()}function ZA(i){const t=[];for(let e=0;e<i.length;e++){let s=i.charCodeAt(e);if(s<=127)t.push(s);else if(s<=2047)t.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(e<i.length-1&&(i.charCodeAt(e+1)&64512)===56320))t.push(239,191,189);else{const u=s,c=i.charCodeAt(++e);s=65536|(u&1023)<<10|c&1023,t.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?t.push(239,191,189):t.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(t)}function kx(i){let t;try{t=decodeURIComponent(i)}catch{throw lu(Li.DATA_URL,"Malformed data URL.")}return ZA(t)}function JA(i,t){switch(i){case Li.BASE64:{const o=t.indexOf("-")!==-1,u=t.indexOf("_")!==-1;if(o||u)throw lu(i,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Li.BASE64URL:{const o=t.indexOf("+")!==-1,u=t.indexOf("/")!==-1;if(o||u)throw lu(i,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=Mx(t)}catch(o){throw o.message.includes("polyfill")?o:lu(i,"Invalid character found")}const s=new Uint8Array(e.length);for(let o=0;o<e.length;o++)s[o]=e.charCodeAt(o);return s}class WA{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(e===null)throw lu(Li.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=e[1]||null;s!=null&&(this.base64=Px(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=t.substring(t.indexOf(",")+1)}}function Ux(i){const t=new WA(i);return t.base64?JA(Li.BASE64,t.rest):kx(t.rest)}function Lx(i){return new WA(i).contentType}function Px(i,t){return i.length>=t.length?i.substring(i.length-t.length)===t:!1}class cs{constructor(t,e){let s=0,o="";oT(t)?(this.data_=t,s=t.size,o=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),s=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),s=t.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(t,e){if(oT(this.data_)){const s=this.data_,o=Ox(s,t,e);return o===null?null:new cs(o)}else{const s=new Uint8Array(this.data_.buffer,t,e-t);return new cs(s,!0)}}static getBlob(...t){if(Yp()){const e=t.map(s=>s instanceof cs?s.data_:s);return new cs(Dx.apply(null,e))}else{const e=t.map(c=>Gp(c)?Vx(Li.RAW,c).data:c.data_);let s=0;e.forEach(c=>{s+=c.byteLength});const o=new Uint8Array(s);let u=0;return e.forEach(c=>{for(let d=0;d<c.length;d++)o[u++]=c[d]}),new cs(o,!0)}}uploadData(){return this.data_}}function Qp(i){let t;try{t=JSON.parse(i)}catch{return null}return wx(t)?t:null}function zx(i){if(i.length===0)return null;const t=i.lastIndexOf("/");return t===-1?"":i.slice(0,t)}function jx(i,t){const e=t.split("/").filter(s=>s.length>0).join("/");return i.length===0?e:i+"/"+e}function t1(i){const t=i.lastIndexOf("/",i.length-2);return t===-1?i:i.slice(t+1)}function Bx(i,t){return t}class sn{constructor(t,e,s,o){this.server=t,this.local=e||t,this.writable=!!s,this.xform=o||Bx}}let vh=null;function qx(i){return!Gp(i)||i.length<2?i:t1(i)}function e1(){if(vh)return vh;const i=[];i.push(new sn("bucket")),i.push(new sn("generation")),i.push(new sn("metageneration")),i.push(new sn("name","fullPath",!0));function t(u,c){return qx(c)}const e=new sn("name");e.xform=t,i.push(e);function s(u,c){return c!==void 0?Number(c):c}const o=new sn("size");return o.xform=s,i.push(o),i.push(new sn("timeCreated")),i.push(new sn("updated")),i.push(new sn("md5Hash",null,!0)),i.push(new sn("cacheControl",null,!0)),i.push(new sn("contentDisposition",null,!0)),i.push(new sn("contentEncoding",null,!0)),i.push(new sn("contentLanguage",null,!0)),i.push(new sn("contentType",null,!0)),i.push(new sn("metadata","customMetadata",!0)),vh=i,vh}function Hx(i,t){function e(){const s=i.bucket,o=i.fullPath,u=new on(s,o);return t._makeStorageReference(u)}Object.defineProperty(i,"ref",{get:e})}function Fx(i,t,e){const s={};s.type="file";const o=e.length;for(let u=0;u<o;u++){const c=e[u];s[c.local]=c.xform(s,t[c.server])}return Hx(s,i),s}function n1(i,t,e){const s=Qp(t);return s===null?null:Fx(i,s,e)}function Gx(i,t,e,s){const o=Qp(t);if(o===null||!Gp(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const c=encodeURIComponent;return u.split(",").map(g=>{const _=i.bucket,T=i.fullPath,w="/b/"+c(_)+"/o/"+c(T),S=Lf(w,e,s),D=$A({alt:"media",token:g});return S+D})[0]}function Yx(i,t){const e={},s=t.length;for(let o=0;o<s;o++){const u=t[o];u.writable&&(e[u.server]=i[u.local])}return JSON.stringify(e)}const lT="prefixes",uT="items";function Qx(i,t,e){const s={prefixes:[],items:[],nextPageToken:e.nextPageToken};if(e[lT])for(const o of e[lT]){const u=o.replace(/\/$/,""),c=i._makeStorageReference(new on(t,u));s.prefixes.push(c)}if(e[uT])for(const o of e[uT]){const u=i._makeStorageReference(new on(t,o.name));s.items.push(u)}return s}function Xx(i,t,e){const s=Qp(e);return s===null?null:Qx(i,t,s)}class Xp{constructor(t,e,s,o){this.url=t,this.method=e,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Kp(i){if(!i)throw Fp()}function Kx(i,t){function e(s,o){const u=n1(i,o,t);return Kp(u!==null),u}return e}function $x(i,t){function e(s,o){const u=Xx(i,t,o);return Kp(u!==null),u}return e}function Zx(i,t){function e(s,o){const u=n1(i,o,t);return Kp(u!==null),Gx(u,o,i.host,i._protocol)}return e}function $p(i){function t(e,s){let o;return e.getStatus()===401?e.getErrorText().includes("Firebase App Check token is invalid")?o=ox():o=ax():e.getStatus()===402?o=sx(i.bucket):e.getStatus()===403?o=lx(i.path):o=s,o.status=e.getStatus(),o.serverResponse=s.serverResponse,o}return t}function Jx(i){const t=$p(i);function e(s,o){let u=t(s,o);return s.getStatus()===404&&(u=rx(i.path)),u.serverResponse=o.serverResponse,u}return e}function Wx(i,t,e,s,o){const u={};t.isRoot?u.prefix="":u.prefix=t.path+"/",e.length>0&&(u.delimiter=e),s&&(u.pageToken=s),o&&(u.maxResults=o);const c=t.bucketOnlyServerUrl(),d=Lf(c,i.host,i._protocol),p="GET",g=i.maxOperationRetryTime,_=new Xp(d,p,$x(i,t.bucket),g);return _.urlParams=u,_.errorHandler=$p(t),_}function tD(i,t,e){const s=t.fullServerUrl(),o=Lf(s,i.host,i._protocol),u="GET",c=i.maxOperationRetryTime,d=new Xp(o,u,Zx(i,e),c);return d.errorHandler=Jx(t),d}function eD(i,t){return i&&i.contentType||t&&t.type()||"application/octet-stream"}function nD(i,t,e){const s=Object.assign({},e);return s.fullPath=i.path,s.size=t.size(),s.contentType||(s.contentType=eD(null,t)),s}function iD(i,t,e,s,o){const u=t.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function d(){let K="";for(let q=0;q<2;q++)K=K+Math.random().toString().slice(2);return K}const p=d();c["Content-Type"]="multipart/related; boundary="+p;const g=nD(t,s,o),_=Yx(g,e),T="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+_+`\r
--`+p+`\r
Content-Type: `+g.contentType+`\r
\r
`,w=`\r
--`+p+"--",S=cs.getBlob(T,s,w);if(S===null)throw mx();const D={name:g.fullPath},O=Lf(u,i.host,i._protocol),x="POST",z=i.maxUploadRetryTime,J=new Xp(O,x,Kx(i,e),z);return J.urlParams=D,J.headers=c,J.body=S.uploadData(),J.errorHandler=$p(t),J}class rD{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ha.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ha.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ha.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,s,o,u){if(this.sent_)throw Xl("cannot .send() more than once");if(Cs(t)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(e,t,!0),u!==void 0)for(const c in u)u.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,u[c].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Xl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Xl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Xl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Xl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class sD extends rD{initXhr(){this.xhr_.responseType="text"}}function Zp(){return new sD}class _a{constructor(t,e){this._service=t,e instanceof on?this._location=e:this._location=on.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new _a(t,e)}get root(){const t=new on(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return t1(this._location.path)}get storage(){return this._service}get parent(){const t=zx(this._location.path);if(t===null)return null;const e=new on(this._location.bucket,t);return new _a(this._service,e)}_throwIfRoot(t){if(this._location.path==="")throw yx(t)}}function aD(i,t,e){i._throwIfRoot("uploadBytes");const s=iD(i.storage,i._location,e1(),new cs(t,!0),e);return i.storage.makeRequestWithTokens(s,Zp).then(o=>({metadata:o,ref:i}))}function oD(i){const t={prefixes:[],items:[]};return i1(i,t).then(()=>t)}async function i1(i,t,e){const o=await lD(i,{pageToken:e});t.prefixes.push(...o.prefixes),t.items.push(...o.items),o.nextPageToken!=null&&await i1(i,t,o.nextPageToken)}function lD(i,t){t!=null&&typeof t.maxResults=="number"&&jg("options.maxResults",1,1e3,t.maxResults);const e=t||{},s=Wx(i.storage,i._location,"/",e.pageToken,e.maxResults);return i.storage.makeRequestWithTokens(s,Zp)}function uD(i){i._throwIfRoot("getDownloadURL");const t=tD(i.storage,i._location,e1());return i.storage.makeRequestWithTokens(t,Zp).then(e=>{if(e===null)throw gx();return e})}function cD(i,t){const e=jx(i._location.path,t),s=new on(i._location.bucket,e);return new _a(i.storage,s)}function hD(i){return/^[A-Za-z]+:\/\//.test(i)}function fD(i,t){return new _a(i,t)}function r1(i,t){if(i instanceof Jp){const e=i;if(e._bucket==null)throw dx();const s=new _a(e,e._bucket);return t!=null?r1(s,t):s}else return t!==void 0?cD(i,t):i}function dD(i,t){if(t&&hD(t)){if(i instanceof Jp)return fD(i,t);throw zg("To use ref(service, url), the first argument must be a Storage instance.")}else return r1(i,t)}function cT(i,t){const e=t?.[XA];return e==null?null:on.makeFromBucketSpec(e,i)}function mD(i,t,e,s={}){i.host=`${t}:${e}`;const o=Cs(t);o&&(Wg(`https://${i.host}/b`),tp("Storage",!0)),i._isUsingEmulator=!0,i._protocol=o?"https":"http";const{mockUserToken:u}=s;u&&(i._overrideAuthToken=typeof u=="string"?u:hw(u,i.app.options.projectId))}class Jp{constructor(t,e,s,o,u,c=!1){this.app=t,this._authProvider=e,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=c,this._bucket=null,this._host=QA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=nx,this._maxUploadRetryTime=ix,this._requests=new Set,o!=null?this._bucket=on.makeFromBucketSpec(o,this._host):this._bucket=cT(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=on.makeFromBucketSpec(this._url,t):this._bucket=cT(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){jg("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){jg("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const e=await t.getToken();if(e!==null)return e.accessToken}return null}async _getAppCheckToken(){if(qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new _a(this,t)}_makeRequest(t,e,s,o,u=!0){if(this._deleted)return new _x(KA());{const c=Nx(t,this._appId,s,o,e,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(t,e){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,e,s,o).getPromise()}}const hT="@firebase/storage",fT="0.14.0";const s1="storage";function gD(i,t,e){return i=Me(i),aD(i,t,e)}function pD(i){return i=Me(i),oD(i)}function a1(i){return i=Me(i),uD(i)}function o1(i,t){return i=Me(i),dD(i,t)}function yD(i=ip(),t){i=Me(i);const s=vf(i,s1).getImmediate({identifier:t}),o=lw("storage");return o&&_D(s,...o),s}function _D(i,t,e,s={}){mD(i,t,e,s)}function vD(i,{instanceIdentifier:t}){const e=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new Jp(e,s,o,t,Ta)}function ED(){ga(new Ts(s1,vD,"PUBLIC").setMultipleInstances(!0)),Pi(hT,fT,""),Pi(hT,fT,"esm2020")}ED();function l1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const TD=l1,u1=new Su("auth","Firebase",l1());const af=new ep("@firebase/auth");function wD(i,...t){af.logLevel<=Pt.WARN&&af.warn(`Auth (${Ta}): ${i}`,...t)}function Uh(i,...t){af.logLevel<=Pt.ERROR&&af.error(`Auth (${Ta}): ${i}`,...t)}function Yi(i,...t){throw ty(i,...t)}function oi(i,...t){return ty(i,...t)}function Wp(i,t,e){const s={...TD(),[t]:e};return new Su("auth","Firebase",s).create(t,{appName:i.name})}function fa(i){return Wp(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function AD(i,t,e){const s=e;if(!(t instanceof s))throw s.name!==t.constructor.name&&Yi(i,"argument-error"),Wp(i,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ty(i,...t){if(typeof i!="string"){const e=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(e,...s)}return u1.create(i,...t)}function It(i,t,...e){if(!i)throw ty(t,...e)}function yr(i){const t="INTERNAL ASSERTION FAILED: "+i;throw Uh(t),new Error(t)}function Rr(i,t){i||yr(t)}function Bg(){return typeof self<"u"&&self.location?.href||""}function bD(){return dT()==="http:"||dT()==="https:"}function dT(){return typeof self<"u"&&self.location?.protocol||null}function SD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(bD()||_R()||"connection"in navigator)?navigator.onLine:!0}function RD(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class Ou{constructor(t,e){this.shortDelay=t,this.longDelay=e,Rr(e>t,"Short delay should be less than long delay!"),this.isMobile=gR()||vR()}get(){return SD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ey(i,t){Rr(i.emulator,"Emulator should always be set here");const{url:e}=i.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}class c1{static initialize(t,e,s){this.fetchImpl=t,e&&(this.headersImpl=e),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;yr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;yr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;yr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ID={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const CD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ND=new Ou(3e4,6e4);function ny(i,t){return i.tenantId&&!t.tenantId?{...t,tenantId:i.tenantId}:t}async function Bo(i,t,e,s,o={}){return h1(i,o,async()=>{let u={},c={};s&&(t==="GET"?c=s:u={body:JSON.stringify(s)});const d=Ru({key:i.config.apiKey,...c}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g={method:t,headers:p,...u};return yR()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&Cs(i.emulatorConfig.host)&&(g.credentials="include"),c1.fetch()(await f1(i,i.config.apiHost,e,d),g)})}async function h1(i,t,e){i._canInitEmulator=!1;const s={...ID,...t};try{const o=new DD(i),u=await Promise.race([e(),o.promise]);o.clearNetworkTimeout();const c=await u.json();if("needConfirmation"in c)throw Eh(i,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const d=u.ok?c.errorMessage:c.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Eh(i,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw Eh(i,"email-already-in-use",c);if(p==="USER_DISABLED")throw Eh(i,"user-disabled",c);const _=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Wp(i,_,g);Yi(i,_)}}catch(o){if(o instanceof Qi)throw o;Yi(i,"network-request-failed",{message:String(o)})}}async function xD(i,t,e,s,o={}){const u=await Bo(i,t,e,s,o);return"mfaPendingCredential"in u&&Yi(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function f1(i,t,e,s){const o=`${t}${e}?${s}`,u=i,c=u.config.emulator?ey(i.config,o):`${i.config.apiScheme}://${o}`;return CD.includes(e)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(c).toString():c}class DD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,s)=>{this.timer=setTimeout(()=>s(oi(this.auth,"network-request-failed")),ND.get())})}}function Eh(i,t,e){const s={appName:i.name};e.email&&(s.email=e.email),e.phoneNumber&&(s.phoneNumber=e.phoneNumber);const o=oi(i,t,s);return o.customData._tokenResponse=e,o}async function OD(i,t){return Bo(i,"POST","/v1/accounts:delete",t)}async function of(i,t){return Bo(i,"POST","/v1/accounts:lookup",t)}function uu(i){if(i)try{const t=new Date(Number(i));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function MD(i,t=!1){const e=Me(i),s=await e.getIdToken(t),o=iy(s);It(o&&o.exp&&o.auth_time&&o.iat,e.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,c=u?.sign_in_provider;return{claims:o,token:s,authTime:uu(ag(o.auth_time)),issuedAtTime:uu(ag(o.iat)),expirationTime:uu(ag(o.exp)),signInProvider:c||null,signInSecondFactor:u?.sign_in_second_factor||null}}function ag(i){return Number(i)*1e3}function iy(i){const[t,e,s]=i.split(".");if(t===void 0||e===void 0||s===void 0)return Uh("JWT malformed, contained fewer than 3 sections"),null;try{const o=aw(e);return o?JSON.parse(o):(Uh("Failed to decode base64 JWT payload"),null)}catch(o){return Uh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function mT(i){const t=iy(i);return It(t,"internal-error"),It(typeof t.exp<"u","internal-error"),It(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function vu(i,t,e=!1){if(e)return t;try{return await t}catch(s){throw s instanceof Qi&&VD(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function VD({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class kD{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class qg{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=uu(this.lastLoginAt),this.creationTime=uu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function lf(i){const t=i.auth,e=await i.getIdToken(),s=await vu(i,of(t,{idToken:e}));It(s?.users.length,t,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?d1(o.providerUserInfo):[],c=LD(i.providerData,u),d=i.isAnonymous,p=!(i.email&&o.passwordHash)&&!c?.length,g=d?p:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new qg(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(i,_)}async function UD(i){const t=Me(i);await lf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function LD(i,t){return[...i.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function d1(i){return i.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}async function PD(i,t){const e=await h1(i,{},async()=>{const s=Ru({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,c=await f1(i,o,"/v1/token",`key=${u}`),d=await i._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:s};return i.emulatorConfig&&Cs(i.emulatorConfig.host)&&(p.credentials="include"),c1.fetch()(c,p)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function zD(i,t){return Bo(i,"POST","/v2/accounts:revokeToken",ny(i,t))}class To{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){It(t.idToken,"internal-error"),It(typeof t.idToken<"u","internal-error"),It(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):mT(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){It(t.length!==0,"internal-error");const e=mT(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(It(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:s,refreshToken:o,expiresIn:u}=await PD(t,e);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,e,s){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,e){const{refreshToken:s,accessToken:o,expirationTime:u}=e,c=new To;return s&&(It(typeof s=="string","internal-error",{appName:t}),c.refreshToken=s),o&&(It(typeof o=="string","internal-error",{appName:t}),c.accessToken=o),u&&(It(typeof u=="number","internal-error",{appName:t}),c.expirationTime=u),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new To,this.toJSON())}_performRefresh(){return yr("not implemented")}}function ls(i,t){It(typeof i=="string"||typeof i>"u","internal-error",{appName:t})}class si{constructor({uid:t,auth:e,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new kD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new qg(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const e=await vu(this,this.stsTokenManager.getToken(this.auth,t));return It(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return MD(this,t)}reload(){return UD(this)}_assign(t){this!==t&&(It(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new si({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){It(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),e&&await lf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(qn(this.auth.app))return Promise.reject(fa(this.auth));const t=await this.getIdToken();return await vu(this,OD(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const s=e.displayName??void 0,o=e.email??void 0,u=e.phoneNumber??void 0,c=e.photoURL??void 0,d=e.tenantId??void 0,p=e._redirectEventId??void 0,g=e.createdAt??void 0,_=e.lastLoginAt??void 0,{uid:T,emailVerified:w,isAnonymous:S,providerData:D,stsTokenManager:O}=e;It(T&&O,t,"internal-error");const x=To.fromJSON(this.name,O);It(typeof T=="string",t,"internal-error"),ls(s,t.name),ls(o,t.name),It(typeof w=="boolean",t,"internal-error"),It(typeof S=="boolean",t,"internal-error"),ls(u,t.name),ls(c,t.name),ls(d,t.name),ls(p,t.name),ls(g,t.name),ls(_,t.name);const z=new si({uid:T,auth:t,email:o,emailVerified:w,displayName:s,isAnonymous:S,photoURL:c,phoneNumber:u,tenantId:d,stsTokenManager:x,createdAt:g,lastLoginAt:_});return D&&Array.isArray(D)&&(z.providerData=D.map(J=>({...J}))),p&&(z._redirectEventId=p),z}static async _fromIdTokenResponse(t,e,s=!1){const o=new To;o.updateFromServerResponse(e);const u=new si({uid:e.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await lf(u),u}static async _fromGetAccountInfoResponse(t,e,s){const o=e.users[0];It(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?d1(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!u?.length,d=new To;d.updateFromIdToken(s);const p=new si({uid:o.localId,auth:t,stsTokenManager:d,isAnonymous:c}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new qg(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}const gT=new Map;function _r(i){Rr(i instanceof Function,"Expected a class definition");let t=gT.get(i);return t?(Rr(t instanceof i,"Instance stored in cache mismatched with class"),t):(t=new i,gT.set(i,t),t)}class m1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}m1.type="NONE";const pT=m1;function Lh(i,t,e){return`firebase:${i}:${t}:${e}`}class wo{constructor(t,e,s){this.persistence=t,this.auth=e,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Lh(this.userKey,o.apiKey,u),this.fullPersistenceKey=Lh("persistence",o.apiKey,u),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await of(this.auth,{idToken:t}).catch(()=>{});return e?si._fromGetAccountInfoResponse(this.auth,e,t):null}return si._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,s="authUser"){if(!e.length)return new wo(_r(pT),t,s);const o=(await Promise.all(e.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||_r(pT);const c=Lh(s,t.config.apiKey,t.name);let d=null;for(const g of e)try{const _=await g._get(c);if(_){let T;if(typeof _=="string"){const w=await of(t,{idToken:_}).catch(()=>{});if(!w)break;T=await si._fromGetAccountInfoResponse(t,w,_)}else T=si._fromJSON(t,_);g!==u&&(d=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new wo(u,t,s):(u=p[0],d&&await u._set(c,d.toJSON()),await Promise.all(e.map(async g=>{if(g!==u)try{await g._remove(c)}catch{}})),new wo(u,t,s))}}function yT(i){const t=i.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(_1(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(g1(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(E1(t))return"Blackberry";if(T1(t))return"Webos";if(p1(t))return"Safari";if((t.includes("chrome/")||y1(t))&&!t.includes("edge/"))return"Chrome";if(v1(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(e);if(s?.length===2)return s[1]}return"Other"}function g1(i=tn()){return/firefox\//i.test(i)}function p1(i=tn()){const t=i.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function y1(i=tn()){return/crios\//i.test(i)}function _1(i=tn()){return/iemobile/i.test(i)}function v1(i=tn()){return/android/i.test(i)}function E1(i=tn()){return/blackberry/i.test(i)}function T1(i=tn()){return/webos/i.test(i)}function ry(i=tn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function jD(i=tn()){return ry(i)&&!!window.navigator?.standalone}function BD(){return ER()&&document.documentMode===10}function w1(i=tn()){return ry(i)||v1(i)||T1(i)||E1(i)||/windows phone/i.test(i)||_1(i)}function A1(i,t=[]){let e;switch(i){case"Browser":e=yT(tn());break;case"Worker":e=`${yT(tn())}-${i}`;break;default:e=i}const s=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Ta}/${s}`}class qD{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const s=u=>new Promise((c,d)=>{try{const p=t(u);c(p)}catch(p){d(p)}});s.onAbort=e,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const s of this.queue)await s(t),s.onAbort&&e.push(s.onAbort)}catch(s){e.reverse();for(const o of e)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function HD(i,t={}){return Bo(i,"GET","/v2/passwordPolicy",ny(i,t))}const FD=6;class GD{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??FD,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(e.meetsMinPasswordLength=t.length>=s),o&&(e.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(e,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,e,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}class YD{constructor(t,e,s,o){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _T(this),this.idTokenSubscription=new _T(this),this.beforeStateQueue=new qD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=u1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=_r(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await wo.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await of(this,{idToken:t}),s=await si._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(s)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(qn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(c,c))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let s=e,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,c=s?._redirectEventId,d=await this.tryRedirectSignIn(t);(!u||u===c)&&d?.user&&(s=d.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return It(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await lf(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=RD()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(qn(this.app))return Promise.reject(fa(this));const e=t?Me(t):null;return e&&It(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&It(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return qn(this.app)?Promise.reject(fa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return qn(this.app)?Promise.reject(fa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_r(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await HD(this),e=new GD(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Su("auth","Firebase",t())}onAuthStateChanged(t,e,s){return this.registerStateListener(this.authStateSubscription,t,e,s)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,s){return this.registerStateListener(this.idTokenSubscription,t,e,s)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(s.tenantId=this.tenantId),await zD(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const s=await this.getOrInitRedirectPersistenceManager(e);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&_r(t)||this._popupRedirectResolver;It(e,this,"argument-error"),this.redirectPersistenceManager=await wo.create(this,[_r(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,s,o){if(this._deleted)return()=>{};const u=typeof e=="function"?e:e.next.bind(e);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(It(d,this,"internal-error"),d.then(()=>{c||u(this.currentUser)}),typeof e=="function"){const p=t.addObserver(e,s,o);return()=>{c=!0,p()}}else{const p=t.addObserver(e);return()=>{c=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return It(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=A1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&wD(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Pf(i){return Me(i)}class _T{constructor(t){this.auth=t,this.observer=null,this.addObserver=CR(e=>this.observer=e)}get next(){return It(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let sy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function QD(i){sy=i}function XD(i){return sy.loadJS(i)}function KD(){return sy.gapiScript}function $D(i){return`__${i}${Math.floor(Math.random()*1e6)}`}function ZD(i,t){const e=vf(i,"auth");if(e.isInitialized()){const o=e.getImmediate(),u=e.getOptions();if(ma(u,t??{}))return o;Yi(o,"already-initialized")}return e.initialize({options:t})}function JD(i,t){const e=t?.persistence||[],s=(Array.isArray(e)?e:[e]).map(_r);t?.errorMap&&i._updateErrorMap(t.errorMap),i._initializeWithPersistence(s,t?.popupRedirectResolver)}function WD(i,t,e){const s=Pf(i);It(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=b1(t),{host:c,port:d}=tO(t),p=d===null?"":`:${d}`,g={url:`${u}//${c}${p}/`},_=Object.freeze({host:c,port:d,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){It(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),It(ma(g,s.config.emulator)&&ma(_,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=_,s.settings.appVerificationDisabledForTesting=!0,Cs(c)?(Wg(`${u}//${c}${p}`),tp("Auth",!0)):eO()}function b1(i){const t=i.indexOf(":");return t<0?"":i.substr(0,t+1)}function tO(i){const t=b1(i),e=/(\/\/)?([^?#/]+)/.exec(i.substr(t.length));if(!e)return{host:"",port:null};const s=e[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:vT(s.substr(u.length+1))}}else{const[u,c]=s.split(":");return{host:u,port:vT(c)}}}function vT(i){if(!i)return null;const t=Number(i);return isNaN(t)?null:t}function eO(){function i(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class S1{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return yr("not implemented")}_getIdTokenResponse(t){return yr("not implemented")}_linkToIdToken(t,e){return yr("not implemented")}_getReauthenticationResolver(t){return yr("not implemented")}}async function Ao(i,t){return xD(i,"POST","/v1/accounts:signInWithIdp",ny(i,t))}const nO="http://localhost";class va extends S1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new va(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Yi("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o,...u}=e;if(!s||!o)return null;const c=new va(s,o);return c.idToken=u.idToken||void 0,c.accessToken=u.accessToken||void 0,c.secret=u.secret,c.nonce=u.nonce,c.pendingToken=u.pendingToken||null,c}_getIdTokenResponse(t){const e=this.buildRequest();return Ao(t,e)}_linkToIdToken(t,e){const s=this.buildRequest();return s.idToken=e,Ao(t,s)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Ao(t,e)}buildRequest(){const t={requestUri:nO,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=Ru(e)}return t}}class ay{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Mu extends ay{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class hs extends Mu{constructor(){super("facebook.com")}static credential(t){return va._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return hs.credentialFromTaggedObject(t)}static credentialFromError(t){return hs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return hs.credential(t.oauthAccessToken)}catch{return null}}}hs.FACEBOOK_SIGN_IN_METHOD="facebook.com";hs.PROVIDER_ID="facebook.com";class fs extends Mu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return va._fromParams({providerId:fs.PROVIDER_ID,signInMethod:fs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return fs.credentialFromTaggedObject(t)}static credentialFromError(t){return fs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:s}=t;if(!e&&!s)return null;try{return fs.credential(e,s)}catch{return null}}}fs.GOOGLE_SIGN_IN_METHOD="google.com";fs.PROVIDER_ID="google.com";class Vi extends Mu{constructor(){super("github.com")}static credential(t){return va._fromParams({providerId:Vi.PROVIDER_ID,signInMethod:Vi.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Vi.credentialFromTaggedObject(t)}static credentialFromError(t){return Vi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Vi.credential(t.oauthAccessToken)}catch{return null}}}Vi.GITHUB_SIGN_IN_METHOD="github.com";Vi.PROVIDER_ID="github.com";class ds extends Mu{constructor(){super("twitter.com")}static credential(t,e){return va._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return ds.credentialFromTaggedObject(t)}static credentialFromError(t){return ds.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:s}=t;if(!e||!s)return null;try{return ds.credential(e,s)}catch{return null}}}ds.TWITTER_SIGN_IN_METHOD="twitter.com";ds.PROVIDER_ID="twitter.com";class Mo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,s,o=!1){const u=await si._fromIdTokenResponse(t,s,o),c=ET(s);return new Mo({user:u,providerId:c,_tokenResponse:s,operationType:e})}static async _forOperation(t,e,s){await t._updateTokensIfNecessary(s,!0);const o=ET(s);return new Mo({user:t,providerId:o,_tokenResponse:s,operationType:e})}}function ET(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class uf extends Qi{constructor(t,e,s,o){super(e.code,e.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,uf.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,e,s,o){return new uf(t,e,s,o)}}function R1(i,t,e,s){return(t==="reauthenticate"?e._getReauthenticationResolver(i):e._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?uf._fromErrorAndOperation(i,u,t,s):u})}async function iO(i,t,e=!1){const s=await vu(i,t._linkToIdToken(i.auth,await i.getIdToken()),e);return Mo._forOperation(i,"link",s)}async function rO(i,t,e=!1){const{auth:s}=i;if(qn(s.app))return Promise.reject(fa(s));const o="reauthenticate";try{const u=await vu(i,R1(s,o,t,i),e);It(u.idToken,s,"internal-error");const c=iy(u.idToken);It(c,s,"internal-error");const{sub:d}=c;return It(i.uid===d,s,"user-mismatch"),Mo._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Yi(s,"user-mismatch"),u}}async function sO(i,t,e=!1){if(qn(i.app))return Promise.reject(fa(i));const s="signIn",o=await R1(i,s,t),u=await Mo._fromIdTokenResponse(i,s,o);return e||await i._updateCurrentUser(u.user),u}function aO(i,t,e,s){return Me(i).onIdTokenChanged(t,e,s)}function oO(i,t,e){return Me(i).beforeAuthStateChanged(t,e)}function lO(i,t,e,s){return Me(i).onAuthStateChanged(t,e,s)}function uO(i){return Me(i).signOut()}const cf="__sak";class I1{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(cf,"1"),this.storage.removeItem(cf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const cO=1e3,hO=10;class C1 extends I1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=w1(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const s=this.storage.getItem(e),o=this.localCache[e];s!==o&&t(e,o,s)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const s=t.key;e?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(s);!e&&this.localCache[s]===c||this.notifyListeners(s,c)},u=this.storage.getItem(s);BD()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,hO):o()}notifyListeners(t,e){this.localCache[t]=e;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:s}),!0)})},cO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}C1.type="LOCAL";const fO=C1;class N1 extends I1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}N1.type="SESSION";const x1=N1;function dO(i){return Promise.all(i.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}class zf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(o=>o.isListeningto(t));if(e)return e;const s=new zf(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:s,eventType:o,data:u}=e.data,c=this.handlersMap[o];if(!c?.size)return;e.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const d=Array.from(c).map(async g=>g(e.origin,u)),p=await dO(d);e.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}zf.receivers=[];function oy(i="",t=10){let e="";for(let s=0;s<t;s++)e+=Math.floor(Math.random()*10);return i+e}class mO{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,c;return new Promise((d,p)=>{const g=oy("",20);o.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},s);c={messageChannel:o,onMessage(T){const w=T;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(_),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),d(w.data.response);break;default:clearTimeout(_),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:g,data:e},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function Hi(){return window}function gO(i){Hi().location.href=i}function D1(){return typeof Hi().WorkerGlobalScope<"u"&&typeof Hi().importScripts=="function"}async function pO(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function yO(){return navigator?.serviceWorker?.controller||null}function _O(){return D1()?self:null}const O1="firebaseLocalStorageDb",vO=1,hf="firebaseLocalStorage",M1="fbase_key";class Vu{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function jf(i,t){return i.transaction([hf],t?"readwrite":"readonly").objectStore(hf)}function EO(){const i=indexedDB.deleteDatabase(O1);return new Vu(i).toPromise()}function Hg(){const i=indexedDB.open(O1,vO);return new Promise((t,e)=>{i.addEventListener("error",()=>{e(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(hf,{keyPath:M1})}catch(o){e(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(hf)?t(s):(s.close(),await EO(),t(await Hg()))})})}async function TT(i,t,e){const s=jf(i,!0).put({[M1]:t,value:e});return new Vu(s).toPromise()}async function TO(i,t){const e=jf(i,!1).get(t),s=await new Vu(e).toPromise();return s===void 0?null:s.value}function wT(i,t){const e=jf(i,!0).delete(t);return new Vu(e).toPromise()}const wO=800,AO=3;class V1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Hg(),this.db)}async _withRetries(t){let e=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(e++>AO)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return D1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=zf._getInstance(_O()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await pO(),!this.activeServiceWorker)return;this.sender=new mO(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||yO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Hg();return await TT(t,cf,"1"),await wT(t,cf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(s=>TT(s,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(s=>TO(s,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>wT(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=jf(o,!1).getAll();return new Vu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),e.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),e.push(o));return e}notifyListeners(t,e){this.localCache[t]=e;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),wO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}V1.type="LOCAL";const bO=V1;new Ou(3e4,6e4);function k1(i,t){return t?_r(t):(It(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class ly extends S1{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ao(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Ao(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Ao(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function SO(i){return sO(i.auth,new ly(i),i.bypassAuthState)}function RO(i){const{auth:t,user:e}=i;return It(e,t,"internal-error"),rO(e,new ly(i),i.bypassAuthState)}async function IO(i){const{auth:t,user:e}=i;return It(e,t,"internal-error"),iO(e,new ly(i),i.bypassAuthState)}class U1{constructor(t,e,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:s,postBody:o,tenantId:u,error:c,type:d}=t;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:e,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return SO;case"linkViaPopup":case"linkViaRedirect":return IO;case"reauthViaPopup":case"reauthViaRedirect":return RO;default:Yi(this.auth,"internal-error")}}resolve(t){Rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const CO=new Ou(2e3,1e4);async function NO(i,t,e){if(qn(i.app))return Promise.reject(oi(i,"operation-not-supported-in-this-environment"));const s=Pf(i);AD(i,t,ay);const o=k1(s,e);return new oa(s,"signInViaPopup",t,o).executeNotNull()}class oa extends U1{constructor(t,e,s,o,u){super(t,e,o,u),this.provider=s,this.authWindow=null,this.pollId=null,oa.currentPopupAction&&oa.currentPopupAction.cancel(),oa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return It(t,this.auth,"internal-error"),t}async onExecution(){Rr(this.filter.length===1,"Popup operations only handle one event");const t=oy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(oi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(oi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,oa.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(oi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,CO.get())};t()}}oa.currentPopupAction=null;const xO="pendingRedirect",Ph=new Map;class DO extends U1{constructor(t,e,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,s),this.eventId=null}async execute(){let t=Ph.get(this.auth._key());if(!t){try{const s=await OO(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(e){t=()=>Promise.reject(e)}Ph.set(this.auth._key(),t)}return this.bypassAuthState||Ph.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function OO(i,t){const e=kO(t),s=VO(i);if(!await s._isAvailable())return!1;const o=await s._get(e)==="true";return await s._remove(e),o}function MO(i,t){Ph.set(i._key(),t)}function VO(i){return _r(i._redirectPersistence)}function kO(i){return Lh(xO,i.config.apiKey,i.name)}async function UO(i,t,e=!1){if(qn(i.app))return Promise.reject(fa(i));const s=Pf(i),o=k1(s,t),c=await new DO(s,o,e).execute();return c&&!e&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,t)),c}const LO=600*1e3;class PO{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(e=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!zO(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!L1(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";e.onError(oi(this.auth,s))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const s=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=LO&&this.cachedEventUids.clear(),this.cachedEventUids.has(AT(t))}saveEventToCache(t){this.cachedEventUids.add(AT(t)),this.lastProcessedEventTime=Date.now()}}function AT(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(t=>t).join("-")}function L1({type:i,error:t}){return i==="unknown"&&t?.code==="auth/no-auth-event"}function zO(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return L1(i);default:return!1}}async function jO(i,t={}){return Bo(i,"GET","/v1/projects",t)}const BO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qO=/^https?/;async function HO(i){if(i.config.emulator)return;const{authorizedDomains:t}=await jO(i);for(const e of t)try{if(FO(e))return}catch{}Yi(i,"unauthorized-domain")}function FO(i){const t=Bg(),{protocol:e,hostname:s}=new URL(t);if(i.startsWith("chrome-extension://")){const c=new URL(i);return c.hostname===""&&s===""?e==="chrome-extension:"&&i.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&c.hostname===s}if(!qO.test(e))return!1;if(BO.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const GO=new Ou(3e4,6e4);function bT(){const i=Hi().___jsl;if(i?.H){for(const t of Object.keys(i.H))if(i.H[t].r=i.H[t].r||[],i.H[t].L=i.H[t].L||[],i.H[t].r=[...i.H[t].L],i.CP)for(let e=0;e<i.CP.length;e++)i.CP[e]=null}}function YO(i){return new Promise((t,e)=>{function s(){bT(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{bT(),e(oi(i,"network-request-failed"))},timeout:GO.get()})}if(Hi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Hi().gapi?.load)s();else{const o=$D("iframefcb");return Hi()[o]=()=>{gapi.load?s():e(oi(i,"network-request-failed"))},XD(`${KD()}?onload=${o}`).catch(u=>e(u))}}).catch(t=>{throw zh=null,t})}let zh=null;function QO(i){return zh=zh||YO(i),zh}const XO=new Ou(5e3,15e3),KO="__/auth/iframe",$O="emulator/auth/iframe",ZO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},JO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function WO(i){const t=i.config;It(t.authDomain,i,"auth-domain-config-required");const e=t.emulator?ey(t,$O):`https://${i.config.authDomain}/${KO}`,s={apiKey:t.apiKey,appName:i.name,v:Ta},o=JO.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${e}?${Ru(s).slice(1)}`}async function tM(i){const t=await QO(i),e=Hi().gapi;return It(e,i,"internal-error"),t.open({where:document.body,url:WO(i),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ZO,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const c=oi(i,"network-request-failed"),d=Hi().setTimeout(()=>{u(c)},XO.get());function p(){Hi().clearTimeout(d),o(s)}s.ping(p).then(p,()=>{u(c)})}))}const eM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},nM=500,iM=600,rM="_blank",sM="http://localhost";class ST{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function aM(i,t,e,s=nM,o=iM){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const p={...eM,width:s.toString(),height:o.toString(),top:u,left:c},g=tn().toLowerCase();e&&(d=y1(g)?rM:e),g1(g)&&(t=t||sM,p.scrollbars="yes");const _=Object.entries(p).reduce((w,[S,D])=>`${w}${S}=${D},`,"");if(jD(g)&&d!=="_self")return oM(t||"",d),new ST(null);const T=window.open(t||"",d,_);It(T,i,"popup-blocked");try{T.focus()}catch{}return new ST(T)}function oM(i,t){const e=document.createElement("a");e.href=i,e.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(s)}const lM="__/auth/handler",uM="emulator/auth/handler",cM=encodeURIComponent("fac");async function RT(i,t,e,s,o,u){It(i.config.authDomain,i,"auth-domain-config-required"),It(i.config.apiKey,i,"invalid-api-key");const c={apiKey:i.config.apiKey,appName:i.name,authType:e,redirectUrl:s,v:Ta,eventId:o};if(t instanceof ay){t.setDefaultLanguage(i.languageCode),c.providerId=t.providerId||"",IR(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[_,T]of Object.entries({}))c[_]=T}if(t instanceof Mu){const _=t.getScopes().filter(T=>T!=="");_.length>0&&(c.scopes=_.join(","))}i.tenantId&&(c.tid=i.tenantId);const d=c;for(const _ of Object.keys(d))d[_]===void 0&&delete d[_];const p=await i._getAppCheckToken(),g=p?`#${cM}=${encodeURIComponent(p)}`:"";return`${hM(i)}?${Ru(d).slice(1)}${g}`}function hM({config:i}){return i.emulator?ey(i,uM):`https://${i.authDomain}/${lM}`}const og="webStorageSupport";class fM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=x1,this._completeRedirectFn=UO,this._overrideRedirectResult=MO}async _openPopup(t,e,s,o){Rr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await RT(t,e,s,Bg(),o);return aM(t,u,oy())}async _openRedirect(t,e,s,o){await this._originValidation(t);const u=await RT(t,e,s,Bg(),o);return gO(u),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:o,promise:u}=this.eventManagers[e];return o?Promise.resolve(o):(Rr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[e]={promise:s},s.catch(()=>{delete this.eventManagers[e]}),s}async initAndGetManager(t){const e=await tM(t),s=new PO(t);return e.register("authEvent",o=>(It(o?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=e,s}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(og,{type:og},o=>{const u=o?.[0]?.[og];u!==void 0&&e(!!u),Yi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=HO(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return w1()||p1()||ry()}}const dM=fM;var IT="@firebase/auth",CT="1.12.0";class mM{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){It(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function gM(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function pM(i){ga(new Ts("auth",(t,{options:e})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=s.options;It(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:c,authDomain:d,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:A1(i)},g=new YD(s,o,u,p);return JD(g,e),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,s)=>{t.getProvider("auth-internal").initialize()})),ga(new Ts("auth-internal",t=>{const e=Pf(t.getProvider("auth").getImmediate());return(s=>new mM(s))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Pi(IT,CT,gM(i)),Pi(IT,CT,"esm2020")}const yM=300,_M=cw("authIdTokenMaxAge")||yM;let NT=null;const vM=i=>async t=>{const e=t&&await t.getIdTokenResult(),s=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(s&&s>_M)return;const o=e?.token;NT!==o&&(NT=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function EM(i=ip()){const t=vf(i,"auth");if(t.isInitialized())return t.getImmediate();const e=ZD(i,{popupRedirectResolver:dM,persistence:[bO,fO,x1]}),s=cw("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const c=vM(u.toString());oO(e,c,()=>c(e.currentUser)),aO(e,d=>c(d))}}const o=ow("auth");return o&&WD(e,`http://${o}`),e}function TM(){return document.getElementsByTagName("head")?.[0]??document}QD({loadJS(i){return new Promise((t,e)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=t,s.onerror=o=>{const u=oi("internal-error");u.customData=o,e(u)},s.type="text/javascript",s.charset="UTF-8",TM().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});pM("Browser");const wM={apiKey:"AIzaSyBg2PSLn-9WVtVlZOAwa08M3toyzn8NZVc",authDomain:"lecarnetdeurhu.firebaseapp.com",projectId:"lecarnetdeurhu",storageBucket:"lecarnetdeurhu.firebasestorage.app",messagingSenderId:"471200456302",appId:"1:471200456302:web:086b353aa81e600623107f",measurementId:"G-GXKHQJ0PEF"},uy=mw(wM),ai=zN(uy),P1=yD(uy),lg=EM(uy);new Vi;const AM=60,bM=40,SM=7e3,RM=500;function IM({activePage:i="today"}){const[t,e]=gt.useState([]),[s,o]=gt.useState(0),[u,c]=gt.useState(""),[d,p]=gt.useState("typing"),g=`var(--${i}-card-text-color)`,_=`var(--${i}-card-color)`;return gt.useEffect(()=>{async function T(){try{const w=sf(Ui(ai,"quotes"),$N("active","==",!0)),D=(await Hp(w)).docs.map(O=>O.data().text).filter(Boolean);D.length===0?e(["no quotes in the database yet. add some in firebase console."]):e(D),o(0),c(""),p("typing")}catch(w){console.error("Error loading quotes:",w),e(["could not load quotes from the backend (check console)."])}}T()},[]),gt.useEffect(()=>{if(t.length===0)return;const T=t[s%t.length];if(d==="typing")if(u.length<T.length){const w=setTimeout(()=>{c(T.slice(0,u.length+1))},AM);return()=>clearTimeout(w)}else{const w=setTimeout(()=>p("deleting"),SM);return()=>clearTimeout(w)}if(d==="deleting")if(u.length>0){const w=setTimeout(()=>{c(T.slice(0,u.length-1))},bM);return()=>clearTimeout(w)}else{const w=setTimeout(()=>{o(S=>(S+1)%t.length),p("typing"),c("")},RM);return()=>clearTimeout(w)}},[d,u,s,t]),t.length===0?null:k.jsxs("div",{className:"quote-ticker",style:{color:g,textShadow:`0 2px 4px ${_}`},children:[k.jsx("span",{className:"quote-text",children:u}),k.jsx("span",{className:"quote-cursor",children:""})]})}function CM(){const[i,t]=gt.useState(""),[e,s]=gt.useState(!1),[o,u]=gt.useState(()=>new Date);gt.useEffect(()=>{const g=setInterval(()=>u(new Date),1e3);return()=>clearInterval(g)},[]);const c=gt.useMemo(()=>{const g=String(o.getHours()).padStart(2,"0"),_=String(o.getMinutes()).padStart(2,"0");return`${g}:${_}`},[o]),d=gt.useMemo(()=>o.toLocaleDateString("en-US",{month:"short",day:"2-digit",year:"numeric"}),[o]);async function p(){const g=i.trim();if(g){s(!0);try{await Vh(Ui(ai,"messages"),{text:g,page:"today",createdAt:kh()}),t("")}catch(_){console.error("error saving note:",_)}finally{s(!1)}}}return k.jsxs("section",{className:"today-section",children:[k.jsxs("header",{className:"today-header",children:[k.jsxs("div",{className:"today-timeblock",children:[k.jsx("div",{className:"today-time",children:c}),k.jsx("div",{className:"today-date",children:d})]}),k.jsx("p",{className:"today-intro",children:"you ended up here, quietly. leave a note, a line from a song, a secret goal  anything you want to fold into this day."})]}),k.jsxs("div",{className:"today-layout",children:[k.jsxs("div",{className:"today-main",children:[k.jsx("label",{className:"note-label",children:"drop something for future-urhu"}),k.jsx("textarea",{className:"note-input",placeholder:"a thought, a worry, a miracle that hasnt happened yet",value:i,onChange:g=>t(g.target.value)}),k.jsx("button",{className:"note-button",onClick:p,disabled:e,children:e?"saving":"drop note"}),k.jsx("p",{className:"note-hint",children:"v0.2.2  notes are saved quietly. nothing shows publicly here."})]}),k.jsxs("aside",{className:"today-aside",children:[k.jsxs("div",{className:"aside-card",children:[k.jsx("h2",{children:"a small rule"}),k.jsx("p",{children:"keep it short enough to reread later."}),k.jsx("p",{children:"keep it honest enough to matter."})]}),k.jsxs("div",{className:"aside-card",children:[k.jsx("h2",{children:"what happens to notes?"}),k.jsx("p",{children:"they go to the backstage reel  only for me."}),k.jsx("p",{children:"later, they might travel into other pages."})]})]})]})]})}function NM(){const[i,t]=gt.useState([]),[e,s]=gt.useState([]);gt.useEffect(()=>{const u=sf(Ui(ai,"postcardImages"),Ug("createdAt","desc"),Lg(60)),c=Pg(u,g=>{const _=new Map;g.forEach(w=>{const S=w.data();if(!S.board||!S.url)return;_.has(S.board)||_.set(S.board,[]);const D=_.get(S.board);D.length<6&&D.push({id:w.id,url:S.url})});const T=Array.from(_.entries()).slice(0,6).map(([w,S])=>({name:w,thumbs:S}));t(T)},g=>console.error("error loading postcard boards",g)),d=sf(Ui(ai,"poems"),Ug("createdAt","desc"),Lg(10)),p=Pg(d,g=>{const _=g.docs.map(T=>({id:T.id,...T.data()}));s(_)},g=>console.error("error loading letters",g));return()=>{c(),p()}},[]);const o=u=>u&&u.toDate?u.toDate().toLocaleDateString("en-CA",{month:"short",day:"2-digit",year:"numeric"}):"";return k.jsx("section",{className:"moon-section",children:k.jsxs("div",{className:"moon-inner",children:[k.jsxs("header",{className:"moon-header",children:[k.jsx("h1",{className:"moon-title",children:"moon"}),k.jsx("p",{className:"moon-subtitle",children:"postcards & letters. a slow gallery. things that glow only at night."})]}),k.jsxs("div",{className:"moon-layout",children:[k.jsxs("section",{className:"moon-panel moon-panel--boards",children:[k.jsxs("div",{className:"moon-panel-head",children:[k.jsx("h2",{children:"postcards"}),k.jsx("p",{children:"boards drift like folders. each one becomes a strip."})]}),i.length===0?k.jsxs("div",{className:"moon-empty",children:[k.jsx("p",{children:"no postcards yet."}),k.jsx("span",{children:"backstage  postcard images"})]}):k.jsx("div",{className:"moon-board-grid",children:i.map(u=>k.jsxs("div",{className:"moon-board-card",children:[k.jsxs("div",{className:"moon-board-meta",children:[k.jsx("span",{className:"moon-board-name",children:u.name}),k.jsxs("span",{className:"moon-board-count",children:[u.thumbs.length," frame",u.thumbs.length!==1?"s":""]})]}),k.jsx("div",{className:"moon-thumb-row",children:u.thumbs.slice(0,6).map(c=>k.jsx("div",{className:"moon-thumb",children:k.jsx("img",{src:c.url,alt:"",loading:"lazy"})},c.id))})]},u.name))}),k.jsxs("p",{className:"moon-foot",children:["controlled from ",k.jsx("span",{children:"backstage"}),". the public page stays quiet."]})]}),k.jsxs("section",{className:"moon-panel moon-panel--letters",children:[k.jsxs("div",{className:"moon-panel-head",children:[k.jsx("h2",{children:"letters"}),k.jsx("p",{children:"fragments that land here. folders later. booklets later."})]}),e.length===0?k.jsxs("div",{className:"moon-empty",children:[k.jsx("p",{children:"no letters have landed yet."}),k.jsx("span",{children:"backstage  letters / poems"})]}):k.jsx("ul",{className:"moon-letter-list",children:e.map(u=>k.jsxs("li",{className:"moon-letter",children:[k.jsxs("div",{className:"moon-letter-top",children:[k.jsx("span",{className:"moon-letter-folder",children:u.folder||"loose fragment"}),k.jsx("span",{className:"moon-letter-date",children:o(u.createdAt)})]}),k.jsx("p",{className:"moon-letter-text",children:u.text&&u.text.length>260?`${u.text.slice(0,260)}`:u.text})]},u.id))})]})]}),k.jsx("footer",{className:"moon-footer",children:k.jsx("span",{children:"the moon keeps what the day cant."})})]})})}const xT="cafe-stickies-v1",DT="cafe-pomo-v1",xM="cafe-pomo-pos-v1",OT="cafe-video-pool-v1",Th="cafe-video-current-v1",wh=1500;function DM(i){const t=[...i];for(let e=t.length-1;e>0;e--){const s=Math.floor(Math.random()*(e+1));[t[e],t[s]]=[t[s],t[e]]}return t}function MT(i,t=""){try{return localStorage.getItem(i)??t}catch{return t}}function ug(i,t){try{localStorage.setItem(i,t)}catch{}}function OM(i,t,e){const[s,o]=gt.useState(()=>{try{const d=localStorage.getItem(i);if(!d)return t;const p=JSON.parse(d);if(typeof p?.x=="number"&&typeof p?.y=="number")return p}catch{}return t}),u=gt.useRef({x:0,y:0,px:0,py:0});gt.useEffect(()=>{try{localStorage.setItem(i,JSON.stringify(s))}catch{}},[i,s]);const c=gt.useCallback(d=>{if(!e.current)return;u.current={x:d.clientX,y:d.clientY,px:s.x,py:s.y};const g=T=>{o({x:u.current.px+(T.clientX-u.current.x),y:u.current.py+(T.clientY-u.current.y)})},_=()=>{window.removeEventListener("pointermove",g),window.removeEventListener("pointerup",_)};window.addEventListener("pointermove",g),window.addEventListener("pointerup",_)},[e,s.x,s.y]);return{pos:s,onPointerDown:c}}function MM(){const[i,t]=gt.useState(()=>{try{const c=localStorage.getItem(xT),d=c?JSON.parse(c):[];return Array.isArray(d)?d:[]}catch{return[]}});return gt.useEffect(()=>{try{localStorage.setItem(xT,JSON.stringify(i))}catch{}},[i]),{notes:i,addNote:()=>{const c=crypto.randomUUID?.()??String(Date.now());t(d=>[...d,{id:c,text:"",x:40+d.length*18,y:90+d.length*18}])},deleteNote:c=>t(d=>d.filter(p=>p.id!==c)),updateText:(c,d)=>t(p=>p.map(g=>g.id===c?{...g,text:d}:g)),startDrag:c=>d=>{const p=i.find(w=>w.id===c);if(!p)return;const g={x:d.clientX,y:d.clientY,px:p.x,py:p.y},_=w=>{t(S=>S.map(D=>D.id===c?{...D,x:g.px+(w.clientX-g.x),y:g.py+(w.clientY-g.y)}:D))},T=()=>{window.removeEventListener("pointermove",_),window.removeEventListener("pointerup",T)};window.addEventListener("pointermove",_),window.addEventListener("pointerup",T)}}}function VM(){const i=()=>{try{const o=localStorage.getItem(DT);if(!o)return{remaining:wh,running:!1};const u=JSON.parse(o);let c=Number(u?.remainingSeconds??wh);if(u?.running&&Number.isFinite(u?.lastTickMs)){const d=Math.floor((Date.now()-u.lastTickMs)/1e3);c=Math.max(0,c-d)}return{remaining:c,running:!!(u?.running&&c>0)}}catch{return{remaining:wh,running:!1}}},[{remaining:t,running:e},s]=gt.useState(i);return gt.useEffect(()=>{if(!e)return;const o=setInterval(()=>{s(u=>({remaining:Math.max(0,u.remaining-1),running:u.remaining>1}))},1e3);return()=>clearInterval(o)},[e]),gt.useEffect(()=>{try{localStorage.setItem(DT,JSON.stringify({remainingSeconds:t,running:e,lastTickMs:Date.now()}))}catch{}},[t,e]),{minutes:String(Math.floor(t/60)).padStart(2,"0"),seconds:String(t%60).padStart(2,"0"),start:()=>s(o=>({...o,running:!0})),pause:()=>s(o=>({...o,running:!1})),reset:()=>s({remaining:wh,running:!1})}}function z1({reseedNonce:i=0}){const[t,e]=gt.useState([]),[s,o]=gt.useState(!0),[u,c]=gt.useState(()=>MT(Th,""));gt.useEffect(()=>{let D=!0;async function O(){o(!0);try{const x=o1(P1,"cafe-wall"),z=await pD(x),J=await Promise.all(z.items.map(async K=>{const q=await a1(K);return{id:K.fullPath,url:q}}));if(!D)return;if(e(J),!MT(Th,"")&&J.length){const K=J[0].url;ug(Th,K),c(K)}}catch(x){console.error("Failed to load cafe-wall videos:",x),D&&e([])}finally{D&&o(!1)}}return O(),()=>{D=!1}},[]);const d=gt.useMemo(()=>t.map(D=>D.id),[t]),p=gt.useCallback(()=>{if(!t.length)return;let D=[];try{const z=localStorage.getItem(OT);D=z?JSON.parse(z):[],Array.isArray(D)||(D=[])}catch{D=[]}D=D.filter(z=>d.includes(z)),D.length||(D=DM(d));const O=D.shift(),x=t.find(z=>z.id===O)||t[0];ug(OT,JSON.stringify(D)),ug(Th,x.url),c(x.url)},[t,d]);gt.useEffect(()=>{if(i<=0)return;const D=requestAnimationFrame(()=>{p()});return()=>cancelAnimationFrame(D)},[i,p]);const g=gt.useRef(null);gt.useEffect(()=>{u&&g.current?.play?.().catch(()=>{})},[u]);const _=VM(),T=MM(),w=gt.useRef(null),S=OM(xM,{x:0,y:0},w);return k.jsxs("section",{className:"cafe-section",children:[k.jsx("div",{className:"cafe-video-wrap","aria-hidden":"true",children:u?k.jsx("video",{ref:g,className:"cafe-video",src:u,autoPlay:!0,muted:!0,loop:!0,playsInline:!0}):null}),k.jsxs("div",{className:"cafe-layer",children:[k.jsxs("div",{className:"cafe-dock",children:[k.jsxs("div",{ref:w,className:"pomo glass-dark",style:{transform:`translate(${S.pos.x}px, ${S.pos.y}px)`},children:[k.jsx("div",{className:"pomo-dragbar",onPointerDown:S.onPointerDown,children:k.jsx("div",{className:"pomo-grip"})}),k.jsxs("div",{className:"pomo-time",children:[_.minutes,":",_.seconds]}),k.jsxs("div",{className:"pomo-controls",children:[k.jsx("button",{className:"btn-start",onClick:_.start,children:"start"}),k.jsx("button",{className:"btn-pause",onClick:_.pause,children:"pause"}),k.jsx("button",{className:"btn-reset",onClick:_.reset,children:"reset"})]})]}),k.jsx("button",{className:"dock-add glass-dark",onClick:T.addNote,"aria-label":"add note",type:"button",children:"+"})]}),T.notes.map(D=>k.jsxs("div",{className:"sticky glass-dark",style:{transform:`translate(${D.x}px, ${D.y}px)`},children:[k.jsxs("div",{className:"sticky-head",onPointerDown:T.startDrag(D.id),children:[k.jsx("div",{className:"sticky-grip"}),k.jsx("button",{className:"icon-btn icon-btn--light",onClick:()=>T.deleteNote(D.id),"aria-label":"delete note",type:"button",children:""})]}),k.jsx("textarea",{value:D.text,onChange:O=>T.updateText(D.id,O.target.value),placeholder:s?"loading videos":"write something small"})]},D.id)),!s&&t.length===0?k.jsxs("div",{style:{position:"absolute",bottom:20,left:20,opacity:.9},children:["No videos found in Firebase Storage folder: ",k.jsx("b",{children:"cafe-wall/"})]}):null]})]})}var kM={value:()=>{}};function ku(){for(var i=0,t=arguments.length,e={},s;i<t;++i){if(!(s=arguments[i]+"")||s in e||/[\s.]/.test(s))throw new Error("illegal type: "+s);e[s]=[]}return new jh(e)}function jh(i){this._=i}function UM(i,t){return i.trim().split(/^|\s+/).map(function(e){var s="",o=e.indexOf(".");if(o>=0&&(s=e.slice(o+1),e=e.slice(0,o)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:s}})}jh.prototype=ku.prototype={constructor:jh,on:function(i,t){var e=this._,s=UM(i+"",e),o,u=-1,c=s.length;if(arguments.length<2){for(;++u<c;)if((o=(i=s[u]).type)&&(o=LM(e[o],i.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++u<c;)if(o=(i=s[u]).type)e[o]=VT(e[o],i.name,t);else if(t==null)for(o in e)e[o]=VT(e[o],i.name,null);return this},copy:function(){var i={},t=this._;for(var e in t)i[e]=t[e].slice();return new jh(i)},call:function(i,t){if((o=arguments.length-2)>0)for(var e=new Array(o),s=0,o,u;s<o;++s)e[s]=arguments[s+2];if(!this._.hasOwnProperty(i))throw new Error("unknown type: "+i);for(u=this._[i],s=0,o=u.length;s<o;++s)u[s].value.apply(t,e)},apply:function(i,t,e){if(!this._.hasOwnProperty(i))throw new Error("unknown type: "+i);for(var s=this._[i],o=0,u=s.length;o<u;++o)s[o].value.apply(t,e)}};function LM(i,t){for(var e=0,s=i.length,o;e<s;++e)if((o=i[e]).name===t)return o.value}function VT(i,t,e){for(var s=0,o=i.length;s<o;++s)if(i[s].name===t){i[s]=kM,i=i.slice(0,s).concat(i.slice(s+1));break}return e!=null&&i.push({name:t,value:e}),i}var Fg="http://www.w3.org/1999/xhtml";const kT={svg:"http://www.w3.org/2000/svg",xhtml:Fg,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Bf(i){var t=i+="",e=t.indexOf(":");return e>=0&&(t=i.slice(0,e))!=="xmlns"&&(i=i.slice(e+1)),kT.hasOwnProperty(t)?{space:kT[t],local:i}:i}function PM(i){return function(){var t=this.ownerDocument,e=this.namespaceURI;return e===Fg&&t.documentElement.namespaceURI===Fg?t.createElement(i):t.createElementNS(e,i)}}function zM(i){return function(){return this.ownerDocument.createElementNS(i.space,i.local)}}function j1(i){var t=Bf(i);return(t.local?zM:PM)(t)}function jM(){}function cy(i){return i==null?jM:function(){return this.querySelector(i)}}function BM(i){typeof i!="function"&&(i=cy(i));for(var t=this._groups,e=t.length,s=new Array(e),o=0;o<e;++o)for(var u=t[o],c=u.length,d=s[o]=new Array(c),p,g,_=0;_<c;++_)(p=u[_])&&(g=i.call(p,p.__data__,_,u))&&("__data__"in p&&(g.__data__=p.__data__),d[_]=g);return new Cn(s,this._parents)}function qM(i){return i==null?[]:Array.isArray(i)?i:Array.from(i)}function HM(){return[]}function B1(i){return i==null?HM:function(){return this.querySelectorAll(i)}}function FM(i){return function(){return qM(i.apply(this,arguments))}}function GM(i){typeof i=="function"?i=FM(i):i=B1(i);for(var t=this._groups,e=t.length,s=[],o=[],u=0;u<e;++u)for(var c=t[u],d=c.length,p,g=0;g<d;++g)(p=c[g])&&(s.push(i.call(p,p.__data__,g,c)),o.push(p));return new Cn(s,o)}function q1(i){return function(){return this.matches(i)}}function H1(i){return function(t){return t.matches(i)}}var YM=Array.prototype.find;function QM(i){return function(){return YM.call(this.children,i)}}function XM(){return this.firstElementChild}function KM(i){return this.select(i==null?XM:QM(typeof i=="function"?i:H1(i)))}var $M=Array.prototype.filter;function ZM(){return Array.from(this.children)}function JM(i){return function(){return $M.call(this.children,i)}}function WM(i){return this.selectAll(i==null?ZM:JM(typeof i=="function"?i:H1(i)))}function t4(i){typeof i!="function"&&(i=q1(i));for(var t=this._groups,e=t.length,s=new Array(e),o=0;o<e;++o)for(var u=t[o],c=u.length,d=s[o]=[],p,g=0;g<c;++g)(p=u[g])&&i.call(p,p.__data__,g,u)&&d.push(p);return new Cn(s,this._parents)}function F1(i){return new Array(i.length)}function e4(){return new Cn(this._enter||this._groups.map(F1),this._parents)}function ff(i,t){this.ownerDocument=i.ownerDocument,this.namespaceURI=i.namespaceURI,this._next=null,this._parent=i,this.__data__=t}ff.prototype={constructor:ff,appendChild:function(i){return this._parent.insertBefore(i,this._next)},insertBefore:function(i,t){return this._parent.insertBefore(i,t)},querySelector:function(i){return this._parent.querySelector(i)},querySelectorAll:function(i){return this._parent.querySelectorAll(i)}};function n4(i){return function(){return i}}function i4(i,t,e,s,o,u){for(var c=0,d,p=t.length,g=u.length;c<g;++c)(d=t[c])?(d.__data__=u[c],s[c]=d):e[c]=new ff(i,u[c]);for(;c<p;++c)(d=t[c])&&(o[c]=d)}function r4(i,t,e,s,o,u,c){var d,p,g=new Map,_=t.length,T=u.length,w=new Array(_),S;for(d=0;d<_;++d)(p=t[d])&&(w[d]=S=c.call(p,p.__data__,d,t)+"",g.has(S)?o[d]=p:g.set(S,p));for(d=0;d<T;++d)S=c.call(i,u[d],d,u)+"",(p=g.get(S))?(s[d]=p,p.__data__=u[d],g.delete(S)):e[d]=new ff(i,u[d]);for(d=0;d<_;++d)(p=t[d])&&g.get(w[d])===p&&(o[d]=p)}function s4(i){return i.__data__}function a4(i,t){if(!arguments.length)return Array.from(this,s4);var e=t?r4:i4,s=this._parents,o=this._groups;typeof i!="function"&&(i=n4(i));for(var u=o.length,c=new Array(u),d=new Array(u),p=new Array(u),g=0;g<u;++g){var _=s[g],T=o[g],w=T.length,S=o4(i.call(_,_&&_.__data__,g,s)),D=S.length,O=d[g]=new Array(D),x=c[g]=new Array(D),z=p[g]=new Array(w);e(_,T,O,x,z,S,t);for(var J=0,K=0,q,ut;J<D;++J)if(q=O[J]){for(J>=K&&(K=J+1);!(ut=x[K])&&++K<D;);q._next=ut||null}}return c=new Cn(c,s),c._enter=d,c._exit=p,c}function o4(i){return typeof i=="object"&&"length"in i?i:Array.from(i)}function l4(){return new Cn(this._exit||this._groups.map(F1),this._parents)}function u4(i,t,e){var s=this.enter(),o=this,u=this.exit();return typeof i=="function"?(s=i(s),s&&(s=s.selection())):s=s.append(i+""),t!=null&&(o=t(o),o&&(o=o.selection())),e==null?u.remove():e(u),s&&o?s.merge(o).order():o}function c4(i){for(var t=i.selection?i.selection():i,e=this._groups,s=t._groups,o=e.length,u=s.length,c=Math.min(o,u),d=new Array(o),p=0;p<c;++p)for(var g=e[p],_=s[p],T=g.length,w=d[p]=new Array(T),S,D=0;D<T;++D)(S=g[D]||_[D])&&(w[D]=S);for(;p<o;++p)d[p]=e[p];return new Cn(d,this._parents)}function h4(){for(var i=this._groups,t=-1,e=i.length;++t<e;)for(var s=i[t],o=s.length-1,u=s[o],c;--o>=0;)(c=s[o])&&(u&&c.compareDocumentPosition(u)^4&&u.parentNode.insertBefore(c,u),u=c);return this}function f4(i){i||(i=d4);function t(T,w){return T&&w?i(T.__data__,w.__data__):!T-!w}for(var e=this._groups,s=e.length,o=new Array(s),u=0;u<s;++u){for(var c=e[u],d=c.length,p=o[u]=new Array(d),g,_=0;_<d;++_)(g=c[_])&&(p[_]=g);p.sort(t)}return new Cn(o,this._parents).order()}function d4(i,t){return i<t?-1:i>t?1:i>=t?0:NaN}function m4(){var i=arguments[0];return arguments[0]=this,i.apply(null,arguments),this}function g4(){return Array.from(this)}function p4(){for(var i=this._groups,t=0,e=i.length;t<e;++t)for(var s=i[t],o=0,u=s.length;o<u;++o){var c=s[o];if(c)return c}return null}function y4(){let i=0;for(const t of this)++i;return i}function _4(){return!this.node()}function v4(i){for(var t=this._groups,e=0,s=t.length;e<s;++e)for(var o=t[e],u=0,c=o.length,d;u<c;++u)(d=o[u])&&i.call(d,d.__data__,u,o);return this}function E4(i){return function(){this.removeAttribute(i)}}function T4(i){return function(){this.removeAttributeNS(i.space,i.local)}}function w4(i,t){return function(){this.setAttribute(i,t)}}function A4(i,t){return function(){this.setAttributeNS(i.space,i.local,t)}}function b4(i,t){return function(){var e=t.apply(this,arguments);e==null?this.removeAttribute(i):this.setAttribute(i,e)}}function S4(i,t){return function(){var e=t.apply(this,arguments);e==null?this.removeAttributeNS(i.space,i.local):this.setAttributeNS(i.space,i.local,e)}}function R4(i,t){var e=Bf(i);if(arguments.length<2){var s=this.node();return e.local?s.getAttributeNS(e.space,e.local):s.getAttribute(e)}return this.each((t==null?e.local?T4:E4:typeof t=="function"?e.local?S4:b4:e.local?A4:w4)(e,t))}function G1(i){return i.ownerDocument&&i.ownerDocument.defaultView||i.document&&i||i.defaultView}function I4(i){return function(){this.style.removeProperty(i)}}function C4(i,t,e){return function(){this.style.setProperty(i,t,e)}}function N4(i,t,e){return function(){var s=t.apply(this,arguments);s==null?this.style.removeProperty(i):this.style.setProperty(i,s,e)}}function x4(i,t,e){return arguments.length>1?this.each((t==null?I4:typeof t=="function"?N4:C4)(i,t,e??"")):Vo(this.node(),i)}function Vo(i,t){return i.style.getPropertyValue(t)||G1(i).getComputedStyle(i,null).getPropertyValue(t)}function D4(i){return function(){delete this[i]}}function O4(i,t){return function(){this[i]=t}}function M4(i,t){return function(){var e=t.apply(this,arguments);e==null?delete this[i]:this[i]=e}}function V4(i,t){return arguments.length>1?this.each((t==null?D4:typeof t=="function"?M4:O4)(i,t)):this.node()[i]}function Y1(i){return i.trim().split(/^|\s+/)}function hy(i){return i.classList||new Q1(i)}function Q1(i){this._node=i,this._names=Y1(i.getAttribute("class")||"")}Q1.prototype={add:function(i){var t=this._names.indexOf(i);t<0&&(this._names.push(i),this._node.setAttribute("class",this._names.join(" ")))},remove:function(i){var t=this._names.indexOf(i);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(i){return this._names.indexOf(i)>=0}};function X1(i,t){for(var e=hy(i),s=-1,o=t.length;++s<o;)e.add(t[s])}function K1(i,t){for(var e=hy(i),s=-1,o=t.length;++s<o;)e.remove(t[s])}function k4(i){return function(){X1(this,i)}}function U4(i){return function(){K1(this,i)}}function L4(i,t){return function(){(t.apply(this,arguments)?X1:K1)(this,i)}}function P4(i,t){var e=Y1(i+"");if(arguments.length<2){for(var s=hy(this.node()),o=-1,u=e.length;++o<u;)if(!s.contains(e[o]))return!1;return!0}return this.each((typeof t=="function"?L4:t?k4:U4)(e,t))}function z4(){this.textContent=""}function j4(i){return function(){this.textContent=i}}function B4(i){return function(){var t=i.apply(this,arguments);this.textContent=t??""}}function q4(i){return arguments.length?this.each(i==null?z4:(typeof i=="function"?B4:j4)(i)):this.node().textContent}function H4(){this.innerHTML=""}function F4(i){return function(){this.innerHTML=i}}function G4(i){return function(){var t=i.apply(this,arguments);this.innerHTML=t??""}}function Y4(i){return arguments.length?this.each(i==null?H4:(typeof i=="function"?G4:F4)(i)):this.node().innerHTML}function Q4(){this.nextSibling&&this.parentNode.appendChild(this)}function X4(){return this.each(Q4)}function K4(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function $4(){return this.each(K4)}function Z4(i){var t=typeof i=="function"?i:j1(i);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function J4(){return null}function W4(i,t){var e=typeof i=="function"?i:j1(i),s=t==null?J4:typeof t=="function"?t:cy(t);return this.select(function(){return this.insertBefore(e.apply(this,arguments),s.apply(this,arguments)||null)})}function tV(){var i=this.parentNode;i&&i.removeChild(this)}function eV(){return this.each(tV)}function nV(){var i=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(i,this.nextSibling):i}function iV(){var i=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(i,this.nextSibling):i}function rV(i){return this.select(i?iV:nV)}function sV(i){return arguments.length?this.property("__data__",i):this.node().__data__}function aV(i){return function(t){i.call(this,t,this.__data__)}}function oV(i){return i.trim().split(/^|\s+/).map(function(t){var e="",s=t.indexOf(".");return s>=0&&(e=t.slice(s+1),t=t.slice(0,s)),{type:t,name:e}})}function lV(i){return function(){var t=this.__on;if(t){for(var e=0,s=-1,o=t.length,u;e<o;++e)u=t[e],(!i.type||u.type===i.type)&&u.name===i.name?this.removeEventListener(u.type,u.listener,u.options):t[++s]=u;++s?t.length=s:delete this.__on}}}function uV(i,t,e){return function(){var s=this.__on,o,u=aV(t);if(s){for(var c=0,d=s.length;c<d;++c)if((o=s[c]).type===i.type&&o.name===i.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=u,o.options=e),o.value=t;return}}this.addEventListener(i.type,u,e),o={type:i.type,name:i.name,value:t,listener:u,options:e},s?s.push(o):this.__on=[o]}}function cV(i,t,e){var s=oV(i+""),o,u=s.length,c;if(arguments.length<2){var d=this.node().__on;if(d){for(var p=0,g=d.length,_;p<g;++p)for(o=0,_=d[p];o<u;++o)if((c=s[o]).type===_.type&&c.name===_.name)return _.value}return}for(d=t?uV:lV,o=0;o<u;++o)this.each(d(s[o],t,e));return this}function $1(i,t,e){var s=G1(i),o=s.CustomEvent;typeof o=="function"?o=new o(t,e):(o=s.document.createEvent("Event"),e?(o.initEvent(t,e.bubbles,e.cancelable),o.detail=e.detail):o.initEvent(t,!1,!1)),i.dispatchEvent(o)}function hV(i,t){return function(){return $1(this,i,t)}}function fV(i,t){return function(){return $1(this,i,t.apply(this,arguments))}}function dV(i,t){return this.each((typeof t=="function"?fV:hV)(i,t))}function*mV(){for(var i=this._groups,t=0,e=i.length;t<e;++t)for(var s=i[t],o=0,u=s.length,c;o<u;++o)(c=s[o])&&(yield c)}var Z1=[null];function Cn(i,t){this._groups=i,this._parents=t}function Uu(){return new Cn([[document.documentElement]],Z1)}function gV(){return this}Cn.prototype=Uu.prototype={constructor:Cn,select:BM,selectAll:GM,selectChild:KM,selectChildren:WM,filter:t4,data:a4,enter:e4,exit:l4,join:u4,merge:c4,selection:gV,order:h4,sort:f4,call:m4,nodes:g4,node:p4,size:y4,empty:_4,each:v4,attr:R4,style:x4,property:V4,classed:P4,text:q4,html:Y4,raise:X4,lower:$4,append:Z4,insert:W4,remove:eV,clone:rV,datum:sV,on:cV,dispatch:dV,[Symbol.iterator]:mV};function ki(i){return typeof i=="string"?new Cn([[document.querySelector(i)]],[document.documentElement]):new Cn([[i]],Z1)}function pV(i){let t;for(;t=i.sourceEvent;)i=t;return i}function pr(i,t){if(i=pV(i),t===void 0&&(t=i.currentTarget),t){var e=t.ownerSVGElement||t;if(e.createSVGPoint){var s=e.createSVGPoint();return s.x=i.clientX,s.y=i.clientY,s=s.matrixTransform(t.getScreenCTM().inverse()),[s.x,s.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[i.clientX-o.left-t.clientLeft,i.clientY-o.top-t.clientTop]}}return[i.pageX,i.pageY]}const yV={passive:!1},Eu={capture:!0,passive:!1};function cg(i){i.stopImmediatePropagation()}function bo(i){i.preventDefault(),i.stopImmediatePropagation()}function J1(i){var t=i.document.documentElement,e=ki(i).on("dragstart.drag",bo,Eu);"onselectstart"in t?e.on("selectstart.drag",bo,Eu):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function W1(i,t){var e=i.document.documentElement,s=ki(i).on("dragstart.drag",null);t&&(s.on("click.drag",bo,Eu),setTimeout(function(){s.on("click.drag",null)},0)),"onselectstart"in e?s.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}const Ah=i=>()=>i;function Gg(i,{sourceEvent:t,subject:e,target:s,identifier:o,active:u,x:c,y:d,dx:p,dy:g,dispatch:_}){Object.defineProperties(this,{type:{value:i,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:e,enumerable:!0,configurable:!0},target:{value:s,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:u,enumerable:!0,configurable:!0},x:{value:c,enumerable:!0,configurable:!0},y:{value:d,enumerable:!0,configurable:!0},dx:{value:p,enumerable:!0,configurable:!0},dy:{value:g,enumerable:!0,configurable:!0},_:{value:_}})}Gg.prototype.on=function(){var i=this._.on.apply(this._,arguments);return i===this._?this:i};function _V(i){return!i.ctrlKey&&!i.button}function vV(){return this.parentNode}function EV(i,t){return t??{x:i.x,y:i.y}}function TV(){return navigator.maxTouchPoints||"ontouchstart"in this}function wV(){var i=_V,t=vV,e=EV,s=TV,o={},u=ku("start","drag","end"),c=0,d,p,g,_,T=0;function w(q){q.on("mousedown.drag",S).filter(s).on("touchstart.drag",x).on("touchmove.drag",z,yV).on("touchend.drag touchcancel.drag",J).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function S(q,ut){if(!(_||!i.call(this,q,ut))){var ht=K(this,t.call(this,q,ut),q,ut,"mouse");ht&&(ki(q.view).on("mousemove.drag",D,Eu).on("mouseup.drag",O,Eu),J1(q.view),cg(q),g=!1,d=q.clientX,p=q.clientY,ht("start",q))}}function D(q){if(bo(q),!g){var ut=q.clientX-d,ht=q.clientY-p;g=ut*ut+ht*ht>T}o.mouse("drag",q)}function O(q){ki(q.view).on("mousemove.drag mouseup.drag",null),W1(q.view,g),bo(q),o.mouse("end",q)}function x(q,ut){if(i.call(this,q,ut)){var ht=q.changedTouches,I=t.call(this,q,ut),R=ht.length,C,L;for(C=0;C<R;++C)(L=K(this,I,q,ut,ht[C].identifier,ht[C]))&&(cg(q),L("start",q,ht[C]))}}function z(q){var ut=q.changedTouches,ht=ut.length,I,R;for(I=0;I<ht;++I)(R=o[ut[I].identifier])&&(bo(q),R("drag",q,ut[I]))}function J(q){var ut=q.changedTouches,ht=ut.length,I,R;for(_&&clearTimeout(_),_=setTimeout(function(){_=null},500),I=0;I<ht;++I)(R=o[ut[I].identifier])&&(cg(q),R("end",q,ut[I]))}function K(q,ut,ht,I,R,C){var L=u.copy(),V=pr(C||ht,ut),B,N,G;if((G=e.call(q,new Gg("beforestart",{sourceEvent:ht,target:w,identifier:R,active:c,x:V[0],y:V[1],dx:0,dy:0,dispatch:L}),I))!=null)return B=G.x-V[0]||0,N=G.y-V[1]||0,function mt(P,H,it){var ft=V,at;switch(P){case"start":o[R]=mt,at=c++;break;case"end":delete o[R],--c;case"drag":V=pr(it||H,ut),at=c;break}L.call(P,q,new Gg(P,{sourceEvent:H,subject:G,target:w,identifier:R,active:at,x:V[0]+B,y:V[1]+N,dx:V[0]-ft[0],dy:V[1]-ft[1],dispatch:L}),I)}}return w.filter=function(q){return arguments.length?(i=typeof q=="function"?q:Ah(!!q),w):i},w.container=function(q){return arguments.length?(t=typeof q=="function"?q:Ah(q),w):t},w.subject=function(q){return arguments.length?(e=typeof q=="function"?q:Ah(q),w):e},w.touchable=function(q){return arguments.length?(s=typeof q=="function"?q:Ah(!!q),w):s},w.on=function(){var q=u.on.apply(u,arguments);return q===u?w:q},w.clickDistance=function(q){return arguments.length?(T=(q=+q)*q,w):Math.sqrt(T)},w}function fy(i,t,e){i.prototype=t.prototype=e,e.constructor=i}function tb(i,t){var e=Object.create(i.prototype);for(var s in t)e[s]=t[s];return e}function Lu(){}var Tu=.7,df=1/Tu,So="\\s*([+-]?\\d+)\\s*",wu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Fi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",AV=/^#([0-9a-f]{3,8})$/,bV=new RegExp(`^rgb\\(${So},${So},${So}\\)$`),SV=new RegExp(`^rgb\\(${Fi},${Fi},${Fi}\\)$`),RV=new RegExp(`^rgba\\(${So},${So},${So},${wu}\\)$`),IV=new RegExp(`^rgba\\(${Fi},${Fi},${Fi},${wu}\\)$`),CV=new RegExp(`^hsl\\(${wu},${Fi},${Fi}\\)$`),NV=new RegExp(`^hsla\\(${wu},${Fi},${Fi},${wu}\\)$`),UT={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};fy(Lu,Au,{copy(i){return Object.assign(new this.constructor,this,i)},displayable(){return this.rgb().displayable()},hex:LT,formatHex:LT,formatHex8:xV,formatHsl:DV,formatRgb:PT,toString:PT});function LT(){return this.rgb().formatHex()}function xV(){return this.rgb().formatHex8()}function DV(){return eb(this).formatHsl()}function PT(){return this.rgb().formatRgb()}function Au(i){var t,e;return i=(i+"").trim().toLowerCase(),(t=AV.exec(i))?(e=t[1].length,t=parseInt(t[1],16),e===6?zT(t):e===3?new _n(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):e===8?bh(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):e===4?bh(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=bV.exec(i))?new _n(t[1],t[2],t[3],1):(t=SV.exec(i))?new _n(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=RV.exec(i))?bh(t[1],t[2],t[3],t[4]):(t=IV.exec(i))?bh(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=CV.exec(i))?qT(t[1],t[2]/100,t[3]/100,1):(t=NV.exec(i))?qT(t[1],t[2]/100,t[3]/100,t[4]):UT.hasOwnProperty(i)?zT(UT[i]):i==="transparent"?new _n(NaN,NaN,NaN,0):null}function zT(i){return new _n(i>>16&255,i>>8&255,i&255,1)}function bh(i,t,e,s){return s<=0&&(i=t=e=NaN),new _n(i,t,e,s)}function OV(i){return i instanceof Lu||(i=Au(i)),i?(i=i.rgb(),new _n(i.r,i.g,i.b,i.opacity)):new _n}function Yg(i,t,e,s){return arguments.length===1?OV(i):new _n(i,t,e,s??1)}function _n(i,t,e,s){this.r=+i,this.g=+t,this.b=+e,this.opacity=+s}fy(_n,Yg,tb(Lu,{brighter(i){return i=i==null?df:Math.pow(df,i),new _n(this.r*i,this.g*i,this.b*i,this.opacity)},darker(i){return i=i==null?Tu:Math.pow(Tu,i),new _n(this.r*i,this.g*i,this.b*i,this.opacity)},rgb(){return this},clamp(){return new _n(da(this.r),da(this.g),da(this.b),mf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:jT,formatHex:jT,formatHex8:MV,formatRgb:BT,toString:BT}));function jT(){return`#${la(this.r)}${la(this.g)}${la(this.b)}`}function MV(){return`#${la(this.r)}${la(this.g)}${la(this.b)}${la((isNaN(this.opacity)?1:this.opacity)*255)}`}function BT(){const i=mf(this.opacity);return`${i===1?"rgb(":"rgba("}${da(this.r)}, ${da(this.g)}, ${da(this.b)}${i===1?")":`, ${i})`}`}function mf(i){return isNaN(i)?1:Math.max(0,Math.min(1,i))}function da(i){return Math.max(0,Math.min(255,Math.round(i)||0))}function la(i){return i=da(i),(i<16?"0":"")+i.toString(16)}function qT(i,t,e,s){return s<=0?i=t=e=NaN:e<=0||e>=1?i=t=NaN:t<=0&&(i=NaN),new ii(i,t,e,s)}function eb(i){if(i instanceof ii)return new ii(i.h,i.s,i.l,i.opacity);if(i instanceof Lu||(i=Au(i)),!i)return new ii;if(i instanceof ii)return i;i=i.rgb();var t=i.r/255,e=i.g/255,s=i.b/255,o=Math.min(t,e,s),u=Math.max(t,e,s),c=NaN,d=u-o,p=(u+o)/2;return d?(t===u?c=(e-s)/d+(e<s)*6:e===u?c=(s-t)/d+2:c=(t-e)/d+4,d/=p<.5?u+o:2-u-o,c*=60):d=p>0&&p<1?0:c,new ii(c,d,p,i.opacity)}function VV(i,t,e,s){return arguments.length===1?eb(i):new ii(i,t,e,s??1)}function ii(i,t,e,s){this.h=+i,this.s=+t,this.l=+e,this.opacity=+s}fy(ii,VV,tb(Lu,{brighter(i){return i=i==null?df:Math.pow(df,i),new ii(this.h,this.s,this.l*i,this.opacity)},darker(i){return i=i==null?Tu:Math.pow(Tu,i),new ii(this.h,this.s,this.l*i,this.opacity)},rgb(){var i=this.h%360+(this.h<0)*360,t=isNaN(i)||isNaN(this.s)?0:this.s,e=this.l,s=e+(e<.5?e:1-e)*t,o=2*e-s;return new _n(hg(i>=240?i-240:i+120,o,s),hg(i,o,s),hg(i<120?i+240:i-120,o,s),this.opacity)},clamp(){return new ii(HT(this.h),Sh(this.s),Sh(this.l),mf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const i=mf(this.opacity);return`${i===1?"hsl(":"hsla("}${HT(this.h)}, ${Sh(this.s)*100}%, ${Sh(this.l)*100}%${i===1?")":`, ${i})`}`}}));function HT(i){return i=(i||0)%360,i<0?i+360:i}function Sh(i){return Math.max(0,Math.min(1,i||0))}function hg(i,t,e){return(i<60?t+(e-t)*i/60:i<180?e:i<240?t+(e-t)*(240-i)/60:t)*255}const nb=i=>()=>i;function kV(i,t){return function(e){return i+e*t}}function UV(i,t,e){return i=Math.pow(i,e),t=Math.pow(t,e)-i,e=1/e,function(s){return Math.pow(i+s*t,e)}}function LV(i){return(i=+i)==1?ib:function(t,e){return e-t?UV(t,e,i):nb(isNaN(t)?e:t)}}function ib(i,t){var e=t-i;return e?kV(i,e):nb(isNaN(i)?t:i)}const FT=(function i(t){var e=LV(t);function s(o,u){var c=e((o=Yg(o)).r,(u=Yg(u)).r),d=e(o.g,u.g),p=e(o.b,u.b),g=ib(o.opacity,u.opacity);return function(_){return o.r=c(_),o.g=d(_),o.b=p(_),o.opacity=g(_),o+""}}return s.gamma=i,s})(1);function us(i,t){return i=+i,t=+t,function(e){return i*(1-e)+t*e}}var Qg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,fg=new RegExp(Qg.source,"g");function PV(i){return function(){return i}}function zV(i){return function(t){return i(t)+""}}function jV(i,t){var e=Qg.lastIndex=fg.lastIndex=0,s,o,u,c=-1,d=[],p=[];for(i=i+"",t=t+"";(s=Qg.exec(i))&&(o=fg.exec(t));)(u=o.index)>e&&(u=t.slice(e,u),d[c]?d[c]+=u:d[++c]=u),(s=s[0])===(o=o[0])?d[c]?d[c]+=o:d[++c]=o:(d[++c]=null,p.push({i:c,x:us(s,o)})),e=fg.lastIndex;return e<t.length&&(u=t.slice(e),d[c]?d[c]+=u:d[++c]=u),d.length<2?p[0]?zV(p[0].x):PV(t):(t=p.length,function(g){for(var _=0,T;_<t;++_)d[(T=p[_]).i]=T.x(g);return d.join("")})}var GT=180/Math.PI,Xg={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function rb(i,t,e,s,o,u){var c,d,p;return(c=Math.sqrt(i*i+t*t))&&(i/=c,t/=c),(p=i*e+t*s)&&(e-=i*p,s-=t*p),(d=Math.sqrt(e*e+s*s))&&(e/=d,s/=d,p/=d),i*s<t*e&&(i=-i,t=-t,p=-p,c=-c),{translateX:o,translateY:u,rotate:Math.atan2(t,i)*GT,skewX:Math.atan(p)*GT,scaleX:c,scaleY:d}}var Rh;function BV(i){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(i+"");return t.isIdentity?Xg:rb(t.a,t.b,t.c,t.d,t.e,t.f)}function qV(i){return i==null||(Rh||(Rh=document.createElementNS("http://www.w3.org/2000/svg","g")),Rh.setAttribute("transform",i),!(i=Rh.transform.baseVal.consolidate()))?Xg:(i=i.matrix,rb(i.a,i.b,i.c,i.d,i.e,i.f))}function sb(i,t,e,s){function o(g){return g.length?g.pop()+" ":""}function u(g,_,T,w,S,D){if(g!==T||_!==w){var O=S.push("translate(",null,t,null,e);D.push({i:O-4,x:us(g,T)},{i:O-2,x:us(_,w)})}else(T||w)&&S.push("translate("+T+t+w+e)}function c(g,_,T,w){g!==_?(g-_>180?_+=360:_-g>180&&(g+=360),w.push({i:T.push(o(T)+"rotate(",null,s)-2,x:us(g,_)})):_&&T.push(o(T)+"rotate("+_+s)}function d(g,_,T,w){g!==_?w.push({i:T.push(o(T)+"skewX(",null,s)-2,x:us(g,_)}):_&&T.push(o(T)+"skewX("+_+s)}function p(g,_,T,w,S,D){if(g!==T||_!==w){var O=S.push(o(S)+"scale(",null,",",null,")");D.push({i:O-4,x:us(g,T)},{i:O-2,x:us(_,w)})}else(T!==1||w!==1)&&S.push(o(S)+"scale("+T+","+w+")")}return function(g,_){var T=[],w=[];return g=i(g),_=i(_),u(g.translateX,g.translateY,_.translateX,_.translateY,T,w),c(g.rotate,_.rotate,T,w),d(g.skewX,_.skewX,T,w),p(g.scaleX,g.scaleY,_.scaleX,_.scaleY,T,w),g=_=null,function(S){for(var D=-1,O=w.length,x;++D<O;)T[(x=w[D]).i]=x.x(S);return T.join("")}}}var HV=sb(BV,"px, ","px)","deg)"),FV=sb(qV,", ",")",")"),GV=1e-12;function YT(i){return((i=Math.exp(i))+1/i)/2}function YV(i){return((i=Math.exp(i))-1/i)/2}function QV(i){return((i=Math.exp(2*i))-1)/(i+1)}const XV=(function i(t,e,s){function o(u,c){var d=u[0],p=u[1],g=u[2],_=c[0],T=c[1],w=c[2],S=_-d,D=T-p,O=S*S+D*D,x,z;if(O<GV)z=Math.log(w/g)/t,x=function(I){return[d+I*S,p+I*D,g*Math.exp(t*I*z)]};else{var J=Math.sqrt(O),K=(w*w-g*g+s*O)/(2*g*e*J),q=(w*w-g*g-s*O)/(2*w*e*J),ut=Math.log(Math.sqrt(K*K+1)-K),ht=Math.log(Math.sqrt(q*q+1)-q);z=(ht-ut)/t,x=function(I){var R=I*z,C=YT(ut),L=g/(e*J)*(C*QV(t*R+ut)-YV(ut));return[d+L*S,p+L*D,g*C/YT(t*R+ut)]}}return x.duration=z*1e3*t/Math.SQRT2,x}return o.rho=function(u){var c=Math.max(.001,+u),d=c*c,p=d*d;return i(c,d,p)},o})(Math.SQRT2,2,4);var ko=0,eu=0,Kl=0,ab=1e3,gf,nu,pf=0,Ea=0,qf=0,bu=typeof performance=="object"&&performance.now?performance:Date,ob=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(i){setTimeout(i,17)};function dy(){return Ea||(ob(KV),Ea=bu.now()+qf)}function KV(){Ea=0}function yf(){this._call=this._time=this._next=null}yf.prototype=my.prototype={constructor:yf,restart:function(i,t,e){if(typeof i!="function")throw new TypeError("callback is not a function");e=(e==null?dy():+e)+(t==null?0:+t),!this._next&&nu!==this&&(nu?nu._next=this:gf=this,nu=this),this._call=i,this._time=e,Kg()},stop:function(){this._call&&(this._call=null,this._time=1/0,Kg())}};function my(i,t,e){var s=new yf;return s.restart(i,t,e),s}function $V(){dy(),++ko;for(var i=gf,t;i;)(t=Ea-i._time)>=0&&i._call.call(void 0,t),i=i._next;--ko}function QT(){Ea=(pf=bu.now())+qf,ko=eu=0;try{$V()}finally{ko=0,JV(),Ea=0}}function ZV(){var i=bu.now(),t=i-pf;t>ab&&(qf-=t,pf=i)}function JV(){for(var i,t=gf,e,s=1/0;t;)t._call?(s>t._time&&(s=t._time),i=t,t=t._next):(e=t._next,t._next=null,t=i?i._next=e:gf=e);nu=i,Kg(s)}function Kg(i){if(!ko){eu&&(eu=clearTimeout(eu));var t=i-Ea;t>24?(i<1/0&&(eu=setTimeout(QT,i-bu.now()-qf)),Kl&&(Kl=clearInterval(Kl))):(Kl||(pf=bu.now(),Kl=setInterval(ZV,ab)),ko=1,ob(QT))}}function XT(i,t,e){var s=new yf;return t=t==null?0:+t,s.restart(o=>{s.stop(),i(o+t)},t,e),s}var WV=ku("start","end","cancel","interrupt"),t6=[],lb=0,KT=1,$g=2,Bh=3,$T=4,Zg=5,qh=6;function Hf(i,t,e,s,o,u){var c=i.__transition;if(!c)i.__transition={};else if(e in c)return;e6(i,e,{name:t,index:s,group:o,on:WV,tween:t6,time:u.time,delay:u.delay,duration:u.duration,ease:u.ease,timer:null,state:lb})}function gy(i,t){var e=ui(i,t);if(e.state>lb)throw new Error("too late; already scheduled");return e}function Xi(i,t){var e=ui(i,t);if(e.state>Bh)throw new Error("too late; already running");return e}function ui(i,t){var e=i.__transition;if(!e||!(e=e[t]))throw new Error("transition not found");return e}function e6(i,t,e){var s=i.__transition,o;s[t]=e,e.timer=my(u,0,e.time);function u(g){e.state=KT,e.timer.restart(c,e.delay,e.time),e.delay<=g&&c(g-e.delay)}function c(g){var _,T,w,S;if(e.state!==KT)return p();for(_ in s)if(S=s[_],S.name===e.name){if(S.state===Bh)return XT(c);S.state===$T?(S.state=qh,S.timer.stop(),S.on.call("interrupt",i,i.__data__,S.index,S.group),delete s[_]):+_<t&&(S.state=qh,S.timer.stop(),S.on.call("cancel",i,i.__data__,S.index,S.group),delete s[_])}if(XT(function(){e.state===Bh&&(e.state=$T,e.timer.restart(d,e.delay,e.time),d(g))}),e.state=$g,e.on.call("start",i,i.__data__,e.index,e.group),e.state===$g){for(e.state=Bh,o=new Array(w=e.tween.length),_=0,T=-1;_<w;++_)(S=e.tween[_].value.call(i,i.__data__,e.index,e.group))&&(o[++T]=S);o.length=T+1}}function d(g){for(var _=g<e.duration?e.ease.call(null,g/e.duration):(e.timer.restart(p),e.state=Zg,1),T=-1,w=o.length;++T<w;)o[T].call(i,_);e.state===Zg&&(e.on.call("end",i,i.__data__,e.index,e.group),p())}function p(){e.state=qh,e.timer.stop(),delete s[t];for(var g in s)return;delete i.__transition}}function Hh(i,t){var e=i.__transition,s,o,u=!0,c;if(e){t=t==null?null:t+"";for(c in e){if((s=e[c]).name!==t){u=!1;continue}o=s.state>$g&&s.state<Zg,s.state=qh,s.timer.stop(),s.on.call(o?"interrupt":"cancel",i,i.__data__,s.index,s.group),delete e[c]}u&&delete i.__transition}}function n6(i){return this.each(function(){Hh(this,i)})}function i6(i,t){var e,s;return function(){var o=Xi(this,i),u=o.tween;if(u!==e){s=e=u;for(var c=0,d=s.length;c<d;++c)if(s[c].name===t){s=s.slice(),s.splice(c,1);break}}o.tween=s}}function r6(i,t,e){var s,o;if(typeof e!="function")throw new Error;return function(){var u=Xi(this,i),c=u.tween;if(c!==s){o=(s=c).slice();for(var d={name:t,value:e},p=0,g=o.length;p<g;++p)if(o[p].name===t){o[p]=d;break}p===g&&o.push(d)}u.tween=o}}function s6(i,t){var e=this._id;if(i+="",arguments.length<2){for(var s=ui(this.node(),e).tween,o=0,u=s.length,c;o<u;++o)if((c=s[o]).name===i)return c.value;return null}return this.each((t==null?i6:r6)(e,i,t))}function py(i,t,e){var s=i._id;return i.each(function(){var o=Xi(this,s);(o.value||(o.value={}))[t]=e.apply(this,arguments)}),function(o){return ui(o,s).value[t]}}function ub(i,t){var e;return(typeof t=="number"?us:t instanceof Au?FT:(e=Au(t))?(t=e,FT):jV)(i,t)}function a6(i){return function(){this.removeAttribute(i)}}function o6(i){return function(){this.removeAttributeNS(i.space,i.local)}}function l6(i,t,e){var s,o=e+"",u;return function(){var c=this.getAttribute(i);return c===o?null:c===s?u:u=t(s=c,e)}}function u6(i,t,e){var s,o=e+"",u;return function(){var c=this.getAttributeNS(i.space,i.local);return c===o?null:c===s?u:u=t(s=c,e)}}function c6(i,t,e){var s,o,u;return function(){var c,d=e(this),p;return d==null?void this.removeAttribute(i):(c=this.getAttribute(i),p=d+"",c===p?null:c===s&&p===o?u:(o=p,u=t(s=c,d)))}}function h6(i,t,e){var s,o,u;return function(){var c,d=e(this),p;return d==null?void this.removeAttributeNS(i.space,i.local):(c=this.getAttributeNS(i.space,i.local),p=d+"",c===p?null:c===s&&p===o?u:(o=p,u=t(s=c,d)))}}function f6(i,t){var e=Bf(i),s=e==="transform"?FV:ub;return this.attrTween(i,typeof t=="function"?(e.local?h6:c6)(e,s,py(this,"attr."+i,t)):t==null?(e.local?o6:a6)(e):(e.local?u6:l6)(e,s,t))}function d6(i,t){return function(e){this.setAttribute(i,t.call(this,e))}}function m6(i,t){return function(e){this.setAttributeNS(i.space,i.local,t.call(this,e))}}function g6(i,t){var e,s;function o(){var u=t.apply(this,arguments);return u!==s&&(e=(s=u)&&m6(i,u)),e}return o._value=t,o}function p6(i,t){var e,s;function o(){var u=t.apply(this,arguments);return u!==s&&(e=(s=u)&&d6(i,u)),e}return o._value=t,o}function y6(i,t){var e="attr."+i;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;var s=Bf(i);return this.tween(e,(s.local?g6:p6)(s,t))}function _6(i,t){return function(){gy(this,i).delay=+t.apply(this,arguments)}}function v6(i,t){return t=+t,function(){gy(this,i).delay=t}}function E6(i){var t=this._id;return arguments.length?this.each((typeof i=="function"?_6:v6)(t,i)):ui(this.node(),t).delay}function T6(i,t){return function(){Xi(this,i).duration=+t.apply(this,arguments)}}function w6(i,t){return t=+t,function(){Xi(this,i).duration=t}}function A6(i){var t=this._id;return arguments.length?this.each((typeof i=="function"?T6:w6)(t,i)):ui(this.node(),t).duration}function b6(i,t){if(typeof t!="function")throw new Error;return function(){Xi(this,i).ease=t}}function S6(i){var t=this._id;return arguments.length?this.each(b6(t,i)):ui(this.node(),t).ease}function R6(i,t){return function(){var e=t.apply(this,arguments);if(typeof e!="function")throw new Error;Xi(this,i).ease=e}}function I6(i){if(typeof i!="function")throw new Error;return this.each(R6(this._id,i))}function C6(i){typeof i!="function"&&(i=q1(i));for(var t=this._groups,e=t.length,s=new Array(e),o=0;o<e;++o)for(var u=t[o],c=u.length,d=s[o]=[],p,g=0;g<c;++g)(p=u[g])&&i.call(p,p.__data__,g,u)&&d.push(p);return new Ir(s,this._parents,this._name,this._id)}function N6(i){if(i._id!==this._id)throw new Error;for(var t=this._groups,e=i._groups,s=t.length,o=e.length,u=Math.min(s,o),c=new Array(s),d=0;d<u;++d)for(var p=t[d],g=e[d],_=p.length,T=c[d]=new Array(_),w,S=0;S<_;++S)(w=p[S]||g[S])&&(T[S]=w);for(;d<s;++d)c[d]=t[d];return new Ir(c,this._parents,this._name,this._id)}function x6(i){return(i+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||t==="start"})}function D6(i,t,e){var s,o,u=x6(t)?gy:Xi;return function(){var c=u(this,i),d=c.on;d!==s&&(o=(s=d).copy()).on(t,e),c.on=o}}function O6(i,t){var e=this._id;return arguments.length<2?ui(this.node(),e).on.on(i):this.each(D6(e,i,t))}function M6(i){return function(){var t=this.parentNode;for(var e in this.__transition)if(+e!==i)return;t&&t.removeChild(this)}}function V6(){return this.on("end.remove",M6(this._id))}function k6(i){var t=this._name,e=this._id;typeof i!="function"&&(i=cy(i));for(var s=this._groups,o=s.length,u=new Array(o),c=0;c<o;++c)for(var d=s[c],p=d.length,g=u[c]=new Array(p),_,T,w=0;w<p;++w)(_=d[w])&&(T=i.call(_,_.__data__,w,d))&&("__data__"in _&&(T.__data__=_.__data__),g[w]=T,Hf(g[w],t,e,w,g,ui(_,e)));return new Ir(u,this._parents,t,e)}function U6(i){var t=this._name,e=this._id;typeof i!="function"&&(i=B1(i));for(var s=this._groups,o=s.length,u=[],c=[],d=0;d<o;++d)for(var p=s[d],g=p.length,_,T=0;T<g;++T)if(_=p[T]){for(var w=i.call(_,_.__data__,T,p),S,D=ui(_,e),O=0,x=w.length;O<x;++O)(S=w[O])&&Hf(S,t,e,O,w,D);u.push(w),c.push(_)}return new Ir(u,c,t,e)}var L6=Uu.prototype.constructor;function P6(){return new L6(this._groups,this._parents)}function z6(i,t){var e,s,o;return function(){var u=Vo(this,i),c=(this.style.removeProperty(i),Vo(this,i));return u===c?null:u===e&&c===s?o:o=t(e=u,s=c)}}function cb(i){return function(){this.style.removeProperty(i)}}function j6(i,t,e){var s,o=e+"",u;return function(){var c=Vo(this,i);return c===o?null:c===s?u:u=t(s=c,e)}}function B6(i,t,e){var s,o,u;return function(){var c=Vo(this,i),d=e(this),p=d+"";return d==null&&(p=d=(this.style.removeProperty(i),Vo(this,i))),c===p?null:c===s&&p===o?u:(o=p,u=t(s=c,d))}}function q6(i,t){var e,s,o,u="style."+t,c="end."+u,d;return function(){var p=Xi(this,i),g=p.on,_=p.value[u]==null?d||(d=cb(t)):void 0;(g!==e||o!==_)&&(s=(e=g).copy()).on(c,o=_),p.on=s}}function H6(i,t,e){var s=(i+="")=="transform"?HV:ub;return t==null?this.styleTween(i,z6(i,s)).on("end.style."+i,cb(i)):typeof t=="function"?this.styleTween(i,B6(i,s,py(this,"style."+i,t))).each(q6(this._id,i)):this.styleTween(i,j6(i,s,t),e).on("end.style."+i,null)}function F6(i,t,e){return function(s){this.style.setProperty(i,t.call(this,s),e)}}function G6(i,t,e){var s,o;function u(){var c=t.apply(this,arguments);return c!==o&&(s=(o=c)&&F6(i,c,e)),s}return u._value=t,u}function Y6(i,t,e){var s="style."+(i+="");if(arguments.length<2)return(s=this.tween(s))&&s._value;if(t==null)return this.tween(s,null);if(typeof t!="function")throw new Error;return this.tween(s,G6(i,t,e??""))}function Q6(i){return function(){this.textContent=i}}function X6(i){return function(){var t=i(this);this.textContent=t??""}}function K6(i){return this.tween("text",typeof i=="function"?X6(py(this,"text",i)):Q6(i==null?"":i+""))}function $6(i){return function(t){this.textContent=i.call(this,t)}}function Z6(i){var t,e;function s(){var o=i.apply(this,arguments);return o!==e&&(t=(e=o)&&$6(o)),t}return s._value=i,s}function J6(i){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(i==null)return this.tween(t,null);if(typeof i!="function")throw new Error;return this.tween(t,Z6(i))}function W6(){for(var i=this._name,t=this._id,e=hb(),s=this._groups,o=s.length,u=0;u<o;++u)for(var c=s[u],d=c.length,p,g=0;g<d;++g)if(p=c[g]){var _=ui(p,t);Hf(p,i,e,g,c,{time:_.time+_.delay+_.duration,delay:0,duration:_.duration,ease:_.ease})}return new Ir(s,this._parents,i,e)}function t3(){var i,t,e=this,s=e._id,o=e.size();return new Promise(function(u,c){var d={value:c},p={value:function(){--o===0&&u()}};e.each(function(){var g=Xi(this,s),_=g.on;_!==i&&(t=(i=_).copy(),t._.cancel.push(d),t._.interrupt.push(d),t._.end.push(p)),g.on=t}),o===0&&u()})}var e3=0;function Ir(i,t,e,s){this._groups=i,this._parents=t,this._name=e,this._id=s}function hb(){return++e3}var gr=Uu.prototype;Ir.prototype={constructor:Ir,select:k6,selectAll:U6,selectChild:gr.selectChild,selectChildren:gr.selectChildren,filter:C6,merge:N6,selection:P6,transition:W6,call:gr.call,nodes:gr.nodes,node:gr.node,size:gr.size,empty:gr.empty,each:gr.each,on:O6,attr:f6,attrTween:y6,style:H6,styleTween:Y6,text:K6,textTween:J6,remove:V6,tween:s6,delay:E6,duration:A6,ease:S6,easeVarying:I6,end:t3,[Symbol.iterator]:gr[Symbol.iterator]};function n3(i){return((i*=2)<=1?i*i*i:(i-=2)*i*i+2)/2}var i3={time:null,delay:0,duration:250,ease:n3};function r3(i,t){for(var e;!(e=i.__transition)||!(e=e[t]);)if(!(i=i.parentNode))throw new Error(`transition ${t} not found`);return e}function s3(i){var t,e;i instanceof Ir?(t=i._id,i=i._name):(t=hb(),(e=i3).time=dy(),i=i==null?null:i+"");for(var s=this._groups,o=s.length,u=0;u<o;++u)for(var c=s[u],d=c.length,p,g=0;g<d;++g)(p=c[g])&&Hf(p,i,t,g,c,e||r3(p,t));return new Ir(s,this._parents,i,t)}Uu.prototype.interrupt=n6;Uu.prototype.transition=s3;function a3(i){const t=+this._x.call(null,i),e=+this._y.call(null,i);return fb(this.cover(t,e),t,e,i)}function fb(i,t,e,s){if(isNaN(t)||isNaN(e))return i;var o,u=i._root,c={data:s},d=i._x0,p=i._y0,g=i._x1,_=i._y1,T,w,S,D,O,x,z,J;if(!u)return i._root=c,i;for(;u.length;)if((O=t>=(T=(d+g)/2))?d=T:g=T,(x=e>=(w=(p+_)/2))?p=w:_=w,o=u,!(u=u[z=x<<1|O]))return o[z]=c,i;if(S=+i._x.call(null,u.data),D=+i._y.call(null,u.data),t===S&&e===D)return c.next=u,o?o[z]=c:i._root=c,i;do o=o?o[z]=new Array(4):i._root=new Array(4),(O=t>=(T=(d+g)/2))?d=T:g=T,(x=e>=(w=(p+_)/2))?p=w:_=w;while((z=x<<1|O)===(J=(D>=w)<<1|S>=T));return o[J]=u,o[z]=c,i}function o3(i){var t,e,s=i.length,o,u,c=new Array(s),d=new Array(s),p=1/0,g=1/0,_=-1/0,T=-1/0;for(e=0;e<s;++e)isNaN(o=+this._x.call(null,t=i[e]))||isNaN(u=+this._y.call(null,t))||(c[e]=o,d[e]=u,o<p&&(p=o),o>_&&(_=o),u<g&&(g=u),u>T&&(T=u));if(p>_||g>T)return this;for(this.cover(p,g).cover(_,T),e=0;e<s;++e)fb(this,c[e],d[e],i[e]);return this}function l3(i,t){if(isNaN(i=+i)||isNaN(t=+t))return this;var e=this._x0,s=this._y0,o=this._x1,u=this._y1;if(isNaN(e))o=(e=Math.floor(i))+1,u=(s=Math.floor(t))+1;else{for(var c=o-e||1,d=this._root,p,g;e>i||i>=o||s>t||t>=u;)switch(g=(t<s)<<1|i<e,p=new Array(4),p[g]=d,d=p,c*=2,g){case 0:o=e+c,u=s+c;break;case 1:e=o-c,u=s+c;break;case 2:o=e+c,s=u-c;break;case 3:e=o-c,s=u-c;break}this._root&&this._root.length&&(this._root=d)}return this._x0=e,this._y0=s,this._x1=o,this._y1=u,this}function u3(){var i=[];return this.visit(function(t){if(!t.length)do i.push(t.data);while(t=t.next)}),i}function c3(i){return arguments.length?this.cover(+i[0][0],+i[0][1]).cover(+i[1][0],+i[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function an(i,t,e,s,o){this.node=i,this.x0=t,this.y0=e,this.x1=s,this.y1=o}function h3(i,t,e){var s,o=this._x0,u=this._y0,c,d,p,g,_=this._x1,T=this._y1,w=[],S=this._root,D,O;for(S&&w.push(new an(S,o,u,_,T)),e==null?e=1/0:(o=i-e,u=t-e,_=i+e,T=t+e,e*=e);D=w.pop();)if(!(!(S=D.node)||(c=D.x0)>_||(d=D.y0)>T||(p=D.x1)<o||(g=D.y1)<u))if(S.length){var x=(c+p)/2,z=(d+g)/2;w.push(new an(S[3],x,z,p,g),new an(S[2],c,z,x,g),new an(S[1],x,d,p,z),new an(S[0],c,d,x,z)),(O=(t>=z)<<1|i>=x)&&(D=w[w.length-1],w[w.length-1]=w[w.length-1-O],w[w.length-1-O]=D)}else{var J=i-+this._x.call(null,S.data),K=t-+this._y.call(null,S.data),q=J*J+K*K;if(q<e){var ut=Math.sqrt(e=q);o=i-ut,u=t-ut,_=i+ut,T=t+ut,s=S.data}}return s}function f3(i){if(isNaN(_=+this._x.call(null,i))||isNaN(T=+this._y.call(null,i)))return this;var t,e=this._root,s,o,u,c=this._x0,d=this._y0,p=this._x1,g=this._y1,_,T,w,S,D,O,x,z;if(!e)return this;if(e.length)for(;;){if((D=_>=(w=(c+p)/2))?c=w:p=w,(O=T>=(S=(d+g)/2))?d=S:g=S,t=e,!(e=e[x=O<<1|D]))return this;if(!e.length)break;(t[x+1&3]||t[x+2&3]||t[x+3&3])&&(s=t,z=x)}for(;e.data!==i;)if(o=e,!(e=e.next))return this;return(u=e.next)&&delete e.next,o?(u?o.next=u:delete o.next,this):t?(u?t[x]=u:delete t[x],(e=t[0]||t[1]||t[2]||t[3])&&e===(t[3]||t[2]||t[1]||t[0])&&!e.length&&(s?s[z]=e:this._root=e),this):(this._root=u,this)}function d3(i){for(var t=0,e=i.length;t<e;++t)this.remove(i[t]);return this}function m3(){return this._root}function g3(){var i=0;return this.visit(function(t){if(!t.length)do++i;while(t=t.next)}),i}function p3(i){var t=[],e,s=this._root,o,u,c,d,p;for(s&&t.push(new an(s,this._x0,this._y0,this._x1,this._y1));e=t.pop();)if(!i(s=e.node,u=e.x0,c=e.y0,d=e.x1,p=e.y1)&&s.length){var g=(u+d)/2,_=(c+p)/2;(o=s[3])&&t.push(new an(o,g,_,d,p)),(o=s[2])&&t.push(new an(o,u,_,g,p)),(o=s[1])&&t.push(new an(o,g,c,d,_)),(o=s[0])&&t.push(new an(o,u,c,g,_))}return this}function y3(i){var t=[],e=[],s;for(this._root&&t.push(new an(this._root,this._x0,this._y0,this._x1,this._y1));s=t.pop();){var o=s.node;if(o.length){var u,c=s.x0,d=s.y0,p=s.x1,g=s.y1,_=(c+p)/2,T=(d+g)/2;(u=o[0])&&t.push(new an(u,c,d,_,T)),(u=o[1])&&t.push(new an(u,_,d,p,T)),(u=o[2])&&t.push(new an(u,c,T,_,g)),(u=o[3])&&t.push(new an(u,_,T,p,g))}e.push(s)}for(;s=e.pop();)i(s.node,s.x0,s.y0,s.x1,s.y1);return this}function _3(i){return i[0]}function v3(i){return arguments.length?(this._x=i,this):this._x}function E3(i){return i[1]}function T3(i){return arguments.length?(this._y=i,this):this._y}function yy(i,t,e){var s=new _y(t??_3,e??E3,NaN,NaN,NaN,NaN);return i==null?s:s.addAll(i)}function _y(i,t,e,s,o,u){this._x=i,this._y=t,this._x0=e,this._y0=s,this._x1=o,this._y1=u,this._root=void 0}function ZT(i){for(var t={data:i.data},e=t;i=i.next;)e=e.next={data:i.data};return t}var un=yy.prototype=_y.prototype;un.copy=function(){var i=new _y(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,e,s;if(!t)return i;if(!t.length)return i._root=ZT(t),i;for(e=[{source:t,target:i._root=new Array(4)}];t=e.pop();)for(var o=0;o<4;++o)(s=t.source[o])&&(s.length?e.push({source:s,target:t.target[o]=new Array(4)}):t.target[o]=ZT(s));return i};un.add=a3;un.addAll=o3;un.cover=l3;un.data=u3;un.extent=c3;un.find=h3;un.remove=f3;un.removeAll=d3;un.root=m3;un.size=g3;un.visit=p3;un.visitAfter=y3;un.x=v3;un.y=T3;function ln(i){return function(){return i}}function ps(i){return(i()-.5)*1e-6}function w3(i){return i.x+i.vx}function A3(i){return i.y+i.vy}function b3(i){var t,e,s,o=1,u=1;typeof i!="function"&&(i=ln(i==null?1:+i));function c(){for(var g,_=t.length,T,w,S,D,O,x,z=0;z<u;++z)for(T=yy(t,w3,A3).visitAfter(d),g=0;g<_;++g)w=t[g],O=e[w.index],x=O*O,S=w.x+w.vx,D=w.y+w.vy,T.visit(J);function J(K,q,ut,ht,I){var R=K.data,C=K.r,L=O+C;if(R){if(R.index>w.index){var V=S-R.x-R.vx,B=D-R.y-R.vy,N=V*V+B*B;N<L*L&&(V===0&&(V=ps(s),N+=V*V),B===0&&(B=ps(s),N+=B*B),N=(L-(N=Math.sqrt(N)))/N*o,w.vx+=(V*=N)*(L=(C*=C)/(x+C)),w.vy+=(B*=N)*L,R.vx-=V*(L=1-L),R.vy-=B*L)}return}return q>S+L||ht<S-L||ut>D+L||I<D-L}}function d(g){if(g.data)return g.r=e[g.data.index];for(var _=g.r=0;_<4;++_)g[_]&&g[_].r>g.r&&(g.r=g[_].r)}function p(){if(t){var g,_=t.length,T;for(e=new Array(_),g=0;g<_;++g)T=t[g],e[T.index]=+i(T,g,t)}}return c.initialize=function(g,_){t=g,s=_,p()},c.iterations=function(g){return arguments.length?(u=+g,c):u},c.strength=function(g){return arguments.length?(o=+g,c):o},c.radius=function(g){return arguments.length?(i=typeof g=="function"?g:ln(+g),p(),c):i},c}function S3(i){return i.index}function JT(i,t){var e=i.get(t);if(!e)throw new Error("node not found: "+t);return e}function R3(i){var t=S3,e=T,s,o=ln(30),u,c,d,p,g,_=1;i==null&&(i=[]);function T(x){return 1/Math.min(d[x.source.index],d[x.target.index])}function w(x){for(var z=0,J=i.length;z<_;++z)for(var K=0,q,ut,ht,I,R,C,L;K<J;++K)q=i[K],ut=q.source,ht=q.target,I=ht.x+ht.vx-ut.x-ut.vx||ps(g),R=ht.y+ht.vy-ut.y-ut.vy||ps(g),C=Math.sqrt(I*I+R*R),C=(C-u[K])/C*x*s[K],I*=C,R*=C,ht.vx-=I*(L=p[K]),ht.vy-=R*L,ut.vx+=I*(L=1-L),ut.vy+=R*L}function S(){if(c){var x,z=c.length,J=i.length,K=new Map(c.map((ut,ht)=>[t(ut,ht,c),ut])),q;for(x=0,d=new Array(z);x<J;++x)q=i[x],q.index=x,typeof q.source!="object"&&(q.source=JT(K,q.source)),typeof q.target!="object"&&(q.target=JT(K,q.target)),d[q.source.index]=(d[q.source.index]||0)+1,d[q.target.index]=(d[q.target.index]||0)+1;for(x=0,p=new Array(J);x<J;++x)q=i[x],p[x]=d[q.source.index]/(d[q.source.index]+d[q.target.index]);s=new Array(J),D(),u=new Array(J),O()}}function D(){if(c)for(var x=0,z=i.length;x<z;++x)s[x]=+e(i[x],x,i)}function O(){if(c)for(var x=0,z=i.length;x<z;++x)u[x]=+o(i[x],x,i)}return w.initialize=function(x,z){c=x,g=z,S()},w.links=function(x){return arguments.length?(i=x,S(),w):i},w.id=function(x){return arguments.length?(t=x,w):t},w.iterations=function(x){return arguments.length?(_=+x,w):_},w.strength=function(x){return arguments.length?(e=typeof x=="function"?x:ln(+x),D(),w):e},w.distance=function(x){return arguments.length?(o=typeof x=="function"?x:ln(+x),O(),w):o},w}const I3=1664525,C3=1013904223,WT=4294967296;function N3(){let i=1;return()=>(i=(I3*i+C3)%WT)/WT}function x3(i){return i.x}function D3(i){return i.y}var O3=10,M3=Math.PI*(3-Math.sqrt(5));function V3(i){var t,e=1,s=.001,o=1-Math.pow(s,1/300),u=0,c=.6,d=new Map,p=my(T),g=ku("tick","end"),_=N3();i==null&&(i=[]);function T(){w(),g.call("tick",t),e<s&&(p.stop(),g.call("end",t))}function w(O){var x,z=i.length,J;O===void 0&&(O=1);for(var K=0;K<O;++K)for(e+=(u-e)*o,d.forEach(function(q){q(e)}),x=0;x<z;++x)J=i[x],J.fx==null?J.x+=J.vx*=c:(J.x=J.fx,J.vx=0),J.fy==null?J.y+=J.vy*=c:(J.y=J.fy,J.vy=0);return t}function S(){for(var O=0,x=i.length,z;O<x;++O){if(z=i[O],z.index=O,z.fx!=null&&(z.x=z.fx),z.fy!=null&&(z.y=z.fy),isNaN(z.x)||isNaN(z.y)){var J=O3*Math.sqrt(.5+O),K=O*M3;z.x=J*Math.cos(K),z.y=J*Math.sin(K)}(isNaN(z.vx)||isNaN(z.vy))&&(z.vx=z.vy=0)}}function D(O){return O.initialize&&O.initialize(i,_),O}return S(),t={tick:w,restart:function(){return p.restart(T),t},stop:function(){return p.stop(),t},nodes:function(O){return arguments.length?(i=O,S(),d.forEach(D),t):i},alpha:function(O){return arguments.length?(e=+O,t):e},alphaMin:function(O){return arguments.length?(s=+O,t):s},alphaDecay:function(O){return arguments.length?(o=+O,t):+o},alphaTarget:function(O){return arguments.length?(u=+O,t):u},velocityDecay:function(O){return arguments.length?(c=1-O,t):1-c},randomSource:function(O){return arguments.length?(_=O,d.forEach(D),t):_},force:function(O,x){return arguments.length>1?(x==null?d.delete(O):d.set(O,D(x)),t):d.get(O)},find:function(O,x,z){var J=0,K=i.length,q,ut,ht,I,R;for(z==null?z=1/0:z*=z,J=0;J<K;++J)I=i[J],q=O-I.x,ut=x-I.y,ht=q*q+ut*ut,ht<z&&(R=I,z=ht);return R},on:function(O,x){return arguments.length>1?(g.on(O,x),t):g.on(O)}}}function k3(){var i,t,e,s,o=ln(-30),u,c=1,d=1/0,p=.81;function g(S){var D,O=i.length,x=yy(i,x3,D3).visitAfter(T);for(s=S,D=0;D<O;++D)t=i[D],x.visit(w)}function _(){if(i){var S,D=i.length,O;for(u=new Array(D),S=0;S<D;++S)O=i[S],u[O.index]=+o(O,S,i)}}function T(S){var D=0,O,x,z=0,J,K,q;if(S.length){for(J=K=q=0;q<4;++q)(O=S[q])&&(x=Math.abs(O.value))&&(D+=O.value,z+=x,J+=x*O.x,K+=x*O.y);S.x=J/z,S.y=K/z}else{O=S,O.x=O.data.x,O.y=O.data.y;do D+=u[O.data.index];while(O=O.next)}S.value=D}function w(S,D,O,x){if(!S.value)return!0;var z=S.x-t.x,J=S.y-t.y,K=x-D,q=z*z+J*J;if(K*K/p<q)return q<d&&(z===0&&(z=ps(e),q+=z*z),J===0&&(J=ps(e),q+=J*J),q<c&&(q=Math.sqrt(c*q)),t.vx+=z*S.value*s/q,t.vy+=J*S.value*s/q),!0;if(S.length||q>=d)return;(S.data!==t||S.next)&&(z===0&&(z=ps(e),q+=z*z),J===0&&(J=ps(e),q+=J*J),q<c&&(q=Math.sqrt(c*q)));do S.data!==t&&(K=u[S.data.index]*s/q,t.vx+=z*K,t.vy+=J*K);while(S=S.next)}return g.initialize=function(S,D){i=S,e=D,_()},g.strength=function(S){return arguments.length?(o=typeof S=="function"?S:ln(+S),_(),g):o},g.distanceMin=function(S){return arguments.length?(c=S*S,g):Math.sqrt(c)},g.distanceMax=function(S){return arguments.length?(d=S*S,g):Math.sqrt(d)},g.theta=function(S){return arguments.length?(p=S*S,g):Math.sqrt(p)},g}function U3(i){var t=ln(.1),e,s,o;typeof i!="function"&&(i=ln(i==null?0:+i));function u(d){for(var p=0,g=e.length,_;p<g;++p)_=e[p],_.vx+=(o[p]-_.x)*s[p]*d}function c(){if(e){var d,p=e.length;for(s=new Array(p),o=new Array(p),d=0;d<p;++d)s[d]=isNaN(o[d]=+i(e[d],d,e))?0:+t(e[d],d,e)}}return u.initialize=function(d){e=d,c()},u.strength=function(d){return arguments.length?(t=typeof d=="function"?d:ln(+d),c(),u):t},u.x=function(d){return arguments.length?(i=typeof d=="function"?d:ln(+d),c(),u):i},u}function L3(i){var t=ln(.1),e,s,o;typeof i!="function"&&(i=ln(i==null?0:+i));function u(d){for(var p=0,g=e.length,_;p<g;++p)_=e[p],_.vy+=(o[p]-_.y)*s[p]*d}function c(){if(e){var d,p=e.length;for(s=new Array(p),o=new Array(p),d=0;d<p;++d)s[d]=isNaN(o[d]=+i(e[d],d,e))?0:+t(e[d],d,e)}}return u.initialize=function(d){e=d,c()},u.strength=function(d){return arguments.length?(t=typeof d=="function"?d:ln(+d),c(),u):t},u.y=function(d){return arguments.length?(i=typeof d=="function"?d:ln(+d),c(),u):i},u}const Ih=i=>()=>i;function P3(i,{sourceEvent:t,target:e,transform:s,dispatch:o}){Object.defineProperties(this,{type:{value:i,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:e,enumerable:!0,configurable:!0},transform:{value:s,enumerable:!0,configurable:!0},_:{value:o}})}function vr(i,t,e){this.k=i,this.x=t,this.y=e}vr.prototype={constructor:vr,scale:function(i){return i===1?this:new vr(this.k*i,this.x,this.y)},translate:function(i,t){return i===0&t===0?this:new vr(this.k,this.x+this.k*i,this.y+this.k*t)},apply:function(i){return[i[0]*this.k+this.x,i[1]*this.k+this.y]},applyX:function(i){return i*this.k+this.x},applyY:function(i){return i*this.k+this.y},invert:function(i){return[(i[0]-this.x)/this.k,(i[1]-this.y)/this.k]},invertX:function(i){return(i-this.x)/this.k},invertY:function(i){return(i-this.y)/this.k},rescaleX:function(i){return i.copy().domain(i.range().map(this.invertX,this).map(i.invert,i))},rescaleY:function(i){return i.copy().domain(i.range().map(this.invertY,this).map(i.invert,i))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var vy=new vr(1,0,0);vr.prototype;function dg(i){i.stopImmediatePropagation()}function $l(i){i.preventDefault(),i.stopImmediatePropagation()}function z3(i){return(!i.ctrlKey||i.type==="wheel")&&!i.button}function j3(){var i=this;return i instanceof SVGElement?(i=i.ownerSVGElement||i,i.hasAttribute("viewBox")?(i=i.viewBox.baseVal,[[i.x,i.y],[i.x+i.width,i.y+i.height]]):[[0,0],[i.width.baseVal.value,i.height.baseVal.value]]):[[0,0],[i.clientWidth,i.clientHeight]]}function tw(){return this.__zoom||vy}function B3(i){return-i.deltaY*(i.deltaMode===1?.05:i.deltaMode?1:.002)*(i.ctrlKey?10:1)}function q3(){return navigator.maxTouchPoints||"ontouchstart"in this}function H3(i,t,e){var s=i.invertX(t[0][0])-e[0][0],o=i.invertX(t[1][0])-e[1][0],u=i.invertY(t[0][1])-e[0][1],c=i.invertY(t[1][1])-e[1][1];return i.translate(o>s?(s+o)/2:Math.min(0,s)||Math.max(0,o),c>u?(u+c)/2:Math.min(0,u)||Math.max(0,c))}function F3(){var i=z3,t=j3,e=H3,s=B3,o=q3,u=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],d=250,p=XV,g=ku("start","zoom","end"),_,T,w,S=500,D=150,O=0,x=10;function z(G){G.property("__zoom",tw).on("wheel.zoom",R,{passive:!1}).on("mousedown.zoom",C).on("dblclick.zoom",L).filter(o).on("touchstart.zoom",V).on("touchmove.zoom",B).on("touchend.zoom touchcancel.zoom",N).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}z.transform=function(G,mt,P,H){var it=G.selection?G.selection():G;it.property("__zoom",tw),G!==it?ut(G,mt,P,H):it.interrupt().each(function(){ht(this,arguments).event(H).start().zoom(null,typeof mt=="function"?mt.apply(this,arguments):mt).end()})},z.scaleBy=function(G,mt,P,H){z.scaleTo(G,function(){var it=this.__zoom.k,ft=typeof mt=="function"?mt.apply(this,arguments):mt;return it*ft},P,H)},z.scaleTo=function(G,mt,P,H){z.transform(G,function(){var it=t.apply(this,arguments),ft=this.__zoom,at=P==null?q(it):typeof P=="function"?P.apply(this,arguments):P,M=ft.invert(at),$=typeof mt=="function"?mt.apply(this,arguments):mt;return e(K(J(ft,$),at,M),it,c)},P,H)},z.translateBy=function(G,mt,P,H){z.transform(G,function(){return e(this.__zoom.translate(typeof mt=="function"?mt.apply(this,arguments):mt,typeof P=="function"?P.apply(this,arguments):P),t.apply(this,arguments),c)},null,H)},z.translateTo=function(G,mt,P,H,it){z.transform(G,function(){var ft=t.apply(this,arguments),at=this.__zoom,M=H==null?q(ft):typeof H=="function"?H.apply(this,arguments):H;return e(vy.translate(M[0],M[1]).scale(at.k).translate(typeof mt=="function"?-mt.apply(this,arguments):-mt,typeof P=="function"?-P.apply(this,arguments):-P),ft,c)},H,it)};function J(G,mt){return mt=Math.max(u[0],Math.min(u[1],mt)),mt===G.k?G:new vr(mt,G.x,G.y)}function K(G,mt,P){var H=mt[0]-P[0]*G.k,it=mt[1]-P[1]*G.k;return H===G.x&&it===G.y?G:new vr(G.k,H,it)}function q(G){return[(+G[0][0]+ +G[1][0])/2,(+G[0][1]+ +G[1][1])/2]}function ut(G,mt,P,H){G.on("start.zoom",function(){ht(this,arguments).event(H).start()}).on("interrupt.zoom end.zoom",function(){ht(this,arguments).event(H).end()}).tween("zoom",function(){var it=this,ft=arguments,at=ht(it,ft).event(H),M=t.apply(it,ft),$=P==null?q(M):typeof P=="function"?P.apply(it,ft):P,lt=Math.max(M[1][0]-M[0][0],M[1][1]-M[0][1]),ct=it.__zoom,vt=typeof mt=="function"?mt.apply(it,ft):mt,Tt=p(ct.invert($).concat(lt/ct.k),vt.invert($).concat(lt/vt.k));return function(Rt){if(Rt===1)Rt=vt;else{var Gt=Tt(Rt),Xt=lt/Gt[2];Rt=new vr(Xt,$[0]-Gt[0]*Xt,$[1]-Gt[1]*Xt)}at.zoom(null,Rt)}})}function ht(G,mt,P){return!P&&G.__zooming||new I(G,mt)}function I(G,mt){this.that=G,this.args=mt,this.active=0,this.sourceEvent=null,this.extent=t.apply(G,mt),this.taps=0}I.prototype={event:function(G){return G&&(this.sourceEvent=G),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(G,mt){return this.mouse&&G!=="mouse"&&(this.mouse[1]=mt.invert(this.mouse[0])),this.touch0&&G!=="touch"&&(this.touch0[1]=mt.invert(this.touch0[0])),this.touch1&&G!=="touch"&&(this.touch1[1]=mt.invert(this.touch1[0])),this.that.__zoom=mt,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(G){var mt=ki(this.that).datum();g.call(G,this.that,new P3(G,{sourceEvent:this.sourceEvent,target:z,transform:this.that.__zoom,dispatch:g}),mt)}};function R(G,...mt){if(!i.apply(this,arguments))return;var P=ht(this,mt).event(G),H=this.__zoom,it=Math.max(u[0],Math.min(u[1],H.k*Math.pow(2,s.apply(this,arguments)))),ft=pr(G);if(P.wheel)(P.mouse[0][0]!==ft[0]||P.mouse[0][1]!==ft[1])&&(P.mouse[1]=H.invert(P.mouse[0]=ft)),clearTimeout(P.wheel);else{if(H.k===it)return;P.mouse=[ft,H.invert(ft)],Hh(this),P.start()}$l(G),P.wheel=setTimeout(at,D),P.zoom("mouse",e(K(J(H,it),P.mouse[0],P.mouse[1]),P.extent,c));function at(){P.wheel=null,P.end()}}function C(G,...mt){if(w||!i.apply(this,arguments))return;var P=G.currentTarget,H=ht(this,mt,!0).event(G),it=ki(G.view).on("mousemove.zoom",$,!0).on("mouseup.zoom",lt,!0),ft=pr(G,P),at=G.clientX,M=G.clientY;J1(G.view),dg(G),H.mouse=[ft,this.__zoom.invert(ft)],Hh(this),H.start();function $(ct){if($l(ct),!H.moved){var vt=ct.clientX-at,Tt=ct.clientY-M;H.moved=vt*vt+Tt*Tt>O}H.event(ct).zoom("mouse",e(K(H.that.__zoom,H.mouse[0]=pr(ct,P),H.mouse[1]),H.extent,c))}function lt(ct){it.on("mousemove.zoom mouseup.zoom",null),W1(ct.view,H.moved),$l(ct),H.event(ct).end()}}function L(G,...mt){if(i.apply(this,arguments)){var P=this.__zoom,H=pr(G.changedTouches?G.changedTouches[0]:G,this),it=P.invert(H),ft=P.k*(G.shiftKey?.5:2),at=e(K(J(P,ft),H,it),t.apply(this,mt),c);$l(G),d>0?ki(this).transition().duration(d).call(ut,at,H,G):ki(this).call(z.transform,at,H,G)}}function V(G,...mt){if(i.apply(this,arguments)){var P=G.touches,H=P.length,it=ht(this,mt,G.changedTouches.length===H).event(G),ft,at,M,$;for(dg(G),at=0;at<H;++at)M=P[at],$=pr(M,this),$=[$,this.__zoom.invert($),M.identifier],it.touch0?!it.touch1&&it.touch0[2]!==$[2]&&(it.touch1=$,it.taps=0):(it.touch0=$,ft=!0,it.taps=1+!!_);_&&(_=clearTimeout(_)),ft&&(it.taps<2&&(T=$[0],_=setTimeout(function(){_=null},S)),Hh(this),it.start())}}function B(G,...mt){if(this.__zooming){var P=ht(this,mt).event(G),H=G.changedTouches,it=H.length,ft,at,M,$;for($l(G),ft=0;ft<it;++ft)at=H[ft],M=pr(at,this),P.touch0&&P.touch0[2]===at.identifier?P.touch0[0]=M:P.touch1&&P.touch1[2]===at.identifier&&(P.touch1[0]=M);if(at=P.that.__zoom,P.touch1){var lt=P.touch0[0],ct=P.touch0[1],vt=P.touch1[0],Tt=P.touch1[1],Rt=(Rt=vt[0]-lt[0])*Rt+(Rt=vt[1]-lt[1])*Rt,Gt=(Gt=Tt[0]-ct[0])*Gt+(Gt=Tt[1]-ct[1])*Gt;at=J(at,Math.sqrt(Rt/Gt)),M=[(lt[0]+vt[0])/2,(lt[1]+vt[1])/2],$=[(ct[0]+Tt[0])/2,(ct[1]+Tt[1])/2]}else if(P.touch0)M=P.touch0[0],$=P.touch0[1];else return;P.zoom("touch",e(K(at,M,$),P.extent,c))}}function N(G,...mt){if(this.__zooming){var P=ht(this,mt).event(G),H=G.changedTouches,it=H.length,ft,at;for(dg(G),w&&clearTimeout(w),w=setTimeout(function(){w=null},S),ft=0;ft<it;++ft)at=H[ft],P.touch0&&P.touch0[2]===at.identifier?delete P.touch0:P.touch1&&P.touch1[2]===at.identifier&&delete P.touch1;if(P.touch1&&!P.touch0&&(P.touch0=P.touch1,delete P.touch1),P.touch0)P.touch0[1]=this.__zoom.invert(P.touch0[0]);else if(P.end(),P.taps===2&&(at=pr(at,this),Math.hypot(T[0]-at[0],T[1]-at[1])<x)){var M=ki(this).on("dblclick.zoom");M&&M.apply(this,arguments)}}}return z.wheelDelta=function(G){return arguments.length?(s=typeof G=="function"?G:Ih(+G),z):s},z.filter=function(G){return arguments.length?(i=typeof G=="function"?G:Ih(!!G),z):i},z.touchable=function(G){return arguments.length?(o=typeof G=="function"?G:Ih(!!G),z):o},z.extent=function(G){return arguments.length?(t=typeof G=="function"?G:Ih([[+G[0][0],+G[0][1]],[+G[1][0],+G[1][1]]]),z):t},z.scaleExtent=function(G){return arguments.length?(u[0]=+G[0],u[1]=+G[1],z):[u[0],u[1]]},z.translateExtent=function(G){return arguments.length?(c[0][0]=+G[0][0],c[1][0]=+G[1][0],c[0][1]=+G[0][1],c[1][1]=+G[1][1],z):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},z.constrain=function(G){return arguments.length?(e=G,z):e},z.duration=function(G){return arguments.length?(d=+G,z):d},z.interpolate=function(G){return arguments.length?(p=G,z):p},z.on=function(){var G=g.on.apply(g,arguments);return G===g?z:G},z.clickDistance=function(G){return arguments.length?(O=(G=+G)*G,z):Math.sqrt(O)},z.tapDistance=function(G){return arguments.length?(x=+G,z):x},z}function mg(i,t,e){return Math.max(t,Math.min(e,i))}function G3(i,t,e,s=70){const o=i.map(D=>D.homeX),u=i.map(D=>D.homeY),c=Math.min(...o),d=Math.max(...o),p=Math.min(...u),g=Math.max(...u),_=Math.max(1,d-c),T=Math.max(1,g-p),w=Math.max(1,t-s*2),S=Math.max(1,e-s*2);return i.map(D=>{const O=s+(D.homeX-c)/_*w,x=s+(D.homeY-p)/T*S;return{...D,homeX:O,homeY:x,x:O,y:x}})}function Y3({onOpenNode:i,overlayTitle:t,overlaySubtitle:e}){const s=gt.useRef(null),o=gt.useRef(null),u=gt.useRef(null),c=gt.useRef(null),d=gt.useRef(null),p=gt.useRef(new Map),[g,_]=gt.useState([]),[T,w]=gt.useState(null);gt.useEffect(()=>{let D=!1;return(async()=>{try{const O=Ui(ai,"urhuNodes"),x=await Hp(O);if(D)return;const z=x.docs.map(J=>{const K=J.data(),q=J.id;return{id:q,title:K.title??q,slug:K.slug??q,references:Array.isArray(K.references)?K.references:[],homeX:typeof K.homeX=="number"?K.homeX:500,homeY:typeof K.homeY=="number"?K.homeY:350}});_(z)}catch(O){console.error("UrhuWebGraph Firestore error:",O)}})(),()=>{D=!0}},[]);const S=gt.useMemo(()=>{const D=new Set(g.map(z=>z.id)),O=new Set,x=[];for(const z of g)for(const J of z.references||[]){if(!D.has(J))continue;const K=z.id,q=J,ut=K<q?`${K}__${q}`:`${q}__${K}`;O.has(ut)||(O.add(ut),x.push({source:K,target:q}))}return{nodes:g,links:x}},[g]);return gt.useEffect(()=>{if(!s.current||!o.current||!S.nodes.length)return;const D=s.current,O=ki(o.current),x=()=>{const H=D.getBoundingClientRect();return{w:Math.max(320,H.width),h:Math.max(320,H.height)}};let{w:z,h:J}=x();O.attr("viewBox",`0 0 ${z} ${J}`),O.selectAll("*").remove();const q=O.append("defs").append("filter").attr("id","urhuGlow");q.append("feGaussianBlur").attr("stdDeviation","2.2").attr("result","blur");const ut=q.append("feMerge");ut.append("feMergeNode").attr("in","blur"),ut.append("feMergeNode").attr("in","SourceGraphic");const ht=O.append("g").attr("class","uwg-root"),I=F3().scaleExtent([.45,2.4]).on("zoom",H=>{ht.attr("transform",H.transform)});O.call(I);const R=G3(S.nodes.map(H=>({...H})),z,J,90),C=new Map,L=(H,it)=>{C.has(H)||C.set(H,new Set),C.get(H).add(it)};S.links.forEach(H=>{L(H.source,H.target),L(H.target,H.source)}),p.current=C;const V=ht.append("g").attr("class","uwg-links").selectAll("line").data(S.links.map(H=>({...H}))).join("line").attr("class","uwg-link").attr("filter","url(#urhuGlow)"),B=ht.append("g").attr("class","uwg-nodes").selectAll("g").data(R).join("g").attr("class","uwg-node").on("mouseenter",(H,it)=>w(it.id)).on("mouseleave",()=>w(null)).on("click",(H,it)=>i?.(it.slug)).call(wV().on("start",(H,it)=>{const ft=u.current;H.active||ft?.alphaTarget(.18).restart(),it.fx=it.x,it.fy=it.y}).on("drag",(H,it)=>{it.fx=H.x,it.fy=H.y}).on("end",(H,it)=>{const ft=u.current;H.active||ft?.alphaTarget(0),it.fx=null,it.fy=null}));B.append("circle").attr("r",7.4).attr("class","uwg-dot"),B.append("circle").attr("r",18).attr("class","uwg-hit").attr("pointer-events","all"),B.append("text").attr("class","uwg-label").attr("x",14).attr("y",4).text(H=>H.title);const N=V3(R).force("link",R3(V.data()).id(H=>H.id).distance(155).strength(.24)).force("charge",k3().strength(-520)).force("collide",b3(30)).force("homeX",U3(H=>H.homeX).strength(.045)).force("homeY",L3(H=>H.homeY).strength(.045)).alpha(.75).alphaDecay(.055);u.current=N,c.current=B,d.current=V;const G=44;N.on("tick",()=>{for(const H of R)H.x=mg(H.x,G,z-G),H.y=mg(H.y,G,J-G);V.attr("x1",H=>H.source.x).attr("y1",H=>H.source.y).attr("x2",H=>H.target.x).attr("y2",H=>H.target.y),B.attr("transform",H=>`translate(${H.x},${H.y})`)}),setTimeout(()=>{const H=R.map(ci=>ci.x),it=R.map(ci=>ci.y),ft=Math.min(...H),at=Math.max(...H),M=Math.min(...it),$=Math.max(...it),lt=120,ct=Math.max(1,at-ft),vt=Math.max(1,$-M),Tt=Math.min((z-lt)/ct,(J-lt)/vt),Rt=(z-ct*Tt)/2-ft*Tt,Gt=(J-vt*Tt)/2-M*Tt,Xt=-Math.min(550,z*2e-4),Ki=Math.min(145,J*.05);O.call(I.transform,vy.translate(Rt+Xt,Gt+Ki).scale(mg(Tt,.6,1.25)))},30);const P=()=>{({w:z,h:J}=x()),O.attr("viewBox",`0 0 ${z} ${J}`),N.alpha(.35).restart()};return window.addEventListener("resize",P),()=>{window.removeEventListener("resize",P),N.stop()}},[S,i]),gt.useEffect(()=>{const D=c.current,O=d.current,x=p.current;if(!D||!O)return;if(!T){D.classed("is-hot",!1).classed("is-near",!1).classed("is-dim",!1),O.classed("is-hot",!1).classed("is-near",!1).classed("is-dim",!1);const K=u.current;K?.alphaTarget(.06).restart(),setTimeout(()=>K?.alphaTarget(0),120);return}const z=x.get(T)??new Set;D.classed("is-hot",K=>K.id===T).classed("is-near",K=>K.id!==T&&z.has(K.id)).classed("is-dim",K=>!(K.id===T||z.has(K.id))),O.classed("is-hot",K=>K.source.id===T||K.target.id===T).classed("is-near",K=>z.has(K.source.id)||z.has(K.target.id)).classed("is-dim",K=>!(K.source.id===T||K.target.id===T||z.has(K.source.id)||z.has(K.target.id)));const J=u.current;J?.alphaTarget(.08).restart(),setTimeout(()=>J?.alphaTarget(0),140)},[T]),k.jsxs("div",{className:"uwg-wrap",ref:s,children:[(t||e)&&k.jsxs("div",{className:"uwg-titleBehind","aria-hidden":"true",children:[t&&k.jsx("div",{className:"uwg-title",children:t}),e&&k.jsx("div",{className:"uwg-sub",children:e})]}),k.jsx("svg",{ref:o,className:"uwg-svg"}),!g.length&&k.jsx("div",{className:"uwg-loading",children:k.jsx("span",{children:"loading web"})})]})}function Q3(){return k.jsxs("section",{className:"urhu-full",children:[k.jsx("div",{className:"urhu-webfull",children:k.jsx(Y3,{overlayTitle:"lecarnetdeurhu",overlaySubtitle:"a slow archive  notes, letters, fragments, small experiments.",onOpenNode:i=>{const t="/lecarnetdeurhu/",s=`${t.endsWith("/")?t.slice(0,-1):t}/u/${encodeURIComponent(i)}`;window.history.pushState(null,"",s),window.dispatchEvent(new PopStateEvent("popstate"))}})}),k.jsx("div",{className:"urhu-overlayTop urhu-overlayTop--belowTitle",children:k.jsxs("div",{className:"urhu-glass",children:[k.jsx("p",{className:"urhu-p",children:"a digital footprint: literature, code, design, and small worlds. this site is a constellation where things link, drift, and return."}),k.jsx("p",{className:"urhu-p urhu-p--dim",children:"some rooms are public. some live backstage."})]})})]})}const X3="/lecarnetdeurhu/assets/backstage-cover-BiVcsWRZ.mp4",K3="/lecarnetdeurhu/assets/barcode-CllYGwxu.png",$3="smanseeratsinghgill21@gmail.com";function Z3(){const[i,t]=gt.useState(null),[e,s]=gt.useState(!0),[o,u]=gt.useState(!1),[c,d]=gt.useState([]),[p,g]=gt.useState(""),[_,T]=gt.useState(""),[w,S]=gt.useState(""),[D,O]=gt.useState(""),[x,z]=gt.useState([]),[J,K]=gt.useState(!1),[q,ut]=gt.useState(()=>new Date),ht="/lecarnetdeurhu/",I=()=>{window.location.href=ht};gt.useEffect(()=>lO(lg,M=>{t(M),s(!1)}),[]);const R=async()=>{try{const at=new Vi;await NO(lg,at)}catch(at){console.error("GitHub sign-in failed",at),alert("couldnt open the backstage door (check console).")}},C=()=>{uO(lg).catch(at=>console.error("sign-out error",at))},L=i&&i.email===$3;gt.useEffect(()=>{u(!1);const at=setTimeout(()=>u(!0),400);return()=>clearTimeout(at)},[e,i,L]);const V=`win-dialog ${o?"win-dialog--visible":""}`;gt.useEffect(()=>{if(!L)return;const at=setInterval(()=>ut(new Date),1e3);return()=>clearInterval(at)},[L]);const B=String(q.getHours()).padStart(2,"0"),N=String(q.getMinutes()).padStart(2,"0"),G=q.toLocaleDateString("en-US",{month:"short",day:"2-digit",year:"numeric"});gt.useEffect(()=>{if(!L)return;const at=sf(Ui(ai,"messages"),Ug("createdAt","desc"),Lg(200));return Pg(at,$=>{const lt=$.docs.map(ct=>({id:ct.id,...ct.data()}));d(lt)},$=>{console.error("error loading messages",$)})},[L]);const mt=async at=>{at.preventDefault();const M=p.trim();if(M)try{await Vh(Ui(ai,"quotes"),{text:M,active:!0,createdAt:kh()}),g("")}catch($){console.error("error saving quote",$),alert("couldnt save quote (see console).")}},P=async at=>{at.preventDefault();const M=_.trim();if(M)try{await Vh(Ui(ai,"poems"),{folder:w||"default",text:M,createdAt:kh()}),T(""),S("")}catch($){console.error("error saving poem/letter",$),alert("couldnt save poem (see console).")}},H=at=>{const M=Array.from(at.target.files||[]);z(M)},it=async at=>{if(at.preventDefault(),!(!D||x.length===0))try{K(!0);for(const M of x){const $=`postcards/${D}/${Date.now()}-${M.name}`,lt=o1(P1,$);await gD(lt,M);const ct=await a1(lt);await Vh(Ui(ai,"postcardImages"),{board:D,url:ct,storagePath:$,createdAt:kh()})}O(""),z([]),at.target&&at.target.reset&&at.target.reset()}catch(M){console.error("error uploading images",M),alert("image upload failed (see console).")}finally{K(!1)}},ft=at=>{if(!["today","cafe","moon","urhu"].includes(at))return;const $=new URLSearchParams;$.set("page",at),window.location.href=`${ht}?${$.toString()}`};return e?k.jsxs("div",{className:"backstage-root backstage-root--gate",children:[k.jsx("div",{className:"backstage-overlay"}),k.jsxs("div",{className:`${V}`,children:[k.jsx("div",{className:"win-titlebar",children:k.jsx("span",{className:"win-title",children:"checking identity"})}),k.jsx("div",{className:"win-body win-body--center",children:k.jsx("div",{className:"win-spinner"})})]})]}):i?L?k.jsxs("div",{className:"backstage-root backstage-root--owner",children:[k.jsx("video",{className:"backstage-video",autoPlay:!0,muted:!0,loop:!0,playsInline:!0,src:X3}),k.jsxs("div",{className:"backstage-owner-shell",children:[k.jsxs("section",{className:"owner-col owner-col--meta",children:[k.jsxs("div",{className:"owner-clock-block",children:[k.jsxs("div",{className:"owner-time",children:[k.jsxs("span",{className:"owner-time-hm",children:[B,":",N]}),k.jsx("span",{className:"owner-time-label"})]}),k.jsx("p",{className:"owner-date",children:G})]}),k.jsx("div",{className:"owner-barcode-block",children:k.jsx("img",{src:K3,alt:"barcode",className:"owner-barcode"})}),k.jsxs("div",{className:"owner-tracklist",children:[k.jsx("p",{className:"owner-tracklist-label",children:"track list"}),k.jsxs("ol",{children:[k.jsx("li",{onClick:()=>ft("today"),children:"today"}),k.jsx("li",{onClick:()=>ft("cafe"),children:"caf"}),k.jsx("li",{onClick:()=>ft("moon"),children:"moon"}),k.jsx("li",{onClick:()=>ft("urhu"),children:"urhu"})]})]}),k.jsx("button",{className:"owner-btn owner-btn--primary owner-signout-btn",onClick:C,children:"sign out"})]}),k.jsx("section",{className:"owner-col owner-col--uploads",children:k.jsxs("div",{className:"owner-col2-top",children:[k.jsxs("form",{className:"owner-panel owner-panel--images",onSubmit:it,children:[k.jsx("h2",{className:"owner-panel-title",children:"postcard images"}),k.jsx("p",{className:"owner-panel-caption",children:"choose a board and drop files. they'll float to the moon."}),k.jsx("div",{className:"owner-field-row",children:k.jsx("input",{type:"text",className:"owner-input",placeholder:"board / folder name",value:D,onChange:at=>O(at.target.value)})}),k.jsxs("div",{className:"owner-file-row",children:[k.jsxs("label",{className:"file-input-faux",children:[k.jsx("span",{children:"choose images"}),k.jsx("input",{type:"file",multiple:!0,onChange:H})]}),k.jsx("span",{className:"file-input-hint",children:x.length===0?"no files selected":`${x.length} file${x.length>1?"s":""} ready`})]}),k.jsxs("div",{className:"owner-panel-footer",children:[k.jsx("button",{type:"submit",className:"owner-btn owner-btn--primary",disabled:J,children:J?"uploading":"upload"}),k.jsx("button",{type:"button",className:"owner-btn owner-btn--ghost",onClick:()=>alert("edit view coming in a later version."),children:"edit boards"})]})]}),k.jsxs("form",{className:"owner-panel owner-panel--poems",onSubmit:P,children:[k.jsx("h2",{className:"owner-panel-title",children:"letters / poems"}),k.jsx("p",{className:"owner-panel-caption",children:"drafts for the letters page. folder acts like an album."}),k.jsx("div",{className:"owner-field-row",children:k.jsx("input",{type:"text",className:"owner-input owner-input--small",placeholder:"folder (optional)",value:w,onChange:at=>S(at.target.value)})}),k.jsx("div",{className:"owner-field-row",children:k.jsx("textarea",{className:"owner-textarea",placeholder:"poem, letter, fragment",value:_,onChange:at=>T(at.target.value)})}),k.jsxs("div",{className:"owner-panel-footer",children:[k.jsx("button",{type:"submit",className:"owner-btn owner-btn--primary",children:"save draft"}),k.jsx("button",{type:"button",className:"owner-btn owner-btn--ghost",onClick:()=>alert("edit / delete drafts comes in a later version."),children:"edit drafts"})]})]})]})}),k.jsxs("section",{className:"owner-col owner-col--right",children:[k.jsxs("form",{className:"owner-panel owner-panel--quotes",onSubmit:mt,children:[k.jsx("h2",{className:"owner-panel-title",children:"ticker quotes"}),k.jsx("p",{className:"owner-panel-caption",children:"lines that cycle in the corner of the front page."}),k.jsx("div",{className:"owner-field-row",children:k.jsx("textarea",{className:"owner-textarea owner-textarea--compact",placeholder:"type a line and send it into orbit",value:p,onChange:at=>g(at.target.value)})}),k.jsxs("div",{className:"owner-panel-footer",children:[k.jsx("button",{type:"submit",className:"owner-btn owner-btn--primary",children:"queue quote"}),k.jsx("button",{type:"button",className:"owner-btn owner-btn--ghost",onClick:()=>alert("quote management table is a future version."),children:"edit quotes"})]})]}),k.jsxs("header",{className:"owner-section-header owner-section-header--right",children:[k.jsx("span",{className:"owner-section-label",children:"messages to check"}),k.jsx("span",{className:"owner-section-sub",children:"private log from the note card"})]}),k.jsx("div",{className:"messages-reel",children:c.length===0?k.jsx("p",{className:"messages-empty",children:"no messages archived yet. the reel waits for first frame."}):k.jsx("ul",{className:"messages-list",children:c.map(at=>k.jsxs("li",{className:"message-frame",children:[k.jsx("p",{className:"message-text",children:at.text}),at.createdAt&&k.jsx("p",{className:"message-meta",children:at.createdAt.toDate?at.createdAt.toDate().toLocaleString("en-CA",{month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit"}):""})]},at.id))})})]})]})]}):k.jsxs("div",{className:"backstage-root backstage-root--gate",children:[k.jsx("div",{className:"backstage-overlay"}),k.jsxs("div",{className:V,children:[k.jsx("div",{className:"win-titlebar",children:k.jsx("span",{className:"win-title",children:"access notice"})}),k.jsxs("div",{className:"win-body",children:[k.jsxs("p",{className:"win-message",children:["hi ",i.displayName||i.email,". this backstage room only unlocks for ",k.jsx("span",{className:"win-highlight",children:"urhu"}),"."]}),k.jsxs("div",{className:"win-buttons",children:[k.jsx("button",{className:"win-btn win-btn--primary",onClick:C,children:"switch github account"}),k.jsx("button",{className:"win-btn",onClick:I,children:"go back home"})]})]})]})]}):k.jsxs("div",{className:"backstage-root backstage-root--gate",children:[k.jsx("div",{className:"backstage-overlay"}),k.jsxs("div",{className:V,children:[k.jsx("div",{className:"win-titlebar",children:k.jsx("span",{className:"win-title",children:"fill in the blank!"})}),k.jsxs("div",{className:"win-body",children:[k.jsxs("div",{className:"win-row",children:[k.jsx("div",{className:"win-icon",children:"?"}),k.jsxs("div",{className:"win-text-block",children:[k.jsx("p",{className:"win-question",children:"my name in this corner is"}),k.jsx("p",{className:"win-blank",children:"urhu|"}),k.jsx("p",{className:"win-sub",children:"only the keeper of this little internet room can continue."})]})]}),k.jsxs("div",{className:"win-buttons",children:[k.jsx("button",{className:"win-btn win-btn--primary",onClick:R,children:"yes, that's me"}),k.jsx("button",{className:"win-btn",onClick:I,children:"not today"})]})]})]})]})}const J3="modulepreload",W3=function(i){return"/lecarnetdeurhu/"+i},ew={},nw=function(t,e,s){let o=Promise.resolve();if(e&&e.length>0){let p=function(g){return Promise.all(g.map(_=>Promise.resolve(_).then(T=>({status:"fulfilled",value:T}),T=>({status:"rejected",reason:T}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=c?.nonce||c?.getAttribute("nonce");o=p(e.map(g=>{if(g=W3(g),g in ew)return;ew[g]=!0;const _=g.endsWith(".css"),T=_?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${T}`))return;const w=document.createElement("link");if(w.rel=_?"stylesheet":J3,_||(w.as="script"),w.crossOrigin="",w.href=g,d&&w.setAttribute("nonce",d),document.head.appendChild(w),_)return new Promise((S,D)=>{w.addEventListener("load",S),w.addEventListener("error",()=>D(new Error(`Unable to preload CSS for ${g}`)))})}))}function u(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return o.then(c=>{for(const d of c||[])d.status==="rejected"&&u(d.reason);return t().catch(u)})};function db({title:i,subtitle:t,threads:e=[],onBack:s,onOpenThread:o,children:u}){return k.jsxs("section",{className:"nodewrap",children:[k.jsxs("header",{className:"nodehead",children:[k.jsx("button",{className:"nodeback",onClick:s,children:" back to web"}),k.jsxs("div",{className:"nodetitles",children:[k.jsx("div",{className:"nodetitle",children:i}),!!t&&k.jsx("div",{className:"nodesub",children:t})]})]}),k.jsxs("div",{className:"nodeglass nodeempty",children:[k.jsx("span",{children:"empty for now. add "}),k.jsx("span",{className:"nodechip",children:"content"}),k.jsx("span",{children:" in Firestore."})]}),!!e?.length&&k.jsxs("div",{className:"nodeglass nodethreads",children:[k.jsx("div",{className:"nodethreadsLabel",children:"THREADS"}),k.jsx("div",{className:"nodethreadsRow",children:e.map(c=>k.jsx("button",{className:"nodetag",onClick:()=>o?.(c.slug),title:c.title,children:c.title},c.id))})]}),k.jsx("main",{className:"nodecontent",children:u})]})}const tk=Object.freeze(Object.defineProperty({__proto__:null,default:db},Symbol.toStringTag,{value:"Module"})),ek=Object.assign({"./NodeLayout.jsx":()=>nw(()=>Promise.resolve().then(()=>tk),void 0),"./learning.jsx":()=>nw(()=>import("./learning-B75mFfni.js"),__vite__mapDeps([0,1]))});function iw(i){return String(i).toLowerCase().replace(/[^a-z0-9_]/g,"_")}function nk({slug:i,onBack:t,onNavigate:e}){const[s,o]=gt.useState(null),[u,c]=gt.useState(new Map),[d,p]=gt.useState(null);gt.useEffect(()=>{let w=!1;return(async()=>{try{const S=await Hp(Ui(ai,"urhuNodes"));if(w)return;const D=new Map;S.docs.forEach(O=>{const x=O.data(),z=O.id;D.set(z,{id:z,title:x.title??z,slug:x.slug??z,references:Array.isArray(x.references)?x.references:[]})}),c(D)}catch(S){console.error("NodePage: failed to fetch urhuNodes map",S)}})(),()=>{w=!0}},[]),gt.useEffect(()=>{let w=!1;return(async()=>{try{const S=UA(ai,"urhuNodes",i),D=await tx(S);if(w)return;if(!D.exists()){o({id:i,title:i,slug:i,references:[]});return}const O=D.data();o({id:D.id,title:O.title??D.id,slug:O.slug??D.id,references:Array.isArray(O.references)?O.references:[]})}catch(S){console.error("NodePage: failed to fetch node",S),o({id:i,title:i,slug:i,references:[]})}})(),()=>{w=!0}},[i]),gt.useEffect(()=>{let w=!1;const D=`./${iw(i)}.jsx`,O=ek[D];if(!O){p(null);return}return(async()=>{try{const x=await O();if(w)return;p(()=>x.default)}catch(x){console.error("NodePage: failed to load page module",D,x),p(null)}})(),()=>{w=!0}},[i]);const g=gt.useMemo(()=>(s?.references??[]).map(S=>u.get(S)||{id:S,title:S,slug:S}).slice(0,40),[s,u]),_=w=>{e?.(w)};if(!s)return null;const T={nodeTitle:s.title,nodeSlug:s.slug,threads:g,onBack:t,onOpenThread:_};return d?k.jsx(d,{...T}):k.jsx(db,{title:s.title,subtitle:s.slug,threads:g,onBack:t,onOpenThread:_,children:k.jsxs("div",{className:"nodefallback",children:["create a custom page file:",k.jsx("br",{}),k.jsxs("code",{children:["src/pages/u/",iw(i),".jsx"]})]})})}const ms=[{key:"urhu",Component:Q3},{key:"moon",Component:NM},{key:"cafe",Component:z1},{key:"today",Component:CM}];function ik(i){if(!i||!ms.some(o=>o.key===i))return ms;const e=ms.find(o=>o.key===i);return[...ms.filter(o=>o.key!==i),e]}function rk(){const i="/lecarnetdeurhu/",t=i.endsWith("/")?i.slice(0,-1):i,e=new URLSearchParams(window.location.search),s=e.get("p"),o=e.get("q");if(s!=null){const p=o?`?${o}`:"",g=`${t}${s}${p}${window.location.hash||""}`;window.history.replaceState(null,"",g)}let c=window.location.pathname||"/";t!=="/"&&c.startsWith(t)&&(c=c.slice(t.length),c.startsWith("/")||(c="/"+c));const d=new URLSearchParams(window.location.search);return{route:c,params:d,baseNoSlash:t}}function sk(i){return(t,e=null)=>{const s="/lecarnetdeurhu/",o=s.endsWith("/")?s.slice(0,-1):s,u=e&&Object.keys(e).length?"?"+new URLSearchParams(e).toString():"",c=`${o}${t}${u}`;window.history.pushState(null,"",c),i(d=>d+1)}}function ak(){const[i,t]=gt.useState(0),e=gt.useMemo(()=>sk(t),[]);gt.useEffect(()=>{const O=()=>t(x=>x+1);return window.addEventListener("popstate",O),()=>window.removeEventListener("popstate",O)},[]);const{route:s,params:o}=rk(),u=s==="/_edit"||s==="/_edit/",c=s.startsWith("/u/"),d=o.get("page"),p=gt.useMemo(()=>ik(d),[d]),g=ms[ms.length-1].key,[_,T]=gt.useState(d&&ms.some(O=>O.key===d)?d:g),[w,S]=gt.useState(0),D=gt.useMemo(()=>p.map(O=>O.key==="cafe"?{...O,Component:()=>k.jsx(z1,{reseedNonce:w})}:O),[p,w]);if(u)return k.jsx("div",{className:"app",children:k.jsx(Z3,{})});if(c){const O=decodeURIComponent(s.replace("/u/","").replaceAll("/",""));return k.jsx("div",{className:"app",children:k.jsx(nk,{slug:O,onBack:()=>e("/",{page:"urhu"}),onNavigate:x=>e(`/u/${encodeURIComponent(x)}`)})})}return k.jsxs("div",{className:"app",children:[k.jsx(iR,{pages:D,onActiveChange:T,onLabelClick:O=>{O==="cafe"&&_==="cafe"&&S(x=>x+1)}}),k.jsx(IM,{activePage:_})]})}WS.createRoot(document.getElementById("root")).render(k.jsx(gt.StrictMode,{children:k.jsx(ak,{})}));export{db as N,k as j};
