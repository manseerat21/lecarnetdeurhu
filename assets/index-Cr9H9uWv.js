(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var jd={exports:{}},Al={};var dv;function Tb(){if(dv)return Al;dv=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:s,type:r,key:f,ref:o!==void 0?o:null,props:u}}return Al.Fragment=t,Al.jsx=n,Al.jsxs=n,Al}var mv;function Ab(){return mv||(mv=1,jd.exports=Tb()),jd.exports}var C=Ab(),Bd={exports:{}},At={};var pv;function Sb(){if(pv)return At;pv=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),N=Symbol.iterator;function B(O){return O===null||typeof O!="object"?null:(O=N&&O[N]||O["@@iterator"],typeof O=="function"?O:null)}var F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,J={};function at(O,G,et){this.props=O,this.context=G,this.refs=J,this.updater=et||F}at.prototype.isReactComponent={},at.prototype.setState=function(O,G){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,G,"setState")},at.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function ht(){}ht.prototype=at.prototype;function lt(O,G,et){this.props=O,this.context=G,this.refs=J,this.updater=et||F}var yt=lt.prototype=new ht;yt.constructor=lt,W(yt,at.prototype),yt.isPureReactComponent=!0;var jt=Array.isArray;function Ct(){}var D={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function I(O,G,et){var it=et.ref;return{$$typeof:s,type:O,key:G,ref:it!==void 0?it:null,props:et}}function x(O,G){return I(O.type,G,O.props)}function V(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function k(O){var G={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(et){return G[et]})}var w=/\/+/g;function te(O,G){return typeof O=="object"&&O!==null&&O.key!=null?k(""+O.key):G.toString(36)}function de(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Ct,Ct):(O.status="pending",O.then(function(G){O.status==="pending"&&(O.status="fulfilled",O.value=G)},function(G){O.status==="pending"&&(O.status="rejected",O.reason=G)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function Q(O,G,et,it,Et){var Rt=typeof O;(Rt==="undefined"||Rt==="boolean")&&(O=null);var Pt=!1;if(O===null)Pt=!0;else switch(Rt){case"bigint":case"string":case"number":Pt=!0;break;case"object":switch(O.$$typeof){case s:case t:Pt=!0;break;case T:return Pt=O._init,Q(Pt(O._payload),G,et,it,Et)}}if(Pt)return Et=Et(O),Pt=it===""?"."+te(O,0):it,jt(Et)?(et="",Pt!=null&&(et=Pt.replace(w,"$&/")+"/"),Q(Et,G,et,"",function(cr){return cr})):Et!=null&&(V(Et)&&(Et=x(Et,et+(Et.key==null||O&&O.key===Et.key?"":(""+Et.key).replace(w,"$&/")+"/")+Pt)),G.push(Et)),1;Pt=0;var Ve=it===""?".":it+":";if(jt(O))for(var re=0;re<O.length;re++)it=O[re],Rt=Ve+te(it,re),Pt+=Q(it,G,et,Rt,Et);else if(re=B(O),typeof re=="function")for(O=re.call(O),re=0;!(it=O.next()).done;)it=it.value,Rt=Ve+te(it,re++),Pt+=Q(it,G,et,Rt,Et);else if(Rt==="object"){if(typeof O.then=="function")return Q(de(O),G,et,it,Et);throw G=String(O),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return Pt}function nt(O,G,et){if(O==null)return O;var it=[],Et=0;return Q(O,it,"","",function(Rt){return G.call(et,Rt,Et++)}),it}function ft(O){if(O._status===-1){var G=O._result;G=G(),G.then(function(et){(O._status===0||O._status===-1)&&(O._status=1,O._result=et)},function(et){(O._status===0||O._status===-1)&&(O._status=2,O._result=et)}),O._status===-1&&(O._status=0,O._result=G)}if(O._status===1)return O._result.default;throw O._result}var Nt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},rt={map:nt,forEach:function(O,G,et){nt(O,function(){G.apply(this,arguments)},et)},count:function(O){var G=0;return nt(O,function(){G++}),G},toArray:function(O){return nt(O,function(G){return G})||[]},only:function(O){if(!V(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return At.Activity=S,At.Children=rt,At.Component=at,At.Fragment=n,At.Profiler=o,At.PureComponent=lt,At.StrictMode=r,At.Suspense=g,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,At.__COMPILER_RUNTIME={__proto__:null,c:function(O){return D.H.useMemoCache(O)}},At.cache=function(O){return function(){return O.apply(null,arguments)}},At.cacheSignal=function(){return null},At.cloneElement=function(O,G,et){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var it=W({},O.props),Et=O.key;if(G!=null)for(Rt in G.key!==void 0&&(Et=""+G.key),G)!b.call(G,Rt)||Rt==="key"||Rt==="__self"||Rt==="__source"||Rt==="ref"&&G.ref===void 0||(it[Rt]=G[Rt]);var Rt=arguments.length-2;if(Rt===1)it.children=et;else if(1<Rt){for(var Pt=Array(Rt),Ve=0;Ve<Rt;Ve++)Pt[Ve]=arguments[Ve+2];it.children=Pt}return I(O.type,Et,it)},At.createContext=function(O){return O={$$typeof:f,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},At.createElement=function(O,G,et){var it,Et={},Rt=null;if(G!=null)for(it in G.key!==void 0&&(Rt=""+G.key),G)b.call(G,it)&&it!=="key"&&it!=="__self"&&it!=="__source"&&(Et[it]=G[it]);var Pt=arguments.length-2;if(Pt===1)Et.children=et;else if(1<Pt){for(var Ve=Array(Pt),re=0;re<Pt;re++)Ve[re]=arguments[re+2];Et.children=Ve}if(O&&O.defaultProps)for(it in Pt=O.defaultProps,Pt)Et[it]===void 0&&(Et[it]=Pt[it]);return I(O,Rt,Et)},At.createRef=function(){return{current:null}},At.forwardRef=function(O){return{$$typeof:p,render:O}},At.isValidElement=V,At.lazy=function(O){return{$$typeof:T,_payload:{_status:-1,_result:O},_init:ft}},At.memo=function(O,G){return{$$typeof:y,type:O,compare:G===void 0?null:G}},At.startTransition=function(O){var G=D.T,et={};D.T=et;try{var it=O(),Et=D.S;Et!==null&&Et(et,it),typeof it=="object"&&it!==null&&typeof it.then=="function"&&it.then(Ct,Nt)}catch(Rt){Nt(Rt)}finally{G!==null&&et.types!==null&&(G.types=et.types),D.T=G}},At.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},At.use=function(O){return D.H.use(O)},At.useActionState=function(O,G,et){return D.H.useActionState(O,G,et)},At.useCallback=function(O,G){return D.H.useCallback(O,G)},At.useContext=function(O){return D.H.useContext(O)},At.useDebugValue=function(){},At.useDeferredValue=function(O,G){return D.H.useDeferredValue(O,G)},At.useEffect=function(O,G){return D.H.useEffect(O,G)},At.useEffectEvent=function(O){return D.H.useEffectEvent(O)},At.useId=function(){return D.H.useId()},At.useImperativeHandle=function(O,G,et){return D.H.useImperativeHandle(O,G,et)},At.useInsertionEffect=function(O,G){return D.H.useInsertionEffect(O,G)},At.useLayoutEffect=function(O,G){return D.H.useLayoutEffect(O,G)},At.useMemo=function(O,G){return D.H.useMemo(O,G)},At.useOptimistic=function(O,G){return D.H.useOptimistic(O,G)},At.useReducer=function(O,G,et){return D.H.useReducer(O,G,et)},At.useRef=function(O){return D.H.useRef(O)},At.useState=function(O){return D.H.useState(O)},At.useSyncExternalStore=function(O,G,et){return D.H.useSyncExternalStore(O,G,et)},At.useTransition=function(){return D.H.useTransition()},At.version="19.2.3",At}var gv;function Pm(){return gv||(gv=1,Bd.exports=Sb()),Bd.exports}var mt=Pm(),qd={exports:{}},Sl={},Hd={exports:{}},Fd={};var yv;function bb(){return yv||(yv=1,(function(s){function t(Q,nt){var ft=Q.length;Q.push(nt);t:for(;0<ft;){var Nt=ft-1>>>1,rt=Q[Nt];if(0<o(rt,nt))Q[Nt]=nt,Q[ft]=rt,ft=Nt;else break t}}function n(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var nt=Q[0],ft=Q.pop();if(ft!==nt){Q[0]=ft;t:for(var Nt=0,rt=Q.length,O=rt>>>1;Nt<O;){var G=2*(Nt+1)-1,et=Q[G],it=G+1,Et=Q[it];if(0>o(et,ft))it<rt&&0>o(Et,et)?(Q[Nt]=Et,Q[it]=ft,Nt=it):(Q[Nt]=et,Q[G]=ft,Nt=G);else if(it<rt&&0>o(Et,ft))Q[Nt]=Et,Q[it]=ft,Nt=it;else break t}}return nt}function o(Q,nt){var ft=Q.sortIndex-nt.sortIndex;return ft!==0?ft:Q.id-nt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var f=Date,p=f.now();s.unstable_now=function(){return f.now()-p}}var g=[],y=[],T=1,S=null,N=3,B=!1,F=!1,W=!1,J=!1,at=typeof setTimeout=="function"?setTimeout:null,ht=typeof clearTimeout=="function"?clearTimeout:null,lt=typeof setImmediate<"u"?setImmediate:null;function yt(Q){for(var nt=n(y);nt!==null;){if(nt.callback===null)r(y);else if(nt.startTime<=Q)r(y),nt.sortIndex=nt.expirationTime,t(g,nt);else break;nt=n(y)}}function jt(Q){if(W=!1,yt(Q),!F)if(n(g)!==null)F=!0,Ct||(Ct=!0,k());else{var nt=n(y);nt!==null&&de(jt,nt.startTime-Q)}}var Ct=!1,D=-1,b=5,I=-1;function x(){return J?!0:!(s.unstable_now()-I<b)}function V(){if(J=!1,Ct){var Q=s.unstable_now();I=Q;var nt=!0;try{t:{F=!1,W&&(W=!1,ht(D),D=-1),B=!0;var ft=N;try{e:{for(yt(Q),S=n(g);S!==null&&!(S.expirationTime>Q&&x());){var Nt=S.callback;if(typeof Nt=="function"){S.callback=null,N=S.priorityLevel;var rt=Nt(S.expirationTime<=Q);if(Q=s.unstable_now(),typeof rt=="function"){S.callback=rt,yt(Q),nt=!0;break e}S===n(g)&&r(g),yt(Q)}else r(g);S=n(g)}if(S!==null)nt=!0;else{var O=n(y);O!==null&&de(jt,O.startTime-Q),nt=!1}}break t}finally{S=null,N=ft,B=!1}nt=void 0}}finally{nt?k():Ct=!1}}}var k;if(typeof lt=="function")k=function(){lt(V)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,te=w.port2;w.port1.onmessage=V,k=function(){te.postMessage(null)}}else k=function(){at(V,0)};function de(Q,nt){D=at(function(){Q(s.unstable_now())},nt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(Q){Q.callback=null},s.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<Q?Math.floor(1e3/Q):5},s.unstable_getCurrentPriorityLevel=function(){return N},s.unstable_next=function(Q){switch(N){case 1:case 2:case 3:var nt=3;break;default:nt=N}var ft=N;N=nt;try{return Q()}finally{N=ft}},s.unstable_requestPaint=function(){J=!0},s.unstable_runWithPriority=function(Q,nt){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ft=N;N=Q;try{return nt()}finally{N=ft}},s.unstable_scheduleCallback=function(Q,nt,ft){var Nt=s.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?Nt+ft:Nt):ft=Nt,Q){case 1:var rt=-1;break;case 2:rt=250;break;case 5:rt=1073741823;break;case 4:rt=1e4;break;default:rt=5e3}return rt=ft+rt,Q={id:T++,callback:nt,priorityLevel:Q,startTime:ft,expirationTime:rt,sortIndex:-1},ft>Nt?(Q.sortIndex=ft,t(y,Q),n(g)===null&&Q===n(y)&&(W?(ht(D),D=-1):W=!0,de(jt,ft-Nt))):(Q.sortIndex=rt,t(g,Q),F||B||(F=!0,Ct||(Ct=!0,k()))),Q},s.unstable_shouldYield=x,s.unstable_wrapCallback=function(Q){var nt=N;return function(){var ft=N;N=nt;try{return Q.apply(this,arguments)}finally{N=ft}}}})(Fd)),Fd}var _v;function wb(){return _v||(_v=1,Hd.exports=bb()),Hd.exports}var Gd={exports:{}},$e={};var vv;function Rb(){if(vv)return $e;vv=1;var s=Pm();function t(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,y,T){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:g,containerInfo:y,implementation:T}}var f=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return $e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,$e.createPortal=function(g,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return u(g,y,null,T)},$e.flushSync=function(g){var y=f.T,T=r.p;try{if(f.T=null,r.p=2,g)return g()}finally{f.T=y,r.p=T,r.d.f()}},$e.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(g,y))},$e.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},$e.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var T=y.as,S=p(T,y.crossOrigin),N=typeof y.integrity=="string"?y.integrity:void 0,B=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?r.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:N,fetchPriority:B}):T==="script"&&r.d.X(g,{crossOrigin:S,integrity:N,fetchPriority:B,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},$e.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=p(y.as,y.crossOrigin);r.d.M(g,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(g)},$e.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,S=p(T,y.crossOrigin);r.d.L(g,T,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},$e.preloadModule=function(g,y){if(typeof g=="string")if(y){var T=p(y.as,y.crossOrigin);r.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(g)},$e.requestFormReset=function(g){r.d.r(g)},$e.unstable_batchedUpdates=function(g,y){return g(y)},$e.useFormState=function(g,y,T){return f.H.useFormState(g,y,T)},$e.useFormStatus=function(){return f.H.useHostTransitionStatus()},$e.version="19.2.3",$e}var Ev;function Ib(){if(Ev)return Gd.exports;Ev=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Gd.exports=Rb(),Gd.exports}var Tv;function Cb(){if(Tv)return Sl;Tv=1;var s=wb(),t=Pm(),n=Ib();function r(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function p(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function g(e){if(u(e)!==e)throw Error(r(188))}function y(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(r(188));return i!==e?null:e}for(var a=e,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return g(h),e;if(d===l)return g(h),i;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,E=h.child;E;){if(E===a){_=!0,a=h,l=d;break}if(E===l){_=!0,l=h,a=d;break}E=E.sibling}if(!_){for(E=d.child;E;){if(E===a){_=!0,a=d,l=h;break}if(E===l){_=!0,l=d,a=h;break}E=E.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:i}function T(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=T(e),i!==null)return i;e=e.sibling}return null}var S=Object.assign,N=Symbol.for("react.element"),B=Symbol.for("react.transitional.element"),F=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),at=Symbol.for("react.profiler"),ht=Symbol.for("react.consumer"),lt=Symbol.for("react.context"),yt=Symbol.for("react.forward_ref"),jt=Symbol.for("react.suspense"),Ct=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=V&&e[V]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function te(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case W:return"Fragment";case at:return"Profiler";case J:return"StrictMode";case jt:return"Suspense";case Ct:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case F:return"Portal";case lt:return e.displayName||"Context";case ht:return(e._context.displayName||"Context")+".Consumer";case yt:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case D:return i=e.displayName||null,i!==null?i:te(e.type)||"Memo";case b:i=e._payload,e=e._init;try{return te(e(i))}catch{}}return null}var de=Array.isArray,Q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},Nt=[],rt=-1;function O(e){return{current:e}}function G(e){0>rt||(e.current=Nt[rt],Nt[rt]=null,rt--)}function et(e,i){rt++,Nt[rt]=e.current,e.current=i}var it=O(null),Et=O(null),Rt=O(null),Pt=O(null);function Ve(e,i){switch(et(Rt,i),et(Et,e),et(it,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?k_(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=k_(i),e=L_(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}G(it),et(it,e)}function re(){G(it),G(Et),G(Rt)}function cr(e){e.memoizedState!==null&&et(Pt,e);var i=it.current,a=L_(i,e.type);i!==a&&(et(Et,e),et(it,a))}function aa(e){Et.current===e&&(G(it),G(Et)),Pt.current===e&&(G(Pt),_l._currentValue=ft)}var oa,la;function ni(e){if(oa===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);oa=i&&i[1]||"",la=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+oa+e+la}var _o=!1;function hr(e,i){if(!e||_o)return"";_o=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(H){var j=H}Reflect.construct(e,[],X)}else{try{X.call()}catch(H){j=H}e.call(X.prototype)}}else{try{throw Error()}catch(H){j=H}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(H){if(H&&j&&typeof H.stack=="string")return[H.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],E=d[1];if(_&&E){var R=_.split(`
`),z=E.split(`
`);for(h=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===R.length||h===z.length)for(l=R.length-1,h=z.length-1;1<=l&&0<=h&&R[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(R[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||R[l]!==z[h]){var K=`
`+R[l].replace(" at new "," at ");return e.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",e.displayName)),K}while(1<=l&&0<=h);break}}}finally{_o=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ni(a):""}function vo(e,i){switch(e.tag){case 26:case 27:case 5:return ni(e.type);case 16:return ni("Lazy");case 13:return e.child!==i&&i!==null?ni("Suspense Fallback"):ni("Suspense");case 19:return ni("SuspenseList");case 0:case 15:return hr(e.type,!1);case 11:return hr(e.type.render,!1);case 1:return hr(e.type,!0);case 31:return ni("Activity");default:return""}}function Eo(e){try{var i="",a=null;do i+=vo(e,a),a=e,e=e.return;while(e);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ve=Object.prototype.hasOwnProperty,Me=s.unstable_scheduleCallback,us=s.unstable_cancelCallback,Bh=s.unstable_shouldYield,iu=s.unstable_requestPaint,en=s.unstable_now,fr=s.unstable_getCurrentPriorityLevel,To=s.unstable_ImmediatePriority,Ao=s.unstable_UserBlockingPriority,cs=s.unstable_NormalPriority,qh=s.unstable_LowPriority,su=s.unstable_IdlePriority,ru=s.log,au=s.unstable_setDisableYieldValue,jn=null,Be=null;function bn(e){if(typeof ru=="function"&&au(e),Be&&typeof Be.setStrictMode=="function")try{Be.setStrictMode(jn,e)}catch{}}var me=Math.clz32?Math.clz32:lu,ou=Math.log,ua=Math.LN2;function lu(e){return e>>>=0,e===0?32:31-(ou(e)/ua|0)|0}var ii=256,dr=262144,Ee=4194304;function si(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ri(e,i,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var E=l&134217727;return E!==0?(l=E&~d,l!==0?h=si(l):(_&=E,_!==0?h=si(_):a||(a=E&~e,a!==0&&(h=si(a))))):(E=l&~d,E!==0?h=si(E):_!==0?h=si(_):a||(a=l&~e,a!==0&&(h=si(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Bn(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function Hh(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uu(){var e=Ee;return Ee<<=1,(Ee&62914560)===0&&(Ee=4194304),e}function ai(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function mr(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Fh(e,i,a,l,h,d){var _=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,z=e.hiddenUpdates;for(a=_&~a;0<a;){var K=31-me(a),X=1<<K;E[K]=0,R[K]=-1;var j=z[K];if(j!==null)for(z[K]=null,K=0;K<j.length;K++){var H=j[K];H!==null&&(H.lane&=-536870913)}a&=~X}l!==0&&pr(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(_&~i))}function pr(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-me(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function So(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-me(a),h=1<<l;h&i|e[l]&i&&(e[l]|=i),a&=~h}}function bo(e,i){var a=i&-i;return a=(a&42)!==0?1:gr(a),(a&(e.suspendedLanes|i))!==0?0:a}function gr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ki(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function cu(){var e=nt.p;return e!==0?e:(e=window.event,e===void 0?32:av(e.type))}function qn(e,i){var a=nt.p;try{return nt.p=e,i()}finally{nt.p=a}}var Hn=Math.random().toString(36).slice(2),Te="__reactFiber$"+Hn,Le="__reactProps$"+Hn,oi="__reactContainer$"+Hn,ca="__reactEvents$"+Hn,Gh="__reactListeners$"+Hn,hu="__reactHandles$"+Hn,fu="__reactResources$"+Hn,li="__reactMarker$"+Hn;function ha(e){delete e[Te],delete e[Le],delete e[ca],delete e[Gh],delete e[hu]}function ui(e){var i=e[Te];if(i)return i;for(var a=e.parentNode;a;){if(i=a[oi]||a[Te]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=F_(e);e!==null;){if(a=e[Te])return a;e=F_(e)}return i}e=a,a=e.parentNode}return null}function wn(e){if(e=e[Te]||e[oi]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function pn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(r(33))}function ci(e){var i=e[fu];return i||(i=e[fu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ae(e){e[li]=!0}var wo=new Set,Ro={};function hi(e,i){fi(e,i),fi(e+"Capture",i)}function fi(e,i){for(Ro[e]=i,e=0;e<i.length;e++)wo.add(i[e])}var Io=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Co={},No={};function du(e){return ve.call(No,e)?!0:ve.call(Co,e)?!1:Io.test(e)?No[e]=!0:(Co[e]=!0,!1)}function fa(e,i,a){if(du(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function gn(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function Se(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}function Pe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function hs(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Do(e,i,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(e,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Qt(e){if(!e._valueTracker){var i=hs(e)?"checked":"value";e._valueTracker=Do(e,i,""+e[i])}}function yr(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=hs(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function di(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var _r=/[\n"\\]/g;function on(e){return e.replace(_r,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function da(e,i,a,l,h,d,_,E){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),i!=null?_==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Pe(i)):e.value!==""+Pe(i)&&(e.value=""+Pe(i)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),i!=null?Oo(e,_,Pe(i)):a!=null?Oo(e,_,Pe(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Pe(E):e.removeAttribute("name")}function mu(e,i,a,l,h,d,_,E){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Qt(e);return}a=a!=null?""+Pe(a):"",i=i!=null?""+Pe(i):a,E||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=E?e.checked:!!l,e.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),Qt(e)}function Oo(e,i,a){i==="number"&&di(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function fs(e,i,a,l){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Pe(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function pu(e,i,a){if(i!=null&&(i=""+Pe(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+Pe(a):""}function ds(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(r(92));if(de(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Pe(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),Qt(e)}function ln(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var gu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vo(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||gu.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function Mo(e,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Vo(e,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Vo(e,d,i[d])}function ma(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ms=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function pa(e){return ms.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Fn(){}var xo=null;function Rn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ps=null,mi=null;function vr(e){var i=wn(e);if(i&&(e=i.stateNode)){var a=e[Le]||null;t:switch(e=i.stateNode,i.type){case"input":if(da(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+on(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var h=l[Le]||null;if(!h)throw Error(r(90));da(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&yr(l)}break t;case"textarea":pu(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&fs(e,!!a.multiple,i,!1)}}}var ga=!1;function gs(e,i,a){if(ga)return e(i,a);ga=!0;try{var l=e(i);return l}finally{if(ga=!1,(ps!==null||mi!==null)&&(cc(),ps&&(i=ps,e=mi,mi=ps=null,vr(i),e)))for(i=0;i<e.length;i++)vr(e[i])}}function Gn(e,i){var a=e.stateNode;if(a===null)return null;var l=a[Le]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Er=!1;if(In)try{var Xt={};Object.defineProperty(Xt,"passive",{get:function(){Er=!0}}),window.addEventListener("test",Xt,Xt),window.removeEventListener("test",Xt,Xt)}catch{Er=!1}var pi=null,Uo=null,Tr=null;function ko(){if(Tr)return Tr;var e,i=Uo,a=i.length,l,h="value"in pi?pi.value:pi.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var _=a-e;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return Tr=h.slice(e,1<l?1-l:void 0)}function Ar(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Li(){return!0}function Qn(){return!1}function qe(e){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(d):d[E]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Li:Qn,this.isPropagationStopped=Qn,this}return S(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Li)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Li)},persist:function(){},isPersistent:Li}),i}var Pi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gi=qe(Pi),ys=S({},Pi,{view:0,detail:0}),Lo=qe(ys),_s,ya,yi,_a=S({},ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yi&&(yi&&e.type==="mousemove"?(_s=e.screenX-yi.screenX,ya=e.screenY-yi.screenY):ya=_s=0,yi=e),_s)},movementY:function(e){return"movementY"in e?e.movementY:ya}}),Po=qe(_a),Sr=S({},_a,{dataTransfer:0}),_u=qe(Sr),vu=S({},ys,{relatedTarget:0}),br=qe(vu),zo=S({},Pi,{animationName:0,elapsedTime:0,pseudoElement:0}),Eu=qe(zo),va=S({},Pi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Tu=qe(va),Au=S({},Pi,{data:0}),_i=qe(Au),Su={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ru(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=wu[e])?!!i[e]:!1}function vs(){return Ru}var nn=S({},ys,{key:function(e){if(e.key){var i=Su[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Ar(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?bu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vs,charCode:function(e){return e.type==="keypress"?Ar(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ar(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Iu=qe(nn),Cu=S({},_a,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zi=qe(Cu),c=S({},ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vs}),m=qe(c),v=S({},Pi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=qe(v),L=S({},_a,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q=qe(L),tt=S({},Pi,{newState:0,oldState:0}),bt=qe(tt),pe=[9,13,27,32],Ht=In&&"CompositionEvent"in window,ae=null;In&&"documentMode"in document&&(ae=document.documentMode);var Cn=In&&"TextEvent"in window&&!ae,vi=In&&(!Ht||ae&&8<ae&&11>=ae),Kn=" ",Yn=!1;function wr(e,i){switch(e){case"keyup":return pe.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ea(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ta=!1;function GA(e,i){switch(e){case"compositionend":return Ea(i);case"keypress":return i.which!==32?null:(Yn=!0,Kn);case"textInput":return e=i.data,e===Kn&&Yn?null:e;default:return null}}function QA(e,i){if(Ta)return e==="compositionend"||!Ht&&wr(e,i)?(e=ko(),Tr=Uo=pi=null,Ta=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return vi&&i.locale!=="ko"?null:i.data;default:return null}}var KA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kp(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!KA[e.type]:i==="textarea"}function Yp(e,i,a,l){ps?mi?mi.push(l):mi=[l]:ps=l,i=yc(i,"onChange"),0<i.length&&(a=new gi("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var jo=null,Bo=null;function YA(e){D_(e,0)}function Nu(e){var i=pn(e);if(yr(i))return e}function Xp(e,i){if(e==="change")return i}var $p=!1;if(In){var Qh;if(In){var Kh="oninput"in document;if(!Kh){var Zp=document.createElement("div");Zp.setAttribute("oninput","return;"),Kh=typeof Zp.oninput=="function"}Qh=Kh}else Qh=!1;$p=Qh&&(!document.documentMode||9<document.documentMode)}function Jp(){jo&&(jo.detachEvent("onpropertychange",Wp),Bo=jo=null)}function Wp(e){if(e.propertyName==="value"&&Nu(Bo)){var i=[];Yp(i,Bo,e,Rn(e)),gs(YA,i)}}function XA(e,i,a){e==="focusin"?(Jp(),jo=i,Bo=a,jo.attachEvent("onpropertychange",Wp)):e==="focusout"&&Jp()}function $A(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Nu(Bo)}function ZA(e,i){if(e==="click")return Nu(i)}function JA(e,i){if(e==="input"||e==="change")return Nu(i)}function WA(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var yn=typeof Object.is=="function"?Object.is:WA;function qo(e,i){if(yn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!ve.call(i,h)||!yn(e[h],i[h]))return!1}return!0}function tg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function eg(e,i){var a=tg(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=tg(a)}}function ng(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?ng(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function ig(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=di(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=di(e.document)}return i}function Yh(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var tS=In&&"documentMode"in document&&11>=document.documentMode,Aa=null,Xh=null,Ho=null,$h=!1;function sg(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;$h||Aa==null||Aa!==di(l)||(l=Aa,"selectionStart"in l&&Yh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ho&&qo(Ho,l)||(Ho=l,l=yc(Xh,"onSelect"),0<l.length&&(i=new gi("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=Aa)))}function Rr(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var Sa={animationend:Rr("Animation","AnimationEnd"),animationiteration:Rr("Animation","AnimationIteration"),animationstart:Rr("Animation","AnimationStart"),transitionrun:Rr("Transition","TransitionRun"),transitionstart:Rr("Transition","TransitionStart"),transitioncancel:Rr("Transition","TransitionCancel"),transitionend:Rr("Transition","TransitionEnd")},Zh={},rg={};In&&(rg=document.createElement("div").style,"AnimationEvent"in window||(delete Sa.animationend.animation,delete Sa.animationiteration.animation,delete Sa.animationstart.animation),"TransitionEvent"in window||delete Sa.transitionend.transition);function Ir(e){if(Zh[e])return Zh[e];if(!Sa[e])return e;var i=Sa[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in rg)return Zh[e]=i[a];return e}var ag=Ir("animationend"),og=Ir("animationiteration"),lg=Ir("animationstart"),eS=Ir("transitionrun"),nS=Ir("transitionstart"),iS=Ir("transitioncancel"),ug=Ir("transitionend"),cg=new Map,Jh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jh.push("scrollEnd");function Xn(e,i){cg.set(e,i),hi(i,[e])}var Du=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Nn=[],ba=0,Wh=0;function Ou(){for(var e=ba,i=Wh=ba=0;i<e;){var a=Nn[i];Nn[i++]=null;var l=Nn[i];Nn[i++]=null;var h=Nn[i];Nn[i++]=null;var d=Nn[i];if(Nn[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&hg(a,h,d)}}function Vu(e,i,a,l){Nn[ba++]=e,Nn[ba++]=i,Nn[ba++]=a,Nn[ba++]=l,Wh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function tf(e,i,a,l){return Vu(e,i,a,l),Mu(e)}function Cr(e,i){return Vu(e,null,null,i),Mu(e)}function hg(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-me(a),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Mu(e){if(50<hl)throw hl=0,cd=null,Error(r(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var wa={};function sS(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(e,i,a,l){return new sS(e,i,a,l)}function ef(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ji(e,i){var a=e.alternate;return a===null?(a=_n(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function fg(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function xu(e,i,a,l,h,d){var _=0;if(l=e,typeof e=="function")ef(e)&&(_=1);else if(typeof e=="string")_=ub(e,a,it.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=_n(31,a,i,h),e.elementType=I,e.lanes=d,e;case W:return Nr(a.children,h,d,i);case J:_=8,h|=24;break;case at:return e=_n(12,a,i,h|2),e.elementType=at,e.lanes=d,e;case jt:return e=_n(13,a,i,h),e.elementType=jt,e.lanes=d,e;case Ct:return e=_n(19,a,i,h),e.elementType=Ct,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case lt:_=10;break t;case ht:_=9;break t;case yt:_=11;break t;case D:_=14;break t;case b:_=16,l=null;break t}_=29,a=Error(r(130,e===null?"null":typeof e,"")),l=null}return i=_n(_,a,i,h),i.elementType=e,i.type=l,i.lanes=d,i}function Nr(e,i,a,l){return e=_n(7,e,l,i),e.lanes=a,e}function nf(e,i,a){return e=_n(6,e,null,i),e.lanes=a,e}function dg(e){var i=_n(18,null,null,0);return i.stateNode=e,i}function sf(e,i,a){return i=_n(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var mg=new WeakMap;function Dn(e,i){if(typeof e=="object"&&e!==null){var a=mg.get(e);return a!==void 0?a:(i={value:e,source:i,stack:Eo(i)},mg.set(e,i),i)}return{value:e,source:i,stack:Eo(i)}}var Ra=[],Ia=0,Uu=null,Fo=0,On=[],Vn=0,Es=null,Ei=1,Ti="";function Bi(e,i){Ra[Ia++]=Fo,Ra[Ia++]=Uu,Uu=e,Fo=i}function pg(e,i,a){On[Vn++]=Ei,On[Vn++]=Ti,On[Vn++]=Es,Es=e;var l=Ei;e=Ti;var h=32-me(l)-1;l&=~(1<<h),a+=1;var d=32-me(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Ei=1<<32-me(i)+h|a<<h|l,Ti=d+e}else Ei=1<<d|a<<h|l,Ti=e}function rf(e){e.return!==null&&(Bi(e,1),pg(e,1,0))}function af(e){for(;e===Uu;)Uu=Ra[--Ia],Ra[Ia]=null,Fo=Ra[--Ia],Ra[Ia]=null;for(;e===Es;)Es=On[--Vn],On[Vn]=null,Ti=On[--Vn],On[Vn]=null,Ei=On[--Vn],On[Vn]=null}function gg(e,i){On[Vn++]=Ei,On[Vn++]=Ti,On[Vn++]=Es,Ei=i.id,Ti=i.overflow,Es=e}var He=null,ne=null,Lt=!1,Ts=null,Mn=!1,of=Error(r(519));function As(e){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Go(Dn(i,e)),of}function yg(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[Te]=e,i[Le]=l,a){case"dialog":Ot("cancel",i),Ot("close",i);break;case"iframe":case"object":case"embed":Ot("load",i);break;case"video":case"audio":for(a=0;a<dl.length;a++)Ot(dl[a],i);break;case"source":Ot("error",i);break;case"img":case"image":case"link":Ot("error",i),Ot("load",i);break;case"details":Ot("toggle",i);break;case"input":Ot("invalid",i),mu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ot("invalid",i);break;case"textarea":Ot("invalid",i),ds(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||x_(i.textContent,a)?(l.popover!=null&&(Ot("beforetoggle",i),Ot("toggle",i)),l.onScroll!=null&&Ot("scroll",i),l.onScrollEnd!=null&&Ot("scrollend",i),l.onClick!=null&&(i.onclick=Fn),i=!0):i=!1,i||As(e,!0)}function _g(e){for(He=e.return;He;)switch(He.tag){case 5:case 31:case 13:Mn=!1;return;case 27:case 3:Mn=!0;return;default:He=He.return}}function Ca(e){if(e!==He)return!1;if(!Lt)return _g(e),Lt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||wd(e.type,e.memoizedProps)),a=!a),a&&ne&&As(e),_g(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ne=H_(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ne=H_(e)}else i===27?(i=ne,ks(e.type)?(e=Dd,Dd=null,ne=e):ne=i):ne=He?Un(e.stateNode.nextSibling):null;return!0}function Dr(){ne=He=null,Lt=!1}function lf(){var e=Ts;return e!==null&&(fn===null?fn=e:fn.push.apply(fn,e),Ts=null),e}function Go(e){Ts===null?Ts=[e]:Ts.push(e)}var uf=O(null),Or=null,qi=null;function Ss(e,i,a){et(uf,i._currentValue),i._currentValue=a}function Hi(e){e._currentValue=uf.current,G(uf)}function cf(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function hf(e,i,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;t:for(;d!==null;){var E=d;d=h;for(var R=0;R<i.length;R++)if(E.context===i[R]){d.lanes|=a,E=d.alternate,E!==null&&(E.lanes|=a),cf(d.return,a,e),l||(_=null);break t}d=E.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(r(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),cf(_,a,e),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===e){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Na(e,i,a,l){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var E=h.type;yn(h.pendingProps.value,_.value)||(e!==null?e.push(E):e=[E])}}else if(h===Pt.current){if(_=h.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(_l):e=[_l])}h=h.return}e!==null&&hf(i,e,a,l),i.flags|=262144}function ku(e){for(e=e.firstContext;e!==null;){if(!yn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Vr(e){Or=e,qi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Fe(e){return vg(Or,e)}function Lu(e,i){return Or===null&&Vr(e),vg(e,i)}function vg(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},qi===null){if(e===null)throw Error(r(308));qi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else qi=qi.next=i;return a}var rS=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},aS=s.unstable_scheduleCallback,oS=s.unstable_NormalPriority,be={$$typeof:lt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ff(){return{controller:new rS,data:new Map,refCount:0}}function Qo(e){e.refCount--,e.refCount===0&&aS(oS,function(){e.controller.abort()})}var Ko=null,df=0,Da=0,Oa=null;function lS(e,i){if(Ko===null){var a=Ko=[];df=0,Da=gd(),Oa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return df++,i.then(Eg,Eg),i}function Eg(){if(--df===0&&Ko!==null){Oa!==null&&(Oa.status="fulfilled");var e=Ko;Ko=null,Da=0,Oa=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function uS(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Tg=Q.S;Q.S=function(e,i){s_=en(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&lS(e,i),Tg!==null&&Tg(e,i)};var Mr=O(null);function mf(){var e=Mr.current;return e!==null?e:Wt.pooledCache}function Pu(e,i){i===null?et(Mr,Mr.current):et(Mr,i.pool)}function Ag(){var e=mf();return e===null?null:{parent:be._currentValue,pool:e}}var Va=Error(r(460)),pf=Error(r(474)),zu=Error(r(542)),ju={then:function(){}};function Sg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function bg(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Fn,Fn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Rg(e),e;default:if(typeof i.status=="string")i.then(Fn,Fn);else{if(e=Wt,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Rg(e),e}throw Ur=i,Va}}function xr(e){try{var i=e._init;return i(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ur=a,Va):a}}var Ur=null;function wg(){if(Ur===null)throw Error(r(459));var e=Ur;return Ur=null,e}function Rg(e){if(e===Va||e===zu)throw Error(r(483))}var Ma=null,Yo=0;function Bu(e){var i=Yo;return Yo+=1,Ma===null&&(Ma=[]),bg(Ma,e,i)}function Xo(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function qu(e,i){throw i.$$typeof===N?Error(r(525)):(e=Object.prototype.toString.call(i),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Ig(e){function i(U,M){if(e){var P=U.deletions;P===null?(U.deletions=[M],U.flags|=16):P.push(M)}}function a(U,M){if(!e)return null;for(;M!==null;)i(U,M),M=M.sibling;return null}function l(U){for(var M=new Map;U!==null;)U.key!==null?M.set(U.key,U):M.set(U.index,U),U=U.sibling;return M}function h(U,M){return U=ji(U,M),U.index=0,U.sibling=null,U}function d(U,M,P){return U.index=P,e?(P=U.alternate,P!==null?(P=P.index,P<M?(U.flags|=67108866,M):P):(U.flags|=67108866,M)):(U.flags|=1048576,M)}function _(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function E(U,M,P,Y){return M===null||M.tag!==6?(M=nf(P,U.mode,Y),M.return=U,M):(M=h(M,P),M.return=U,M)}function R(U,M,P,Y){var dt=P.type;return dt===W?K(U,M,P.props.children,Y,P.key):M!==null&&(M.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===b&&xr(dt)===M.type)?(M=h(M,P.props),Xo(M,P),M.return=U,M):(M=xu(P.type,P.key,P.props,null,U.mode,Y),Xo(M,P),M.return=U,M)}function z(U,M,P,Y){return M===null||M.tag!==4||M.stateNode.containerInfo!==P.containerInfo||M.stateNode.implementation!==P.implementation?(M=sf(P,U.mode,Y),M.return=U,M):(M=h(M,P.children||[]),M.return=U,M)}function K(U,M,P,Y,dt){return M===null||M.tag!==7?(M=Nr(P,U.mode,Y,dt),M.return=U,M):(M=h(M,P),M.return=U,M)}function X(U,M,P){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=nf(""+M,U.mode,P),M.return=U,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case B:return P=xu(M.type,M.key,M.props,null,U.mode,P),Xo(P,M),P.return=U,P;case F:return M=sf(M,U.mode,P),M.return=U,M;case b:return M=xr(M),X(U,M,P)}if(de(M)||k(M))return M=Nr(M,U.mode,P,null),M.return=U,M;if(typeof M.then=="function")return X(U,Bu(M),P);if(M.$$typeof===lt)return X(U,Lu(U,M),P);qu(U,M)}return null}function j(U,M,P,Y){var dt=M!==null?M.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return dt!==null?null:E(U,M,""+P,Y);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case B:return P.key===dt?R(U,M,P,Y):null;case F:return P.key===dt?z(U,M,P,Y):null;case b:return P=xr(P),j(U,M,P,Y)}if(de(P)||k(P))return dt!==null?null:K(U,M,P,Y,null);if(typeof P.then=="function")return j(U,M,Bu(P),Y);if(P.$$typeof===lt)return j(U,M,Lu(U,P),Y);qu(U,P)}return null}function H(U,M,P,Y,dt){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return U=U.get(P)||null,E(M,U,""+Y,dt);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case B:return U=U.get(Y.key===null?P:Y.key)||null,R(M,U,Y,dt);case F:return U=U.get(Y.key===null?P:Y.key)||null,z(M,U,Y,dt);case b:return Y=xr(Y),H(U,M,P,Y,dt)}if(de(Y)||k(Y))return U=U.get(P)||null,K(M,U,Y,dt,null);if(typeof Y.then=="function")return H(U,M,P,Bu(Y),dt);if(Y.$$typeof===lt)return H(U,M,P,Lu(M,Y),dt);qu(M,Y)}return null}function ut(U,M,P,Y){for(var dt=null,Bt=null,ct=M,It=M=0,Mt=null;ct!==null&&It<P.length;It++){ct.index>It?(Mt=ct,ct=null):Mt=ct.sibling;var qt=j(U,ct,P[It],Y);if(qt===null){ct===null&&(ct=Mt);break}e&&ct&&qt.alternate===null&&i(U,ct),M=d(qt,M,It),Bt===null?dt=qt:Bt.sibling=qt,Bt=qt,ct=Mt}if(It===P.length)return a(U,ct),Lt&&Bi(U,It),dt;if(ct===null){for(;It<P.length;It++)ct=X(U,P[It],Y),ct!==null&&(M=d(ct,M,It),Bt===null?dt=ct:Bt.sibling=ct,Bt=ct);return Lt&&Bi(U,It),dt}for(ct=l(ct);It<P.length;It++)Mt=H(ct,U,It,P[It],Y),Mt!==null&&(e&&Mt.alternate!==null&&ct.delete(Mt.key===null?It:Mt.key),M=d(Mt,M,It),Bt===null?dt=Mt:Bt.sibling=Mt,Bt=Mt);return e&&ct.forEach(function(Bs){return i(U,Bs)}),Lt&&Bi(U,It),dt}function gt(U,M,P,Y){if(P==null)throw Error(r(151));for(var dt=null,Bt=null,ct=M,It=M=0,Mt=null,qt=P.next();ct!==null&&!qt.done;It++,qt=P.next()){ct.index>It?(Mt=ct,ct=null):Mt=ct.sibling;var Bs=j(U,ct,qt.value,Y);if(Bs===null){ct===null&&(ct=Mt);break}e&&ct&&Bs.alternate===null&&i(U,ct),M=d(Bs,M,It),Bt===null?dt=Bs:Bt.sibling=Bs,Bt=Bs,ct=Mt}if(qt.done)return a(U,ct),Lt&&Bi(U,It),dt;if(ct===null){for(;!qt.done;It++,qt=P.next())qt=X(U,qt.value,Y),qt!==null&&(M=d(qt,M,It),Bt===null?dt=qt:Bt.sibling=qt,Bt=qt);return Lt&&Bi(U,It),dt}for(ct=l(ct);!qt.done;It++,qt=P.next())qt=H(ct,U,It,qt.value,Y),qt!==null&&(e&&qt.alternate!==null&&ct.delete(qt.key===null?It:qt.key),M=d(qt,M,It),Bt===null?dt=qt:Bt.sibling=qt,Bt=qt);return e&&ct.forEach(function(Eb){return i(U,Eb)}),Lt&&Bi(U,It),dt}function Jt(U,M,P,Y){if(typeof P=="object"&&P!==null&&P.type===W&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case B:t:{for(var dt=P.key;M!==null;){if(M.key===dt){if(dt=P.type,dt===W){if(M.tag===7){a(U,M.sibling),Y=h(M,P.props.children),Y.return=U,U=Y;break t}}else if(M.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===b&&xr(dt)===M.type){a(U,M.sibling),Y=h(M,P.props),Xo(Y,P),Y.return=U,U=Y;break t}a(U,M);break}else i(U,M);M=M.sibling}P.type===W?(Y=Nr(P.props.children,U.mode,Y,P.key),Y.return=U,U=Y):(Y=xu(P.type,P.key,P.props,null,U.mode,Y),Xo(Y,P),Y.return=U,U=Y)}return _(U);case F:t:{for(dt=P.key;M!==null;){if(M.key===dt)if(M.tag===4&&M.stateNode.containerInfo===P.containerInfo&&M.stateNode.implementation===P.implementation){a(U,M.sibling),Y=h(M,P.children||[]),Y.return=U,U=Y;break t}else{a(U,M);break}else i(U,M);M=M.sibling}Y=sf(P,U.mode,Y),Y.return=U,U=Y}return _(U);case b:return P=xr(P),Jt(U,M,P,Y)}if(de(P))return ut(U,M,P,Y);if(k(P)){if(dt=k(P),typeof dt!="function")throw Error(r(150));return P=dt.call(P),gt(U,M,P,Y)}if(typeof P.then=="function")return Jt(U,M,Bu(P),Y);if(P.$$typeof===lt)return Jt(U,M,Lu(U,P),Y);qu(U,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,M!==null&&M.tag===6?(a(U,M.sibling),Y=h(M,P),Y.return=U,U=Y):(a(U,M),Y=nf(P,U.mode,Y),Y.return=U,U=Y),_(U)):a(U,M)}return function(U,M,P,Y){try{Yo=0;var dt=Jt(U,M,P,Y);return Ma=null,dt}catch(ct){if(ct===Va||ct===zu)throw ct;var Bt=_n(29,ct,null,U.mode);return Bt.lanes=Y,Bt.return=U,Bt}}}var kr=Ig(!0),Cg=Ig(!1),bs=!1;function gf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ws(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Rs(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ft&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Mu(e),hg(e,null,a),i}return Vu(e,l,i,a),Mu(e)}function $o(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,So(e,a)}}function _f(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var vf=!1;function Zo(){if(vf){var e=Oa;if(e!==null)throw e}}function Jo(e,i,a,l){vf=!1;var h=e.updateQueue;bs=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,z=R.next;R.next=null,_===null?d=z:_.next=z,_=R;var K=e.alternate;K!==null&&(K=K.updateQueue,E=K.lastBaseUpdate,E!==_&&(E===null?K.firstBaseUpdate=z:E.next=z,K.lastBaseUpdate=R))}if(d!==null){var X=h.baseState;_=0,K=z=R=null,E=d;do{var j=E.lane&-536870913,H=j!==E.lane;if(H?(Vt&j)===j:(l&j)===j){j!==0&&j===Da&&(vf=!0),K!==null&&(K=K.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ut=e,gt=E;j=i;var Jt=a;switch(gt.tag){case 1:if(ut=gt.payload,typeof ut=="function"){X=ut.call(Jt,X,j);break t}X=ut;break t;case 3:ut.flags=ut.flags&-65537|128;case 0:if(ut=gt.payload,j=typeof ut=="function"?ut.call(Jt,X,j):ut,j==null)break t;X=S({},X,j);break t;case 2:bs=!0}}j=E.callback,j!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[j]:H.push(j))}else H={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},K===null?(z=K=H,R=X):K=K.next=H,_|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);K===null&&(R=X),h.baseState=R,h.firstBaseUpdate=z,h.lastBaseUpdate=K,d===null&&(h.shared.lanes=0),Os|=_,e.lanes=_,e.memoizedState=X}}function Ng(e,i){if(typeof e!="function")throw Error(r(191,e));e.call(i)}function Dg(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Ng(a[e],i)}var xa=O(null),Hu=O(0);function Og(e,i){e=Ji,et(Hu,e),et(xa,i),Ji=e|i.baseLanes}function Ef(){et(Hu,Ji),et(xa,xa.current)}function Tf(){Ji=Hu.current,G(xa),G(Hu)}var vn=O(null),xn=null;function Is(e){var i=e.alternate;et(ge,ge.current&1),et(vn,e),xn===null&&(i===null||xa.current!==null||i.memoizedState!==null)&&(xn=e)}function Af(e){et(ge,ge.current),et(vn,e),xn===null&&(xn=e)}function Vg(e){e.tag===22?(et(ge,ge.current),et(vn,e),xn===null&&(xn=e)):Cs()}function Cs(){et(ge,ge.current),et(vn,vn.current)}function En(e){G(vn),xn===e&&(xn=null),G(ge)}var ge=O(0);function Fu(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Cd(a)||Nd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Fi=0,wt=null,$t=null,we=null,Gu=!1,Ua=!1,Lr=!1,Qu=0,Wo=0,ka=null,cS=0;function ue(){throw Error(r(321))}function Sf(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!yn(e[a],i[a]))return!1;return!0}function bf(e,i,a,l,h,d){return Fi=d,wt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Q.H=e===null||e.memoizedState===null?py:zf,Lr=!1,d=a(l,h),Lr=!1,Ua&&(d=xg(i,a,l,h)),Mg(e),d}function Mg(e){Q.H=nl;var i=$t!==null&&$t.next!==null;if(Fi=0,we=$t=wt=null,Gu=!1,Wo=0,ka=null,i)throw Error(r(300));e===null||Re||(e=e.dependencies,e!==null&&ku(e)&&(Re=!0))}function xg(e,i,a,l){wt=e;var h=0;do{if(Ua&&(ka=null),Wo=0,Ua=!1,25<=h)throw Error(r(301));if(h+=1,we=$t=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Q.H=gy,d=i(a,l)}while(Ua);return d}function hS(){var e=Q.H,i=e.useState()[0];return i=typeof i.then=="function"?tl(i):i,e=e.useState()[0],($t!==null?$t.memoizedState:null)!==e&&(wt.flags|=1024),i}function wf(){var e=Qu!==0;return Qu=0,e}function Rf(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function If(e){if(Gu){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Gu=!1}Fi=0,we=$t=wt=null,Ua=!1,Wo=Qu=0,ka=null}function sn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return we===null?wt.memoizedState=we=e:we=we.next=e,we}function ye(){if($t===null){var e=wt.alternate;e=e!==null?e.memoizedState:null}else e=$t.next;var i=we===null?wt.memoizedState:we.next;if(i!==null)we=i,$t=e;else{if(e===null)throw wt.alternate===null?Error(r(467)):Error(r(310));$t=e,e={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},we===null?wt.memoizedState=we=e:we=we.next=e}return we}function Ku(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function tl(e){var i=Wo;return Wo+=1,ka===null&&(ka=[]),e=bg(ka,e,i),i=wt,(we===null?i.memoizedState:we.next)===null&&(i=i.alternate,Q.H=i===null||i.memoizedState===null?py:zf),e}function Yu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return tl(e);if(e.$$typeof===lt)return Fe(e)}throw Error(r(438,String(e)))}function Cf(e){var i=null,a=wt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=wt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Ku(),wt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=x;return i.index++,a}function Gi(e,i){return typeof i=="function"?i(e):i}function Xu(e){var i=ye();return Nf(i,$t,e)}function Nf(e,i,a){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var E=_=null,R=null,z=i,K=!1;do{var X=z.lane&-536870913;if(X!==z.lane?(Vt&X)===X:(Fi&X)===X){var j=z.revertLane;if(j===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),X===Da&&(K=!0);else if((Fi&j)===j){z=z.next,j===Da&&(K=!0);continue}else X={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=X,_=d):R=R.next=X,wt.lanes|=j,Os|=j;X=z.action,Lr&&a(d,X),d=z.hasEagerState?z.eagerState:a(d,X)}else j={lane:X,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=j,_=d):R=R.next=j,wt.lanes|=X,Os|=X;z=z.next}while(z!==null&&z!==i);if(R===null?_=d:R.next=E,!yn(d,e.memoizedState)&&(Re=!0,K&&(a=Oa,a!==null)))throw a;e.memoizedState=d,e.baseState=_,e.baseQueue=R,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Df(e){var i=ye(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=e(d,_.action),_=_.next;while(_!==h);yn(d,i.memoizedState)||(Re=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Ug(e,i,a){var l=wt,h=ye(),d=Lt;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=i();var _=!yn(($t||h).memoizedState,a);if(_&&(h.memoizedState=a,Re=!0),h=h.queue,Mf(Pg.bind(null,l,h,e),[e]),h.getSnapshot!==i||_||we!==null&&we.memoizedState.tag&1){if(l.flags|=2048,La(9,{destroy:void 0},Lg.bind(null,l,h,a,i),null),Wt===null)throw Error(r(349));d||(Fi&127)!==0||kg(l,i,a)}return a}function kg(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=wt.updateQueue,i===null?(i=Ku(),wt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Lg(e,i,a,l){i.value=a,i.getSnapshot=l,zg(i)&&jg(e)}function Pg(e,i,a){return a(function(){zg(i)&&jg(e)})}function zg(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!yn(e,a)}catch{return!0}}function jg(e){var i=Cr(e,2);i!==null&&dn(i,e,2)}function Of(e){var i=sn();if(typeof e=="function"){var a=e;if(e=a(),Lr){bn(!0);try{a()}finally{bn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:e},i}function Bg(e,i,a,l){return e.baseState=a,Nf(e,$t,typeof l=="function"?l:Gi)}function fS(e,i,a,l,h){if(Ju(e))throw Error(r(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};Q.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,qg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function qg(e,i){var a=i.action,l=i.payload,h=e.state;if(i.isTransition){var d=Q.T,_={};Q.T=_;try{var E=a(h,l),R=Q.S;R!==null&&R(_,E),Hg(e,i,E)}catch(z){Vf(e,i,z)}finally{d!==null&&_.types!==null&&(d.types=_.types),Q.T=d}}else try{d=a(h,l),Hg(e,i,d)}catch(z){Vf(e,i,z)}}function Hg(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Fg(e,i,l)},function(l){return Vf(e,i,l)}):Fg(e,i,a)}function Fg(e,i,a){i.status="fulfilled",i.value=a,Gg(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,qg(e,a)))}function Vf(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Gg(i),i=i.next;while(i!==l)}e.action=null}function Gg(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Qg(e,i){return i}function Kg(e,i){if(Lt){var a=Wt.formState;if(a!==null){t:{var l=wt;if(Lt){if(ne){e:{for(var h=ne,d=Mn;h.nodeType!==8;){if(!d){h=null;break e}if(h=Un(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ne=Un(h.nextSibling),l=h.data==="F!";break t}}As(l)}l=!1}l&&(i=a[0])}}return a=sn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qg,lastRenderedState:i},a.queue=l,a=fy.bind(null,wt,l),l.dispatch=a,l=Of(!1),d=Pf.bind(null,wt,!1,l.queue),l=sn(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,a=fS.bind(null,wt,h,d,a),h.dispatch=a,l.memoizedState=e,[i,a,!1]}function Yg(e){var i=ye();return Xg(i,$t,e)}function Xg(e,i,a){if(i=Nf(e,i,Qg)[0],e=Xu(Gi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=tl(i)}catch(_){throw _===Va?zu:_}else l=i;i=ye();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(wt.flags|=2048,La(9,{destroy:void 0},dS.bind(null,h,a),null)),[l,d,e]}function dS(e,i){e.action=i}function $g(e){var i=ye(),a=$t;if(a!==null)return Xg(i,a,e);ye(),i=i.memoizedState,a=ye();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function La(e,i,a,l){return e={tag:e,create:a,deps:l,inst:i,next:null},i=wt.updateQueue,i===null&&(i=Ku(),wt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function Zg(){return ye().memoizedState}function $u(e,i,a,l){var h=sn();wt.flags|=e,h.memoizedState=La(1|i,{destroy:void 0},a,l===void 0?null:l)}function Zu(e,i,a,l){var h=ye();l=l===void 0?null:l;var d=h.memoizedState.inst;$t!==null&&l!==null&&Sf(l,$t.memoizedState.deps)?h.memoizedState=La(i,d,a,l):(wt.flags|=e,h.memoizedState=La(1|i,d,a,l))}function Jg(e,i){$u(8390656,8,e,i)}function Mf(e,i){Zu(2048,8,e,i)}function mS(e){wt.flags|=4;var i=wt.updateQueue;if(i===null)i=Ku(),wt.updateQueue=i,i.events=[e];else{var a=i.events;a===null?i.events=[e]:a.push(e)}}function Wg(e){var i=ye().memoizedState;return mS({ref:i,nextImpl:e}),function(){if((Ft&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function ty(e,i){return Zu(4,2,e,i)}function ey(e,i){return Zu(4,4,e,i)}function ny(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function iy(e,i,a){a=a!=null?a.concat([e]):null,Zu(4,4,ny.bind(null,i,e),a)}function xf(){}function sy(e,i){var a=ye();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Sf(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function ry(e,i){var a=ye();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Sf(i,l[1]))return l[0];if(l=e(),Lr){bn(!0);try{e()}finally{bn(!1)}}return a.memoizedState=[l,i],l}function Uf(e,i,a){return a===void 0||(Fi&1073741824)!==0&&(Vt&261930)===0?e.memoizedState=i:(e.memoizedState=a,e=a_(),wt.lanes|=e,Os|=e,a)}function ay(e,i,a,l){return yn(a,i)?a:xa.current!==null?(e=Uf(e,a,l),yn(e,i)||(Re=!0),e):(Fi&42)===0||(Fi&1073741824)!==0&&(Vt&261930)===0?(Re=!0,e.memoizedState=a):(e=a_(),wt.lanes|=e,Os|=e,i)}function oy(e,i,a,l,h){var d=nt.p;nt.p=d!==0&&8>d?d:8;var _=Q.T,E={};Q.T=E,Pf(e,!1,i,a);try{var R=h(),z=Q.S;if(z!==null&&z(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var K=uS(R,l);el(e,i,K,Sn(e))}else el(e,i,l,Sn(e))}catch(X){el(e,i,{then:function(){},status:"rejected",reason:X},Sn())}finally{nt.p=d,_!==null&&E.types!==null&&(_.types=E.types),Q.T=_}}function pS(){}function kf(e,i,a,l){if(e.tag!==5)throw Error(r(476));var h=ly(e).queue;oy(e,h,i,ft,a===null?pS:function(){return uy(e),a(l)})}function ly(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:ft},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function uy(e){var i=ly(e);i.next===null&&(i=e.alternate.memoizedState),el(e,i.next.queue,{},Sn())}function Lf(){return Fe(_l)}function cy(){return ye().memoizedState}function hy(){return ye().memoizedState}function gS(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=Sn();e=ws(a);var l=Rs(i,e,a);l!==null&&(dn(l,i,a),$o(l,i,a)),i={cache:ff()},e.payload=i;return}i=i.return}}function yS(e,i,a){var l=Sn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ju(e)?dy(i,a):(a=tf(e,i,a,l),a!==null&&(dn(a,e,l),my(a,i,l)))}function fy(e,i,a){var l=Sn();el(e,i,a,l)}function el(e,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ju(e))dy(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,E=d(_,a);if(h.hasEagerState=!0,h.eagerState=E,yn(E,_))return Vu(e,i,h,0),Wt===null&&Ou(),!1}catch{}if(a=tf(e,i,h,l),a!==null)return dn(a,e,l),my(a,i,l),!0}return!1}function Pf(e,i,a,l){if(l={lane:2,revertLane:gd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ju(e)){if(i)throw Error(r(479))}else i=tf(e,a,l,2),i!==null&&dn(i,e,2)}function Ju(e){var i=e.alternate;return e===wt||i!==null&&i===wt}function dy(e,i){Ua=Gu=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function my(e,i,a){if((a&4194048)!==0){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,So(e,a)}}var nl={readContext:Fe,use:Yu,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue};nl.useEffectEvent=ue;var py={readContext:Fe,use:Yu,useCallback:function(e,i){return sn().memoizedState=[e,i===void 0?null:i],e},useContext:Fe,useEffect:Jg,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,$u(4194308,4,ny.bind(null,i,e),a)},useLayoutEffect:function(e,i){return $u(4194308,4,e,i)},useInsertionEffect:function(e,i){$u(4,2,e,i)},useMemo:function(e,i){var a=sn();i=i===void 0?null:i;var l=e();if(Lr){bn(!0);try{e()}finally{bn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=sn();if(a!==void 0){var h=a(i);if(Lr){bn(!0);try{a(i)}finally{bn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=yS.bind(null,wt,e),[l.memoizedState,e]},useRef:function(e){var i=sn();return e={current:e},i.memoizedState=e},useState:function(e){e=Of(e);var i=e.queue,a=fy.bind(null,wt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:xf,useDeferredValue:function(e,i){var a=sn();return Uf(a,e,i)},useTransition:function(){var e=Of(!1);return e=oy.bind(null,wt,e.queue,!0,!1),sn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=wt,h=sn();if(Lt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),Wt===null)throw Error(r(349));(Vt&127)!==0||kg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Jg(Pg.bind(null,l,d,e),[e]),l.flags|=2048,La(9,{destroy:void 0},Lg.bind(null,l,d,a,i),null),a},useId:function(){var e=sn(),i=Wt.identifierPrefix;if(Lt){var a=Ti,l=Ei;a=(l&~(1<<32-me(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=Qu++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=cS++,i="_"+i+"r_"+a.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:Lf,useFormState:Kg,useActionState:Kg,useOptimistic:function(e){var i=sn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Pf.bind(null,wt,!0,a),a.dispatch=i,[e,i]},useMemoCache:Cf,useCacheRefresh:function(){return sn().memoizedState=gS.bind(null,wt)},useEffectEvent:function(e){var i=sn(),a={impl:e};return i.memoizedState=a,function(){if((Ft&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},zf={readContext:Fe,use:Yu,useCallback:sy,useContext:Fe,useEffect:Mf,useImperativeHandle:iy,useInsertionEffect:ty,useLayoutEffect:ey,useMemo:ry,useReducer:Xu,useRef:Zg,useState:function(){return Xu(Gi)},useDebugValue:xf,useDeferredValue:function(e,i){var a=ye();return ay(a,$t.memoizedState,e,i)},useTransition:function(){var e=Xu(Gi)[0],i=ye().memoizedState;return[typeof e=="boolean"?e:tl(e),i]},useSyncExternalStore:Ug,useId:cy,useHostTransitionStatus:Lf,useFormState:Yg,useActionState:Yg,useOptimistic:function(e,i){var a=ye();return Bg(a,$t,e,i)},useMemoCache:Cf,useCacheRefresh:hy};zf.useEffectEvent=Wg;var gy={readContext:Fe,use:Yu,useCallback:sy,useContext:Fe,useEffect:Mf,useImperativeHandle:iy,useInsertionEffect:ty,useLayoutEffect:ey,useMemo:ry,useReducer:Df,useRef:Zg,useState:function(){return Df(Gi)},useDebugValue:xf,useDeferredValue:function(e,i){var a=ye();return $t===null?Uf(a,e,i):ay(a,$t.memoizedState,e,i)},useTransition:function(){var e=Df(Gi)[0],i=ye().memoizedState;return[typeof e=="boolean"?e:tl(e),i]},useSyncExternalStore:Ug,useId:cy,useHostTransitionStatus:Lf,useFormState:$g,useActionState:$g,useOptimistic:function(e,i){var a=ye();return $t!==null?Bg(a,$t,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Cf,useCacheRefresh:hy};gy.useEffectEvent=Wg;function jf(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:S({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Bf={enqueueSetState:function(e,i,a){e=e._reactInternals;var l=Sn(),h=ws(l);h.payload=i,a!=null&&(h.callback=a),i=Rs(e,h,l),i!==null&&(dn(i,e,l),$o(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=Sn(),h=ws(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Rs(e,h,l),i!==null&&(dn(i,e,l),$o(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=Sn(),l=ws(a);l.tag=2,i!=null&&(l.callback=i),i=Rs(e,l,a),i!==null&&(dn(i,e,a),$o(i,e,a))}};function yy(e,i,a,l,h,d,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!qo(a,l)||!qo(h,d):!0}function _y(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&Bf.enqueueReplaceState(i,i.state,null)}function Pr(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=S({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function vy(e){Du(e)}function Ey(e){console.error(e)}function Ty(e){Du(e)}function Wu(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Ay(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function qf(e,i,a){return a=ws(a),a.tag=3,a.payload={element:null},a.callback=function(){Wu(e,i)},a}function Sy(e){return e=ws(e),e.tag=3,e}function by(e,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){Ay(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){Ay(i,a,l),typeof h!="function"&&(Vs===null?Vs=new Set([this]):Vs.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function _S(e,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Na(i,a,h,!0),a=vn.current,a!==null){switch(a.tag){case 31:case 13:return xn===null?hc():a.alternate===null&&ce===0&&(ce=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===ju?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),dd(e,l,h)),!1;case 22:return a.flags|=65536,l===ju?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),dd(e,l,h)),!1}throw Error(r(435,a.tag))}return dd(e,l,h),hc(),!1}if(Lt)return i=vn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==of&&(e=Error(r(422),{cause:l}),Go(Dn(e,a)))):(l!==of&&(i=Error(r(423),{cause:l}),Go(Dn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Dn(l,a),h=qf(e.stateNode,l,h),_f(e,h),ce!==4&&(ce=2)),!1;var d=Error(r(520),{cause:l});if(d=Dn(d,a),cl===null?cl=[d]:cl.push(d),ce!==4&&(ce=2),i===null)return!0;l=Dn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=qf(a.stateNode,l,e),_f(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Vs===null||!Vs.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Sy(h),by(h,e,a,l),_f(a,h),!1}a=a.return}while(a!==null);return!1}var Hf=Error(r(461)),Re=!1;function Ge(e,i,a,l){i.child=e===null?Cg(i,null,a,l):kr(i,e.child,a,l)}function wy(e,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var E in l)E!=="ref"&&(_[E]=l[E])}else _=l;return Vr(i),l=bf(e,i,a,_,d,h),E=wf(),e!==null&&!Re?(Rf(e,i,h),Qi(e,i,h)):(Lt&&E&&rf(i),i.flags|=1,Ge(e,i,l,h),i.child)}function Ry(e,i,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!ef(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Iy(e,i,d,l,h)):(e=xu(a.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!Zf(e,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:qo,a(_,l)&&e.ref===i.ref)return Qi(e,i,h)}return i.flags|=1,e=ji(d,l),e.ref=i.ref,e.return=i,i.child=e}function Iy(e,i,a,l,h){if(e!==null){var d=e.memoizedProps;if(qo(d,l)&&e.ref===i.ref)if(Re=!1,i.pendingProps=l=d,Zf(e,h))(e.flags&131072)!==0&&(Re=!0);else return i.lanes=e.lanes,Qi(e,i,h)}return Ff(e,i,a,l,h)}function Cy(e,i,a,l){var h=l.children,d=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,e!==null){for(l=i.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return Ny(e,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Pu(i,d!==null?d.cachePool:null),d!==null?Og(i,d):Ef(),Vg(i);else return l=i.lanes=536870912,Ny(e,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Pu(i,d.cachePool),Og(i,d),Cs(),i.memoizedState=null):(e!==null&&Pu(i,null),Ef(),Cs());return Ge(e,i,h,a),i.child}function il(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Ny(e,i,a,l,h){var d=mf();return d=d===null?null:{parent:be._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},e!==null&&Pu(i,null),Ef(),Vg(i),e!==null&&Na(e,i,l,!0),i.childLanes=h,null}function tc(e,i){return i=nc({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function Dy(e,i,a){return kr(i,e.child,null,a),e=tc(i,i.pendingProps),e.flags|=2,En(i),i.memoizedState=null,e}function vS(e,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(Lt){if(l.mode==="hidden")return e=tc(i,l),i.lanes=536870912,il(null,e);if(Af(i),(e=ne)?(e=q_(e,Mn),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Es!==null?{id:Ei,overflow:Ti}:null,retryLane:536870912,hydrationErrors:null},a=dg(e),a.return=i,i.child=a,He=i,ne=null)):e=null,e===null)throw As(i);return i.lanes=536870912,null}return tc(i,l)}var d=e.memoizedState;if(d!==null){var _=d.dehydrated;if(Af(i),h)if(i.flags&256)i.flags&=-257,i=Dy(e,i,a);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(r(558));else if(Re||Na(e,i,a,!1),h=(a&e.childLanes)!==0,Re||h){if(l=Wt,l!==null&&(_=bo(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Cr(e,_),dn(l,e,_),Hf;hc(),i=Dy(e,i,a)}else e=d.treeContext,ne=Un(_.nextSibling),He=i,Lt=!0,Ts=null,Mn=!1,e!==null&&gg(i,e),i=tc(i,l),i.flags|=4096;return i}return e=ji(e.child,{mode:l.mode,children:l.children}),e.ref=i.ref,i.child=e,e.return=i,e}function ec(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function Ff(e,i,a,l,h){return Vr(i),a=bf(e,i,a,l,void 0,h),l=wf(),e!==null&&!Re?(Rf(e,i,h),Qi(e,i,h)):(Lt&&l&&rf(i),i.flags|=1,Ge(e,i,a,h),i.child)}function Oy(e,i,a,l,h,d){return Vr(i),i.updateQueue=null,a=xg(i,l,a,h),Mg(e),l=wf(),e!==null&&!Re?(Rf(e,i,d),Qi(e,i,d)):(Lt&&l&&rf(i),i.flags|=1,Ge(e,i,a,d),i.child)}function Vy(e,i,a,l,h){if(Vr(i),i.stateNode===null){var d=wa,_=a.contextType;typeof _=="object"&&_!==null&&(d=Fe(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Bf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},gf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Fe(_):wa,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(jf(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Bf.enqueueReplaceState(d,d.state,null),Jo(i,l,d,h),Zo(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var E=i.memoizedProps,R=Pr(a,E);d.props=R;var z=d.context,K=a.contextType;_=wa,typeof K=="object"&&K!==null&&(_=Fe(K));var X=a.getDerivedStateFromProps;K=typeof X=="function"||typeof d.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,K||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E||z!==_)&&_y(i,d,l,_),bs=!1;var j=i.memoizedState;d.state=j,Jo(i,l,d,h),Zo(),z=i.memoizedState,E||j!==z||bs?(typeof X=="function"&&(jf(i,a,X,l),z=i.memoizedState),(R=bs||yy(i,a,R,l,j,z,_))?(K||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=z),d.props=l,d.state=z,d.context=_,l=R):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,yf(e,i),_=i.memoizedProps,K=Pr(a,_),d.props=K,X=i.pendingProps,j=d.context,z=a.contextType,R=wa,typeof z=="object"&&z!==null&&(R=Fe(z)),E=a.getDerivedStateFromProps,(z=typeof E=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==X||j!==R)&&_y(i,d,l,R),bs=!1,j=i.memoizedState,d.state=j,Jo(i,l,d,h),Zo();var H=i.memoizedState;_!==X||j!==H||bs||e!==null&&e.dependencies!==null&&ku(e.dependencies)?(typeof E=="function"&&(jf(i,a,E,l),H=i.memoizedState),(K=bs||yy(i,a,K,l,j,H,R)||e!==null&&e.dependencies!==null&&ku(e.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,H,R),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,H,R)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&j===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&j===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=H),d.props=l,d.state=H,d.context=R,l=K):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&j===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&j===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,ec(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=kr(i,e.child,null,h),i.child=kr(i,null,a,h)):Ge(e,i,a,h),i.memoizedState=d.state,e=i.child):e=Qi(e,i,h),e}function My(e,i,a,l){return Dr(),i.flags|=256,Ge(e,i,a,l),i.child}var Gf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qf(e){return{baseLanes:e,cachePool:Ag()}}function Kf(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=An),e}function xy(e,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=e!==null&&e.memoizedState===null?!1:(ge.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,e===null){if(Lt){if(h?Is(i):Cs(),(e=ne)?(e=q_(e,Mn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Es!==null?{id:Ei,overflow:Ti}:null,retryLane:536870912,hydrationErrors:null},a=dg(e),a.return=i,i.child=a,He=i,ne=null)):e=null,e===null)throw As(i);return Nd(e)?i.lanes=32:i.lanes=536870912,null}var E=l.children;return l=l.fallback,h?(Cs(),h=i.mode,E=nc({mode:"hidden",children:E},h),l=Nr(l,h,a,null),E.return=i,l.return=i,E.sibling=l,i.child=E,l=i.child,l.memoizedState=Qf(a),l.childLanes=Kf(e,_,a),i.memoizedState=Gf,il(null,l)):(Is(i),Yf(i,E))}var R=e.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(d)i.flags&256?(Is(i),i.flags&=-257,i=Xf(e,i,a)):i.memoizedState!==null?(Cs(),i.child=e.child,i.flags|=128,i=null):(Cs(),E=l.fallback,h=i.mode,l=nc({mode:"visible",children:l.children},h),E=Nr(E,h,a,null),E.flags|=2,l.return=i,E.return=i,l.sibling=E,i.child=l,kr(i,e.child,null,a),l=i.child,l.memoizedState=Qf(a),l.childLanes=Kf(e,_,a),i.memoizedState=Gf,i=il(null,l));else if(Is(i),Nd(E)){if(_=E.nextSibling&&E.nextSibling.dataset,_)var z=_.dgst;_=z,l=Error(r(419)),l.stack="",l.digest=_,Go({value:l,source:null,stack:null}),i=Xf(e,i,a)}else if(Re||Na(e,i,a,!1),_=(a&e.childLanes)!==0,Re||_){if(_=Wt,_!==null&&(l=bo(_,a),l!==0&&l!==R.retryLane))throw R.retryLane=l,Cr(e,l),dn(_,e,l),Hf;Cd(E)||hc(),i=Xf(e,i,a)}else Cd(E)?(i.flags|=192,i.child=e.child,i=null):(e=R.treeContext,ne=Un(E.nextSibling),He=i,Lt=!0,Ts=null,Mn=!1,e!==null&&gg(i,e),i=Yf(i,l.children),i.flags|=4096);return i}return h?(Cs(),E=l.fallback,h=i.mode,R=e.child,z=R.sibling,l=ji(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,z!==null?E=ji(z,E):(E=Nr(E,h,a,null),E.flags|=2),E.return=i,l.return=i,l.sibling=E,i.child=l,il(null,l),l=i.child,E=e.child.memoizedState,E===null?E=Qf(a):(h=E.cachePool,h!==null?(R=be._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=Ag(),E={baseLanes:E.baseLanes|a,cachePool:h}),l.memoizedState=E,l.childLanes=Kf(e,_,a),i.memoizedState=Gf,il(e.child,l)):(Is(i),a=e.child,e=a.sibling,a=ji(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(_=i.deletions,_===null?(i.deletions=[e],i.flags|=16):_.push(e)),i.child=a,i.memoizedState=null,a)}function Yf(e,i){return i=nc({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function nc(e,i){return e=_n(22,e,null,i),e.lanes=0,e}function Xf(e,i,a){return kr(i,e.child,null,a),e=Yf(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Uy(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),cf(e.return,i,a)}function $f(e,i,a,l,h,d){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function ky(e,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=ge.current,E=(_&2)!==0;if(E?(_=_&1|2,i.flags|=128):_&=1,et(ge,_),Ge(e,i,l,a),l=Lt?Fo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Uy(e,a,i);else if(e.tag===19)Uy(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&Fu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),$f(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&Fu(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}$f(i,!0,a,null,d,l);break;case"together":$f(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Qi(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),Os|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Na(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(r(153));if(i.child!==null){for(e=i.child,a=ji(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=ji(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function Zf(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&ku(e)))}function ES(e,i,a){switch(i.tag){case 3:Ve(i,i.stateNode.containerInfo),Ss(i,be,e.memoizedState.cache),Dr();break;case 27:case 5:cr(i);break;case 4:Ve(i,i.stateNode.containerInfo);break;case 10:Ss(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Af(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Is(i),i.flags|=128,null):(a&i.child.childLanes)!==0?xy(e,i,a):(Is(i),e=Qi(e,i,a),e!==null?e.sibling:null);Is(i);break;case 19:var h=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Na(e,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return ky(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),et(ge,ge.current),l)break;return null;case 22:return i.lanes=0,Cy(e,i,a,i.pendingProps);case 24:Ss(i,be,e.memoizedState.cache)}return Qi(e,i,a)}function Ly(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Re=!0;else{if(!Zf(e,a)&&(i.flags&128)===0)return Re=!1,ES(e,i,a);Re=(e.flags&131072)!==0}else Re=!1,Lt&&(i.flags&1048576)!==0&&pg(i,Fo,i.index);switch(i.lanes=0,i.tag){case 16:t:{var l=i.pendingProps;if(e=xr(i.elementType),i.type=e,typeof e=="function")ef(e)?(l=Pr(e,l),i.tag=1,i=Vy(null,i,e,l,a)):(i.tag=0,i=Ff(null,i,e,l,a));else{if(e!=null){var h=e.$$typeof;if(h===yt){i.tag=11,i=wy(null,i,e,l,a);break t}else if(h===D){i.tag=14,i=Ry(null,i,e,l,a);break t}}throw i=te(e)||e,Error(r(306,i,""))}}return i;case 0:return Ff(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Pr(l,i.pendingProps),Vy(e,i,l,h,a);case 3:t:{if(Ve(i,i.stateNode.containerInfo),e===null)throw Error(r(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,yf(e,i),Jo(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Ss(i,be,l),l!==d.cache&&hf(i,[be],a,!0),Zo(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=My(e,i,l,a);break t}else if(l!==h){h=Dn(Error(r(424)),i),Go(h),i=My(e,i,l,a);break t}else for(e=i.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ne=Un(e.firstChild),He=i,Lt=!0,Ts=null,Mn=!0,a=Cg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Dr(),l===h){i=Qi(e,i,a);break t}Ge(e,i,l,a)}i=i.child}return i;case 26:return ec(e,i),e===null?(a=Y_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Lt||(a=i.type,e=i.pendingProps,l=_c(Rt.current).createElement(a),l[Te]=i,l[Le]=e,Qe(l,a,e),Ae(l),i.stateNode=l):i.memoizedState=Y_(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return cr(i),e===null&&Lt&&(l=i.stateNode=G_(i.type,i.pendingProps,Rt.current),He=i,Mn=!0,h=ne,ks(i.type)?(Dd=h,ne=Un(l.firstChild)):ne=h),Ge(e,i,i.pendingProps.children,a),ec(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Lt&&((h=l=ne)&&(l=$S(l,i.type,i.pendingProps,Mn),l!==null?(i.stateNode=l,He=i,ne=Un(l.firstChild),Mn=!1,h=!0):h=!1),h||As(i)),cr(i),h=i.type,d=i.pendingProps,_=e!==null?e.memoizedProps:null,l=d.children,wd(h,d)?l=null:_!==null&&wd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=bf(e,i,hS,null,null,a),_l._currentValue=h),ec(e,i),Ge(e,i,l,a),i.child;case 6:return e===null&&Lt&&((e=a=ne)&&(a=ZS(a,i.pendingProps,Mn),a!==null?(i.stateNode=a,He=i,ne=null,e=!0):e=!1),e||As(i)),null;case 13:return xy(e,i,a);case 4:return Ve(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=kr(i,null,l,a):Ge(e,i,l,a),i.child;case 11:return wy(e,i,i.type,i.pendingProps,a);case 7:return Ge(e,i,i.pendingProps,a),i.child;case 8:return Ge(e,i,i.pendingProps.children,a),i.child;case 12:return Ge(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Ss(i,i.type,l.value),Ge(e,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Vr(i),h=Fe(h),l=l(h),i.flags|=1,Ge(e,i,l,a),i.child;case 14:return Ry(e,i,i.type,i.pendingProps,a);case 15:return Iy(e,i,i.type,i.pendingProps,a);case 19:return ky(e,i,a);case 31:return vS(e,i,a);case 22:return Cy(e,i,a,i.pendingProps);case 24:return Vr(i),l=Fe(be),e===null?(h=mf(),h===null&&(h=Wt,d=ff(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},gf(i),Ss(i,be,h)):((e.lanes&a)!==0&&(yf(e,i),Jo(i,null,null,a),Zo()),h=e.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Ss(i,be,l)):(l=d.cache,Ss(i,be,l),l!==h.cache&&hf(i,[be],a,!0))),Ge(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function Ki(e){e.flags|=4}function Jf(e,i,a,l,h){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(c_())e.flags|=8192;else throw Ur=ju,pf}else e.flags&=-16777217}function Py(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!W_(i))if(c_())e.flags|=8192;else throw Ur=ju,pf}function ic(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?uu():536870912,e.lanes|=i,Ba|=i)}function sl(e,i){if(!Lt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ie(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function TS(e,i,a){var l=i.pendingProps;switch(af(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(i),null;case 1:return ie(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Hi(be),re(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ca(i)?Ki(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,lf())),ie(i),null;case 26:var h=i.type,d=i.memoizedState;return e===null?(Ki(i),d!==null?(ie(i),Py(i,d)):(ie(i),Jf(i,h,null,l,a))):d?d!==e.memoizedState?(Ki(i),ie(i),Py(i,d)):(ie(i),i.flags&=-16777217):(e=e.memoizedProps,e!==l&&Ki(i),ie(i),Jf(i,h,e,l,a)),null;case 27:if(aa(i),a=Rt.current,h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Ki(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return ie(i),null}e=it.current,Ca(i)?yg(i):(e=G_(h,l,a),i.stateNode=e,Ki(i))}return ie(i),null;case 5:if(aa(i),h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Ki(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return ie(i),null}if(d=it.current,Ca(i))yg(i);else{var _=_c(Rt.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[Te]=i,d[Le]=l;t:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break t;for(;_.sibling===null;){if(_.return===null||_.return===i)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;t:switch(Qe(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Ki(i)}}return ie(i),Jf(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,a),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&Ki(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(r(166));if(e=Rt.current,Ca(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,h=He,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Te]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||x_(e.nodeValue,a)),e||As(i,!0)}else e=_c(e).createTextNode(l),e[Te]=i,i.stateNode=e}return ie(i),null;case 31:if(a=i.memoizedState,e===null||e.memoizedState!==null){if(l=Ca(i),a!==null){if(e===null){if(!l)throw Error(r(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[Te]=i}else Dr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ie(i),e=!1}else a=lf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return i.flags&256?(En(i),i):(En(i),null);if((i.flags&128)!==0)throw Error(r(558))}return ie(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Ca(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Te]=i}else Dr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ie(i),h=!1}else h=lf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(En(i),i):(En(i),null)}return En(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==e&&a&&(i.child.flags|=8192),ic(i,i.updateQueue),ie(i),null);case 4:return re(),e===null&&Ed(i.stateNode.containerInfo),ie(i),null;case 10:return Hi(i.type),ie(i),null;case 19:if(G(ge),l=i.memoizedState,l===null)return ie(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)sl(l,!1);else{if(ce!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=Fu(e),d!==null){for(i.flags|=128,sl(l,!1),e=d.updateQueue,i.updateQueue=e,ic(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)fg(a,e),a=a.sibling;return et(ge,ge.current&1|2),Lt&&Bi(i,l.treeForkCount),i.child}e=e.sibling}l.tail!==null&&en()>lc&&(i.flags|=128,h=!0,sl(l,!1),i.lanes=4194304)}else{if(!h)if(e=Fu(d),e!==null){if(i.flags|=128,h=!0,e=e.updateQueue,i.updateQueue=e,ic(i,e),sl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Lt)return ie(i),null}else 2*en()-l.renderingStartTime>lc&&a!==536870912&&(i.flags|=128,h=!0,sl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(e=l.last,e!==null?e.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=en(),e.sibling=null,a=ge.current,et(ge,h?a&1|2:a&1),Lt&&Bi(i,l.treeForkCount),e):(ie(i),null);case 22:case 23:return En(i),Tf(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(ie(i),i.subtreeFlags&6&&(i.flags|=8192)):ie(i),a=i.updateQueue,a!==null&&ic(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&G(Mr),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Hi(be),ie(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function AS(e,i){switch(af(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Hi(be),re(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return aa(i),null;case 31:if(i.memoizedState!==null){if(En(i),i.alternate===null)throw Error(r(340));Dr()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(En(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Dr()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return G(ge),null;case 4:return re(),null;case 10:return Hi(i.type),null;case 22:case 23:return En(i),Tf(),e!==null&&G(Mr),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Hi(be),null;case 25:return null;default:return null}}function zy(e,i){switch(af(i),i.tag){case 3:Hi(be),re();break;case 26:case 27:case 5:aa(i);break;case 4:re();break;case 31:i.memoizedState!==null&&En(i);break;case 13:En(i);break;case 19:G(ge);break;case 10:Hi(i.type);break;case 22:case 23:En(i),Tf(),e!==null&&G(Mr);break;case 24:Hi(be)}}function rl(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(E){Yt(i,i.return,E)}}function Ns(e,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var _=l.inst,E=_.destroy;if(E!==void 0){_.destroy=void 0,h=i;var R=a,z=E;try{z()}catch(K){Yt(h,R,K)}}}l=l.next}while(l!==d)}}catch(K){Yt(i,i.return,K)}}function jy(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Dg(i,a)}catch(l){Yt(e,e.return,l)}}}function By(e,i,a){a.props=Pr(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Yt(e,i,l)}}function al(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){Yt(e,i,h)}}function Ai(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Yt(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Yt(e,i,h)}else a.current=null}function qy(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Yt(e,e.return,h)}}function Wf(e,i,a){try{var l=e.stateNode;FS(l,e.type,a,i),l[Le]=i}catch(h){Yt(e,e.return,h)}}function Hy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ks(e.type)||e.tag===4}function td(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Hy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ks(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ed(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Fn));else if(l!==4&&(l===27&&ks(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(ed(e,i,a),e=e.sibling;e!==null;)ed(e,i,a),e=e.sibling}function sc(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&(l===27&&ks(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(sc(e,i,a),e=e.sibling;e!==null;)sc(e,i,a),e=e.sibling}function Fy(e){var i=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Qe(i,l,a),i[Te]=e,i[Le]=a}catch(d){Yt(e,e.return,d)}}var Yi=!1,Ie=!1,nd=!1,Gy=typeof WeakSet=="function"?WeakSet:Set,ze=null;function SS(e,i){if(e=e.containerInfo,Sd=wc,e=ig(e),Yh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var _=0,E=-1,R=-1,z=0,K=0,X=e,j=null;e:for(;;){for(var H;X!==a||h!==0&&X.nodeType!==3||(E=_+h),X!==d||l!==0&&X.nodeType!==3||(R=_+l),X.nodeType===3&&(_+=X.nodeValue.length),(H=X.firstChild)!==null;)j=X,X=H;for(;;){if(X===e)break e;if(j===a&&++z===h&&(E=_),j===d&&++K===l&&(R=_),(H=X.nextSibling)!==null)break;X=j,j=X.parentNode}X=H}a=E===-1||R===-1?null:{start:E,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(bd={focusedElem:e,selectionRange:a},wc=!1,ze=i;ze!==null;)if(i=ze,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,ze=e;else for(;ze!==null;){switch(i=ze,d=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ut=Pr(a.type,h);e=l.getSnapshotBeforeUpdate(ut,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(gt){Yt(a,a.return,gt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)Id(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Id(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=i.sibling,e!==null){e.return=i.return,ze=e;break}ze=i.return}}function Qy(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:$i(e,a),l&4&&rl(5,a);break;case 1:if($i(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(_){Yt(a,a.return,_)}else{var h=Pr(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(_){Yt(a,a.return,_)}}l&64&&jy(a),l&512&&al(a,a.return);break;case 3:if($i(e,a),l&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Dg(e,i)}catch(_){Yt(a,a.return,_)}}break;case 27:i===null&&l&4&&Fy(a);case 26:case 5:$i(e,a),i===null&&l&4&&qy(a),l&512&&al(a,a.return);break;case 12:$i(e,a);break;case 31:$i(e,a),l&4&&Xy(e,a);break;case 13:$i(e,a),l&4&&$y(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=VS.bind(null,a),JS(e,a))));break;case 22:if(l=a.memoizedState!==null||Yi,!l){i=i!==null&&i.memoizedState!==null||Ie,h=Yi;var d=Ie;Yi=l,(Ie=i)&&!d?Zi(e,a,(a.subtreeFlags&8772)!==0):$i(e,a),Yi=h,Ie=d}break;case 30:break;default:$i(e,a)}}function Ky(e){var i=e.alternate;i!==null&&(e.alternate=null,Ky(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&ha(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var oe=null,un=!1;function Xi(e,i,a){for(a=a.child;a!==null;)Yy(e,i,a),a=a.sibling}function Yy(e,i,a){if(Be&&typeof Be.onCommitFiberUnmount=="function")try{Be.onCommitFiberUnmount(jn,a)}catch{}switch(a.tag){case 26:Ie||Ai(a,i),Xi(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ie||Ai(a,i);var l=oe,h=un;ks(a.type)&&(oe=a.stateNode,un=!1),Xi(e,i,a),pl(a.stateNode),oe=l,un=h;break;case 5:Ie||Ai(a,i);case 6:if(l=oe,h=un,oe=null,Xi(e,i,a),oe=l,un=h,oe!==null)if(un)try{(oe.nodeType===9?oe.body:oe.nodeName==="HTML"?oe.ownerDocument.body:oe).removeChild(a.stateNode)}catch(d){Yt(a,i,d)}else try{oe.removeChild(a.stateNode)}catch(d){Yt(a,i,d)}break;case 18:oe!==null&&(un?(e=oe,j_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Xa(e)):j_(oe,a.stateNode));break;case 4:l=oe,h=un,oe=a.stateNode.containerInfo,un=!0,Xi(e,i,a),oe=l,un=h;break;case 0:case 11:case 14:case 15:Ns(2,a,i),Ie||Ns(4,a,i),Xi(e,i,a);break;case 1:Ie||(Ai(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&By(a,i,l)),Xi(e,i,a);break;case 21:Xi(e,i,a);break;case 22:Ie=(l=Ie)||a.memoizedState!==null,Xi(e,i,a),Ie=l;break;default:Xi(e,i,a)}}function Xy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Xa(e)}catch(a){Yt(i,i.return,a)}}}function $y(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Xa(e)}catch(a){Yt(i,i.return,a)}}function bS(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new Gy),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new Gy),i;default:throw Error(r(435,e.tag))}}function rc(e,i){var a=bS(e);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=MS.bind(null,e,l);l.then(h,h)}})}function cn(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,_=i,E=_;t:for(;E!==null;){switch(E.tag){case 27:if(ks(E.type)){oe=E.stateNode,un=!1;break t}break;case 5:oe=E.stateNode,un=!1;break t;case 3:case 4:oe=E.stateNode.containerInfo,un=!0;break t}E=E.return}if(oe===null)throw Error(r(160));Yy(d,_,h),oe=null,un=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Zy(i,e),i=i.sibling}var $n=null;function Zy(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:cn(i,e),hn(e),l&4&&(Ns(3,e,e.return),rl(3,e),Ns(5,e,e.return));break;case 1:cn(i,e),hn(e),l&512&&(Ie||a===null||Ai(a,a.return)),l&64&&Yi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=$n;if(cn(i,e),hn(e),l&512&&(Ie||a===null||Ai(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[li]||d[Te]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Qe(d,l,a),d[Te]=e,Ae(d),l=d;break t;case"link":var _=Z_("link","href",h).get(l+(a.href||""));if(_){for(var E=0;E<_.length;E++)if(d=_[E],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(E,1);break e}}d=h.createElement(l),Qe(d,l,a),h.head.appendChild(d);break;case"meta":if(_=Z_("meta","content",h).get(l+(a.content||""))){for(E=0;E<_.length;E++)if(d=_[E],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(E,1);break e}}d=h.createElement(l),Qe(d,l,a),h.head.appendChild(d);break;default:throw Error(r(468,l))}d[Te]=e,Ae(d),l=d}e.stateNode=l}else J_(h,e.type,e.stateNode);else e.stateNode=$_(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?J_(h,e.type,e.stateNode):$_(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Wf(e,e.memoizedProps,a.memoizedProps)}break;case 27:cn(i,e),hn(e),l&512&&(Ie||a===null||Ai(a,a.return)),a!==null&&l&4&&Wf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(cn(i,e),hn(e),l&512&&(Ie||a===null||Ai(a,a.return)),e.flags&32){h=e.stateNode;try{ln(h,"")}catch(ut){Yt(e,e.return,ut)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,Wf(e,h,a!==null?a.memoizedProps:h)),l&1024&&(nd=!0);break;case 6:if(cn(i,e),hn(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(ut){Yt(e,e.return,ut)}}break;case 3:if(Tc=null,h=$n,$n=vc(i.containerInfo),cn(i,e),$n=h,hn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Xa(i.containerInfo)}catch(ut){Yt(e,e.return,ut)}nd&&(nd=!1,Jy(e));break;case 4:l=$n,$n=vc(e.stateNode.containerInfo),cn(i,e),hn(e),$n=l;break;case 12:cn(i,e),hn(e);break;case 31:cn(i,e),hn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,rc(e,l)));break;case 13:cn(i,e),hn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(oc=en()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,rc(e,l)));break;case 22:h=e.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,z=Yi,K=Ie;if(Yi=z||h,Ie=K||R,cn(i,e),Ie=K,Yi=z,hn(e),l&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||R||Yi||Ie||zr(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){R=a=i;try{if(d=R.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{E=R.stateNode;var X=R.memoizedProps.style,j=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(ut){Yt(R,R.return,ut)}}}else if(i.tag===6){if(a===null){R=i;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(ut){Yt(R,R.return,ut)}}}else if(i.tag===18){if(a===null){R=i;try{var H=R.stateNode;h?B_(H,!0):B_(R.stateNode,!1)}catch(ut){Yt(R,R.return,ut)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,rc(e,a))));break;case 19:cn(i,e),hn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,rc(e,l)));break;case 30:break;case 21:break;default:cn(i,e),hn(e)}}function hn(e){var i=e.flags;if(i&2){try{for(var a,l=e.return;l!==null;){if(Hy(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,d=td(e);sc(e,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(ln(_,""),a.flags&=-33);var E=td(e);sc(e,E,_);break;case 3:case 4:var R=a.stateNode.containerInfo,z=td(e);ed(e,z,R);break;default:throw Error(r(161))}}catch(K){Yt(e,e.return,K)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function Jy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;Jy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function $i(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Qy(e,i.alternate,i),i=i.sibling}function zr(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Ns(4,i,i.return),zr(i);break;case 1:Ai(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&By(i,i.return,a),zr(i);break;case 27:pl(i.stateNode);case 26:case 5:Ai(i,i.return),zr(i);break;case 22:i.memoizedState===null&&zr(i);break;case 30:zr(i);break;default:zr(i)}e=e.sibling}}function Zi(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:Zi(h,d,a),rl(4,d);break;case 1:if(Zi(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Yt(l,l.return,z)}if(l=d,h=l.updateQueue,h!==null){var E=l.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)Ng(R[h],E)}catch(z){Yt(l,l.return,z)}}a&&_&64&&jy(d),al(d,d.return);break;case 27:Fy(d);case 26:case 5:Zi(h,d,a),a&&l===null&&_&4&&qy(d),al(d,d.return);break;case 12:Zi(h,d,a);break;case 31:Zi(h,d,a),a&&_&4&&Xy(h,d);break;case 13:Zi(h,d,a),a&&_&4&&$y(h,d);break;case 22:d.memoizedState===null&&Zi(h,d,a),al(d,d.return);break;case 30:break;default:Zi(h,d,a)}i=i.sibling}}function id(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Qo(a))}function sd(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Qo(e))}function Zn(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Wy(e,i,a,l),i=i.sibling}function Wy(e,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Zn(e,i,a,l),h&2048&&rl(9,i);break;case 1:Zn(e,i,a,l);break;case 3:Zn(e,i,a,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Qo(e)));break;case 12:if(h&2048){Zn(e,i,a,l),e=i.stateNode;try{var d=i.memoizedProps,_=d.id,E=d.onPostCommit;typeof E=="function"&&E(_,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Yt(i,i.return,R)}}else Zn(e,i,a,l);break;case 31:Zn(e,i,a,l);break;case 13:Zn(e,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?Zn(e,i,a,l):ol(e,i):d._visibility&2?Zn(e,i,a,l):(d._visibility|=2,Pa(e,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&id(_,i);break;case 24:Zn(e,i,a,l),h&2048&&sd(i.alternate,i);break;default:Zn(e,i,a,l)}}function Pa(e,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=e,_=i,E=a,R=l,z=_.flags;switch(_.tag){case 0:case 11:case 15:Pa(d,_,E,R,h),rl(8,_);break;case 23:break;case 22:var K=_.stateNode;_.memoizedState!==null?K._visibility&2?Pa(d,_,E,R,h):ol(d,_):(K._visibility|=2,Pa(d,_,E,R,h)),h&&z&2048&&id(_.alternate,_);break;case 24:Pa(d,_,E,R,h),h&&z&2048&&sd(_.alternate,_);break;default:Pa(d,_,E,R,h)}i=i.sibling}}function ol(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,h=l.flags;switch(l.tag){case 22:ol(a,l),h&2048&&id(l.alternate,l);break;case 24:ol(a,l),h&2048&&sd(l.alternate,l);break;default:ol(a,l)}i=i.sibling}}var ll=8192;function za(e,i,a){if(e.subtreeFlags&ll)for(e=e.child;e!==null;)t_(e,i,a),e=e.sibling}function t_(e,i,a){switch(e.tag){case 26:za(e,i,a),e.flags&ll&&e.memoizedState!==null&&cb(a,$n,e.memoizedState,e.memoizedProps);break;case 5:za(e,i,a);break;case 3:case 4:var l=$n;$n=vc(e.stateNode.containerInfo),za(e,i,a),$n=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=ll,ll=16777216,za(e,i,a),ll=l):za(e,i,a));break;default:za(e,i,a)}}function e_(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function ul(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];ze=l,i_(l,e)}e_(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)n_(e),e=e.sibling}function n_(e){switch(e.tag){case 0:case 11:case 15:ul(e),e.flags&2048&&Ns(9,e,e.return);break;case 3:ul(e);break;case 12:ul(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,ac(e)):ul(e);break;default:ul(e)}}function ac(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];ze=l,i_(l,e)}e_(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Ns(8,i,i.return),ac(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,ac(i));break;default:ac(i)}e=e.sibling}}function i_(e,i){for(;ze!==null;){var a=ze;switch(a.tag){case 0:case 11:case 15:Ns(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Qo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,ze=l;else t:for(a=e;ze!==null;){l=ze;var h=l.sibling,d=l.return;if(Ky(l),l===a){ze=null;break t}if(h!==null){h.return=d,ze=h;break t}ze=d}}}var wS={getCacheForType:function(e){var i=Fe(be),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a},cacheSignal:function(){return Fe(be).controller.signal}},RS=typeof WeakMap=="function"?WeakMap:Map,Ft=0,Wt=null,Dt=null,Vt=0,Kt=0,Tn=null,Ds=!1,ja=!1,rd=!1,Ji=0,ce=0,Os=0,jr=0,ad=0,An=0,Ba=0,cl=null,fn=null,od=!1,oc=0,s_=0,lc=1/0,uc=null,Vs=null,xe=0,Ms=null,qa=null,Wi=0,ld=0,ud=null,r_=null,hl=0,cd=null;function Sn(){return(Ft&2)!==0&&Vt!==0?Vt&-Vt:Q.T!==null?gd():cu()}function a_(){if(An===0)if((Vt&536870912)===0||Lt){var e=dr;dr<<=1,(dr&3932160)===0&&(dr=262144),An=e}else An=536870912;return e=vn.current,e!==null&&(e.flags|=32),An}function dn(e,i,a){(e===Wt&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)&&(Ha(e,0),xs(e,Vt,An,!1)),mr(e,a),((Ft&2)===0||e!==Wt)&&(e===Wt&&((Ft&2)===0&&(jr|=a),ce===4&&xs(e,Vt,An,!1)),Si(e))}function o_(e,i,a){if((Ft&6)!==0)throw Error(r(327));var l=!a&&(i&127)===0&&(i&e.expiredLanes)===0||Bn(e,i),h=l?NS(e,i):fd(e,i,!0),d=l;do{if(h===0){ja&&!l&&xs(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!IS(a)){h=fd(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;t:{var E=e;h=cl;var R=E.current.memoizedState.isDehydrated;if(R&&(Ha(E,_).flags|=256),_=fd(E,_,!1),_!==2){if(rd&&!R){E.errorRecoveryDisabledLanes|=d,jr|=d,h=4;break t}d=fn,fn=h,d!==null&&(fn===null?fn=d:fn.push.apply(fn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Ha(e,0),xs(e,i,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:xs(l,i,An,!Ds);break t;case 2:fn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(h=oc+300-en(),10<h)){if(xs(l,i,An,!Ds),ri(l,0,!0)!==0)break t;Wi=i,l.timeoutHandle=P_(l_.bind(null,l,a,fn,uc,od,i,An,jr,Ba,Ds,d,"Throttled",-0,0),h);break t}l_(l,a,fn,uc,od,i,An,jr,Ba,Ds,d,null,-0,0)}}break}while(!0);Si(e)}function l_(e,i,a,l,h,d,_,E,R,z,K,X,j,H){if(e.timeoutHandle=-1,X=i.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Fn},t_(i,d,X);var ut=(d&62914560)===d?oc-en():(d&4194048)===d?s_-en():0;if(ut=hb(X,ut),ut!==null){Wi=d,e.cancelPendingCommit=ut(g_.bind(null,e,i,d,a,l,h,_,E,R,K,X,null,j,H)),xs(e,d,_,!z);return}}g_(e,i,d,a,l,h,_,E,R)}function IS(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!yn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function xs(e,i,a,l){i&=~ad,i&=~jr,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var d=31-me(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&pr(e,a,i)}function cc(){return(Ft&6)===0?(fl(0),!1):!0}function hd(){if(Dt!==null){if(Kt===0)var e=Dt.return;else e=Dt,qi=Or=null,If(e),Ma=null,Yo=0,e=Dt;for(;e!==null;)zy(e.alternate,e),e=e.return;Dt=null}}function Ha(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,KS(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Wi=0,hd(),Wt=e,Dt=a=ji(e.current,null),Vt=i,Kt=0,Tn=null,Ds=!1,ja=Bn(e,i),rd=!1,Ba=An=ad=jr=Os=ce=0,fn=cl=null,od=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-me(l),d=1<<h;i|=e[h],l&=~d}return Ji=i,Ou(),a}function u_(e,i){wt=null,Q.H=nl,i===Va||i===zu?(i=wg(),Kt=3):i===pf?(i=wg(),Kt=4):Kt=i===Hf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Tn=i,Dt===null&&(ce=1,Wu(e,Dn(i,e.current)))}function c_(){var e=vn.current;return e===null?!0:(Vt&4194048)===Vt?xn===null:(Vt&62914560)===Vt||(Vt&536870912)!==0?e===xn:!1}function h_(){var e=Q.H;return Q.H=nl,e===null?nl:e}function f_(){var e=Q.A;return Q.A=wS,e}function hc(){ce=4,Ds||(Vt&4194048)!==Vt&&vn.current!==null||(ja=!0),(Os&134217727)===0&&(jr&134217727)===0||Wt===null||xs(Wt,Vt,An,!1)}function fd(e,i,a){var l=Ft;Ft|=2;var h=h_(),d=f_();(Wt!==e||Vt!==i)&&(uc=null,Ha(e,i)),i=!1;var _=ce;t:do try{if(Kt!==0&&Dt!==null){var E=Dt,R=Tn;switch(Kt){case 8:hd(),_=6;break t;case 3:case 2:case 9:case 6:vn.current===null&&(i=!0);var z=Kt;if(Kt=0,Tn=null,Fa(e,E,R,z),a&&ja){_=0;break t}break;default:z=Kt,Kt=0,Tn=null,Fa(e,E,R,z)}}CS(),_=ce;break}catch(K){u_(e,K)}while(!0);return i&&e.shellSuspendCounter++,qi=Or=null,Ft=l,Q.H=h,Q.A=d,Dt===null&&(Wt=null,Vt=0,Ou()),_}function CS(){for(;Dt!==null;)d_(Dt)}function NS(e,i){var a=Ft;Ft|=2;var l=h_(),h=f_();Wt!==e||Vt!==i?(uc=null,lc=en()+500,Ha(e,i)):ja=Bn(e,i);t:do try{if(Kt!==0&&Dt!==null){i=Dt;var d=Tn;e:switch(Kt){case 1:Kt=0,Tn=null,Fa(e,i,d,1);break;case 2:case 9:if(Sg(d)){Kt=0,Tn=null,m_(i);break}i=function(){Kt!==2&&Kt!==9||Wt!==e||(Kt=7),Si(e)},d.then(i,i);break t;case 3:Kt=7;break t;case 4:Kt=5;break t;case 7:Sg(d)?(Kt=0,Tn=null,m_(i)):(Kt=0,Tn=null,Fa(e,i,d,7));break;case 5:var _=null;switch(Dt.tag){case 26:_=Dt.memoizedState;case 5:case 27:var E=Dt;if(_?W_(_):E.stateNode.complete){Kt=0,Tn=null;var R=E.sibling;if(R!==null)Dt=R;else{var z=E.return;z!==null?(Dt=z,fc(z)):Dt=null}break e}}Kt=0,Tn=null,Fa(e,i,d,5);break;case 6:Kt=0,Tn=null,Fa(e,i,d,6);break;case 8:hd(),ce=6;break t;default:throw Error(r(462))}}DS();break}catch(K){u_(e,K)}while(!0);return qi=Or=null,Q.H=l,Q.A=h,Ft=a,Dt!==null?0:(Wt=null,Vt=0,Ou(),ce)}function DS(){for(;Dt!==null&&!Bh();)d_(Dt)}function d_(e){var i=Ly(e.alternate,e,Ji);e.memoizedProps=e.pendingProps,i===null?fc(e):Dt=i}function m_(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=Oy(a,i,i.pendingProps,i.type,void 0,Vt);break;case 11:i=Oy(a,i,i.pendingProps,i.type.render,i.ref,Vt);break;case 5:If(i);default:zy(a,i),i=Dt=fg(i,Ji),i=Ly(a,i,Ji)}e.memoizedProps=e.pendingProps,i===null?fc(e):Dt=i}function Fa(e,i,a,l){qi=Or=null,If(i),Ma=null,Yo=0;var h=i.return;try{if(_S(e,h,i,a,Vt)){ce=1,Wu(e,Dn(a,e.current)),Dt=null;return}}catch(d){if(h!==null)throw Dt=h,d;ce=1,Wu(e,Dn(a,e.current)),Dt=null;return}i.flags&32768?(Lt||l===1?e=!0:ja||(Vt&536870912)!==0?e=!1:(Ds=e=!0,(l===2||l===9||l===3||l===6)&&(l=vn.current,l!==null&&l.tag===13&&(l.flags|=16384))),p_(i,e)):fc(i)}function fc(e){var i=e;do{if((i.flags&32768)!==0){p_(i,Ds);return}e=i.return;var a=TS(i.alternate,i,Ji);if(a!==null){Dt=a;return}if(i=i.sibling,i!==null){Dt=i;return}Dt=i=e}while(i!==null);ce===0&&(ce=5)}function p_(e,i){do{var a=AS(e.alternate,e);if(a!==null){a.flags&=32767,Dt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Dt=e;return}Dt=e=a}while(e!==null);ce=6,Dt=null}function g_(e,i,a,l,h,d,_,E,R){e.cancelPendingCommit=null;do dc();while(xe!==0);if((Ft&6)!==0)throw Error(r(327));if(i!==null){if(i===e.current)throw Error(r(177));if(d=i.lanes|i.childLanes,d|=Wh,Fh(e,a,d,_,E,R),e===Wt&&(Dt=Wt=null,Vt=0),qa=i,Ms=e,Wi=a,ld=d,ud=h,r_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,xS(cs,function(){return T_(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,h=nt.p,nt.p=2,_=Ft,Ft|=4;try{SS(e,i,a)}finally{Ft=_,nt.p=h,Q.T=l}}xe=1,y_(),__(),v_()}}function y_(){if(xe===1){xe=0;var e=Ms,i=qa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var l=nt.p;nt.p=2;var h=Ft;Ft|=4;try{Zy(i,e);var d=bd,_=ig(e.containerInfo),E=d.focusedElem,R=d.selectionRange;if(_!==E&&E&&E.ownerDocument&&ng(E.ownerDocument.documentElement,E)){if(R!==null&&Yh(E)){var z=R.start,K=R.end;if(K===void 0&&(K=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(K,E.value.length);else{var X=E.ownerDocument||document,j=X&&X.defaultView||window;if(j.getSelection){var H=j.getSelection(),ut=E.textContent.length,gt=Math.min(R.start,ut),Jt=R.end===void 0?gt:Math.min(R.end,ut);!H.extend&&gt>Jt&&(_=Jt,Jt=gt,gt=_);var U=eg(E,gt),M=eg(E,Jt);if(U&&M&&(H.rangeCount!==1||H.anchorNode!==U.node||H.anchorOffset!==U.offset||H.focusNode!==M.node||H.focusOffset!==M.offset)){var P=X.createRange();P.setStart(U.node,U.offset),H.removeAllRanges(),gt>Jt?(H.addRange(P),H.extend(M.node,M.offset)):(P.setEnd(M.node,M.offset),H.addRange(P))}}}}for(X=[],H=E;H=H.parentNode;)H.nodeType===1&&X.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var Y=X[E];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}wc=!!Sd,bd=Sd=null}finally{Ft=h,nt.p=l,Q.T=a}}e.current=i,xe=2}}function __(){if(xe===2){xe=0;var e=Ms,i=qa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var l=nt.p;nt.p=2;var h=Ft;Ft|=4;try{Qy(e,i.alternate,i)}finally{Ft=h,nt.p=l,Q.T=a}}xe=3}}function v_(){if(xe===4||xe===3){xe=0,iu();var e=Ms,i=qa,a=Wi,l=r_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?xe=5:(xe=0,qa=Ms=null,E_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Vs=null),ki(a),i=i.stateNode,Be&&typeof Be.onCommitFiberRoot=="function")try{Be.onCommitFiberRoot(jn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=Q.T,h=nt.p,nt.p=2,Q.T=null;try{for(var d=e.onRecoverableError,_=0;_<l.length;_++){var E=l[_];d(E.value,{componentStack:E.stack})}}finally{Q.T=i,nt.p=h}}(Wi&3)!==0&&dc(),Si(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===cd?hl++:(hl=0,cd=e):hl=0,fl(0)}}function E_(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Qo(i)))}function dc(){return y_(),__(),v_(),T_()}function T_(){if(xe!==5)return!1;var e=Ms,i=ld;ld=0;var a=ki(Wi),l=Q.T,h=nt.p;try{nt.p=32>a?32:a,Q.T=null,a=ud,ud=null;var d=Ms,_=Wi;if(xe=0,qa=Ms=null,Wi=0,(Ft&6)!==0)throw Error(r(331));var E=Ft;if(Ft|=4,n_(d.current),Wy(d,d.current,_,a),Ft=E,fl(0,!1),Be&&typeof Be.onPostCommitFiberRoot=="function")try{Be.onPostCommitFiberRoot(jn,d)}catch{}return!0}finally{nt.p=h,Q.T=l,E_(e,i)}}function A_(e,i,a){i=Dn(a,i),i=qf(e.stateNode,i,2),e=Rs(e,i,2),e!==null&&(mr(e,2),Si(e))}function Yt(e,i,a){if(e.tag===3)A_(e,e,a);else for(;i!==null;){if(i.tag===3){A_(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Vs===null||!Vs.has(l))){e=Dn(a,e),a=Sy(2),l=Rs(i,a,2),l!==null&&(by(a,l,i,e),mr(l,2),Si(l));break}}i=i.return}}function dd(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new RS;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(rd=!0,h.add(a),e=OS.bind(null,e,i,a),i.then(e,e))}function OS(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Wt===e&&(Vt&a)===a&&(ce===4||ce===3&&(Vt&62914560)===Vt&&300>en()-oc?(Ft&2)===0&&Ha(e,0):ad|=a,Ba===Vt&&(Ba=0)),Si(e)}function S_(e,i){i===0&&(i=uu()),e=Cr(e,i),e!==null&&(mr(e,i),Si(e))}function VS(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),S_(e,a)}function MS(e,i){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(i),S_(e,a)}function xS(e,i){return Me(e,i)}var mc=null,Ga=null,md=!1,pc=!1,pd=!1,Us=0;function Si(e){e!==Ga&&e.next===null&&(Ga===null?mc=Ga=e:Ga=Ga.next=e),pc=!0,md||(md=!0,kS())}function fl(e,i){if(!pd&&pc){pd=!0;do for(var a=!1,l=mc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,E=l.pingedLanes;d=(1<<31-me(42|e)+1)-1,d&=h&~(_&~E),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,I_(l,d))}else d=Vt,d=ri(l,l===Wt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Bn(l,d)||(a=!0,I_(l,d));l=l.next}while(a);pd=!1}}function US(){b_()}function b_(){pc=md=!1;var e=0;Us!==0&&QS()&&(e=Us);for(var i=en(),a=null,l=mc;l!==null;){var h=l.next,d=w_(l,i);d===0?(l.next=null,a===null?mc=h:a.next=h,h===null&&(Ga=a)):(a=l,(e!==0||(d&3)!==0)&&(pc=!0)),l=h}xe!==0&&xe!==5||fl(e),Us!==0&&(Us=0)}function w_(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var _=31-me(d),E=1<<_,R=h[_];R===-1?((E&a)===0||(E&l)!==0)&&(h[_]=Hh(E,i)):R<=i&&(e.expiredLanes|=E),d&=~E}if(i=Wt,a=Vt,a=ri(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===i&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&us(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Bn(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&us(l),ki(a)){case 2:case 8:a=Ao;break;case 32:a=cs;break;case 268435456:a=su;break;default:a=cs}return l=R_.bind(null,e),a=Me(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&us(l),e.callbackPriority=2,e.callbackNode=null,2}function R_(e,i){if(xe!==0&&xe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(dc()&&e.callbackNode!==a)return null;var l=Vt;return l=ri(e,e===Wt?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(o_(e,l,i),w_(e,en()),e.callbackNode!=null&&e.callbackNode===a?R_.bind(null,e):null)}function I_(e,i){if(dc())return null;o_(e,i,!0)}function kS(){YS(function(){(Ft&6)!==0?Me(To,US):b_()})}function gd(){if(Us===0){var e=Da;e===0&&(e=ii,ii<<=1,(ii&261888)===0&&(ii=256)),Us=e}return Us}function C_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:pa(""+e)}function N_(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function LS(e,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=C_((h[Le]||null).action),_=l.submitter;_&&(i=(i=_[Le]||null)?C_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var E=new gi("action","action",null,l,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Us!==0){var R=_?N_(h,_):new FormData(h);kf(a,{pending:!0,data:R,method:h.method,action:d},null,R)}}else typeof d=="function"&&(E.preventDefault(),R=_?N_(h,_):new FormData(h),kf(a,{pending:!0,data:R,method:h.method,action:d},d,R))},currentTarget:h}]})}}for(var yd=0;yd<Jh.length;yd++){var _d=Jh[yd],PS=_d.toLowerCase(),zS=_d[0].toUpperCase()+_d.slice(1);Xn(PS,"on"+zS)}Xn(ag,"onAnimationEnd"),Xn(og,"onAnimationIteration"),Xn(lg,"onAnimationStart"),Xn("dblclick","onDoubleClick"),Xn("focusin","onFocus"),Xn("focusout","onBlur"),Xn(eS,"onTransitionRun"),Xn(nS,"onTransitionStart"),Xn(iS,"onTransitionCancel"),Xn(ug,"onTransitionEnd"),fi("onMouseEnter",["mouseout","mouseover"]),fi("onMouseLeave",["mouseout","mouseover"]),fi("onPointerEnter",["pointerout","pointerover"]),fi("onPointerLeave",["pointerout","pointerover"]),hi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hi("onBeforeInput",["compositionend","keypress","textInput","paste"]),hi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(dl));function D_(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var E=l[_],R=E.instance,z=E.currentTarget;if(E=E.listener,R!==d&&h.isPropagationStopped())break t;d=E,h.currentTarget=z;try{d(h)}catch(K){Du(K)}h.currentTarget=null,d=R}else for(_=0;_<l.length;_++){if(E=l[_],R=E.instance,z=E.currentTarget,E=E.listener,R!==d&&h.isPropagationStopped())break t;d=E,h.currentTarget=z;try{d(h)}catch(K){Du(K)}h.currentTarget=null,d=R}}}}function Ot(e,i){var a=i[ca];a===void 0&&(a=i[ca]=new Set);var l=e+"__bubble";a.has(l)||(O_(i,e,2,!1),a.add(l))}function vd(e,i,a){var l=0;i&&(l|=4),O_(a,e,l,i)}var gc="_reactListening"+Math.random().toString(36).slice(2);function Ed(e){if(!e[gc]){e[gc]=!0,wo.forEach(function(a){a!=="selectionchange"&&(jS.has(a)||vd(a,!1,e),vd(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[gc]||(i[gc]=!0,vd("selectionchange",!1,i))}}function O_(e,i,a,l){switch(av(i)){case 2:var h=mb;break;case 8:h=pb;break;default:h=Ud}a=h.bind(null,i,a,e),h=void 0,!Er||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function Td(e,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var E=l.stateNode.containerInfo;if(E===h)break;if(_===4)for(_=l.return;_!==null;){var R=_.tag;if((R===3||R===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;E!==null;){if(_=ui(E),_===null)return;if(R=_.tag,R===5||R===6||R===26||R===27){l=d=_;continue t}E=E.parentNode}}l=l.return}gs(function(){var z=d,K=Rn(a),X=[];t:{var j=cg.get(e);if(j!==void 0){var H=gi,ut=e;switch(e){case"keypress":if(Ar(a)===0)break t;case"keydown":case"keyup":H=Iu;break;case"focusin":ut="focus",H=br;break;case"focusout":ut="blur",H=br;break;case"beforeblur":case"afterblur":H=br;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Po;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=_u;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case ag:case og:case lg:H=Eu;break;case ug:H=A;break;case"scroll":case"scrollend":H=Lo;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=Tu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=zi;break;case"toggle":case"beforetoggle":H=bt}var gt=(i&4)!==0,Jt=!gt&&(e==="scroll"||e==="scrollend"),U=gt?j!==null?j+"Capture":null:j;gt=[];for(var M=z,P;M!==null;){var Y=M;if(P=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||P===null||U===null||(Y=Gn(M,U),Y!=null&&gt.push(ml(M,Y,P))),Jt)break;M=M.return}0<gt.length&&(j=new H(j,ut,null,a,K),X.push({event:j,listeners:gt}))}}if((i&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",j&&a!==xo&&(ut=a.relatedTarget||a.fromElement)&&(ui(ut)||ut[oi]))break t;if((H||j)&&(j=K.window===K?K:(j=K.ownerDocument)?j.defaultView||j.parentWindow:window,H?(ut=a.relatedTarget||a.toElement,H=z,ut=ut?ui(ut):null,ut!==null&&(Jt=u(ut),gt=ut.tag,ut!==Jt||gt!==5&&gt!==27&&gt!==6)&&(ut=null)):(H=null,ut=z),H!==ut)){if(gt=Po,Y="onMouseLeave",U="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(gt=zi,Y="onPointerLeave",U="onPointerEnter",M="pointer"),Jt=H==null?j:pn(H),P=ut==null?j:pn(ut),j=new gt(Y,M+"leave",H,a,K),j.target=Jt,j.relatedTarget=P,Y=null,ui(K)===z&&(gt=new gt(U,M+"enter",ut,a,K),gt.target=P,gt.relatedTarget=Jt,Y=gt),Jt=Y,H&&ut)e:{for(gt=BS,U=H,M=ut,P=0,Y=U;Y;Y=gt(Y))P++;Y=0;for(var dt=M;dt;dt=gt(dt))Y++;for(;0<P-Y;)U=gt(U),P--;for(;0<Y-P;)M=gt(M),Y--;for(;P--;){if(U===M||M!==null&&U===M.alternate){gt=U;break e}U=gt(U),M=gt(M)}gt=null}else gt=null;H!==null&&V_(X,j,H,gt,!1),ut!==null&&Jt!==null&&V_(X,Jt,ut,gt,!0)}}t:{if(j=z?pn(z):window,H=j.nodeName&&j.nodeName.toLowerCase(),H==="select"||H==="input"&&j.type==="file")var Bt=Xp;else if(Kp(j))if($p)Bt=JA;else{Bt=$A;var ct=XA}else H=j.nodeName,!H||H.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&ma(z.elementType)&&(Bt=Xp):Bt=ZA;if(Bt&&(Bt=Bt(e,z))){Yp(X,Bt,a,K);break t}ct&&ct(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&Oo(j,"number",j.value)}switch(ct=z?pn(z):window,e){case"focusin":(Kp(ct)||ct.contentEditable==="true")&&(Aa=ct,Xh=z,Ho=null);break;case"focusout":Ho=Xh=Aa=null;break;case"mousedown":$h=!0;break;case"contextmenu":case"mouseup":case"dragend":$h=!1,sg(X,a,K);break;case"selectionchange":if(tS)break;case"keydown":case"keyup":sg(X,a,K)}var It;if(Ht)t:{switch(e){case"compositionstart":var Mt="onCompositionStart";break t;case"compositionend":Mt="onCompositionEnd";break t;case"compositionupdate":Mt="onCompositionUpdate";break t}Mt=void 0}else Ta?wr(e,a)&&(Mt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Mt="onCompositionStart");Mt&&(vi&&a.locale!=="ko"&&(Ta||Mt!=="onCompositionStart"?Mt==="onCompositionEnd"&&Ta&&(It=ko()):(pi=K,Uo="value"in pi?pi.value:pi.textContent,Ta=!0)),ct=yc(z,Mt),0<ct.length&&(Mt=new _i(Mt,e,null,a,K),X.push({event:Mt,listeners:ct}),It?Mt.data=It:(It=Ea(a),It!==null&&(Mt.data=It)))),(It=Cn?GA(e,a):QA(e,a))&&(Mt=yc(z,"onBeforeInput"),0<Mt.length&&(ct=new _i("onBeforeInput","beforeinput",null,a,K),X.push({event:ct,listeners:Mt}),ct.data=It)),LS(X,e,z,a,K)}D_(X,i)})}function ml(e,i,a){return{instance:e,listener:i,currentTarget:a}}function yc(e,i){for(var a=i+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Gn(e,a),h!=null&&l.unshift(ml(e,h,d)),h=Gn(e,i),h!=null&&l.push(ml(e,h,d))),e.tag===3)return l;e=e.return}return[]}function BS(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function V_(e,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var E=a,R=E.alternate,z=E.stateNode;if(E=E.tag,R!==null&&R===l)break;E!==5&&E!==26&&E!==27||z===null||(R=z,h?(z=Gn(a,d),z!=null&&_.unshift(ml(a,z,R))):h||(z=Gn(a,d),z!=null&&_.push(ml(a,z,R)))),a=a.return}_.length!==0&&e.push({event:i,listeners:_})}var qS=/\r\n?/g,HS=/\u0000|\uFFFD/g;function M_(e){return(typeof e=="string"?e:""+e).replace(qS,`
`).replace(HS,"")}function x_(e,i){return i=M_(i),M_(e)===i}function Zt(e,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||ln(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&ln(e,""+l);break;case"className":gn(e,"class",l);break;case"tabIndex":gn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":gn(e,a,l);break;case"style":Mo(e,l,d);break;case"data":if(i!=="object"){gn(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=pa(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Zt(e,i,"name",h.name,h,null),Zt(e,i,"formEncType",h.formEncType,h,null),Zt(e,i,"formMethod",h.formMethod,h,null),Zt(e,i,"formTarget",h.formTarget,h,null)):(Zt(e,i,"encType",h.encType,h,null),Zt(e,i,"method",h.method,h,null),Zt(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=pa(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Fn);break;case"onScroll":l!=null&&Ot("scroll",e);break;case"onScrollEnd":l!=null&&Ot("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=pa(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Ot("beforetoggle",e),Ot("toggle",e),fa(e,"popover",l);break;case"xlinkActuate":Se(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Se(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Se(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Se(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Se(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Se(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Se(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Se(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Se(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":fa(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=yu.get(a)||a,fa(e,a,l))}}function Ad(e,i,a,l,h,d){switch(a){case"style":Mo(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof l=="string"?ln(e,l):(typeof l=="number"||typeof l=="bigint")&&ln(e,""+l);break;case"onScroll":l!=null&&Ot("scroll",e);break;case"onScrollEnd":l!=null&&Ot("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Fn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ro.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[Le]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):fa(e,a,l)}}}function Qe(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",e),Ot("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Zt(e,i,d,_,a,null)}}h&&Zt(e,i,"srcSet",a.srcSet,a,null),l&&Zt(e,i,"src",a.src,a,null);return;case"input":Ot("invalid",e);var E=d=_=h=null,R=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var K=a[l];if(K!=null)switch(l){case"name":h=K;break;case"type":_=K;break;case"checked":R=K;break;case"defaultChecked":z=K;break;case"value":d=K;break;case"defaultValue":E=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,i));break;default:Zt(e,i,l,K,a,null)}}mu(e,d,E,R,z,_,h,!1);return;case"select":Ot("invalid",e),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":d=E;break;case"defaultValue":_=E;break;case"multiple":l=E;default:Zt(e,i,h,E,a,null)}i=d,a=_,e.multiple=!!l,i!=null?fs(e,!!l,i,!1):a!=null&&fs(e,!!l,a,!0);return;case"textarea":Ot("invalid",e),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(E=a[_],E!=null))switch(_){case"value":l=E;break;case"defaultValue":h=E;break;case"children":d=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:Zt(e,i,_,E,a,null)}ds(e,l,h,d);return;case"option":for(R in a)a.hasOwnProperty(R)&&(l=a[R],l!=null)&&(R==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":Zt(e,i,R,l,a,null));return;case"dialog":Ot("beforetoggle",e),Ot("toggle",e),Ot("cancel",e),Ot("close",e);break;case"iframe":case"object":Ot("load",e);break;case"video":case"audio":for(l=0;l<dl.length;l++)Ot(dl[l],e);break;case"image":Ot("error",e),Ot("load",e);break;case"details":Ot("toggle",e);break;case"embed":case"source":case"link":Ot("error",e),Ot("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Zt(e,i,z,l,a,null)}return;default:if(ma(i)){for(K in a)a.hasOwnProperty(K)&&(l=a[K],l!==void 0&&Ad(e,i,K,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Zt(e,i,E,l,a,null))}function FS(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,E=null,R=null,z=null,K=null;for(H in a){var X=a[H];if(a.hasOwnProperty(H)&&X!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":R=X;default:l.hasOwnProperty(H)||Zt(e,i,H,null,l,X)}}for(var j in l){var H=l[j];if(X=a[j],l.hasOwnProperty(j)&&(H!=null||X!=null))switch(j){case"type":d=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":K=H;break;case"value":_=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,i));break;default:H!==X&&Zt(e,i,j,H,l,X)}}da(e,_,E,R,z,K,d,h);return;case"select":H=_=E=j=null;for(d in a)if(R=a[d],a.hasOwnProperty(d)&&R!=null)switch(d){case"value":break;case"multiple":H=R;default:l.hasOwnProperty(d)||Zt(e,i,d,null,l,R)}for(h in l)if(d=l[h],R=a[h],l.hasOwnProperty(h)&&(d!=null||R!=null))switch(h){case"value":j=d;break;case"defaultValue":E=d;break;case"multiple":_=d;default:d!==R&&Zt(e,i,h,d,l,R)}i=E,a=_,l=H,j!=null?fs(e,!!a,j,!1):!!l!=!!a&&(i!=null?fs(e,!!a,i,!0):fs(e,!!a,a?[]:"",!1));return;case"textarea":H=j=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Zt(e,i,E,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":j=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==d&&Zt(e,i,_,h,l,d)}pu(e,j,H);return;case"option":for(var ut in a)j=a[ut],a.hasOwnProperty(ut)&&j!=null&&!l.hasOwnProperty(ut)&&(ut==="selected"?e.selected=!1:Zt(e,i,ut,null,l,j));for(R in l)j=l[R],H=a[R],l.hasOwnProperty(R)&&j!==H&&(j!=null||H!=null)&&(R==="selected"?e.selected=j&&typeof j!="function"&&typeof j!="symbol":Zt(e,i,R,j,l,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in a)j=a[gt],a.hasOwnProperty(gt)&&j!=null&&!l.hasOwnProperty(gt)&&Zt(e,i,gt,null,l,j);for(z in l)if(j=l[z],H=a[z],l.hasOwnProperty(z)&&j!==H&&(j!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(137,i));break;default:Zt(e,i,z,j,l,H)}return;default:if(ma(i)){for(var Jt in a)j=a[Jt],a.hasOwnProperty(Jt)&&j!==void 0&&!l.hasOwnProperty(Jt)&&Ad(e,i,Jt,void 0,l,j);for(K in l)j=l[K],H=a[K],!l.hasOwnProperty(K)||j===H||j===void 0&&H===void 0||Ad(e,i,K,j,l,H);return}}for(var U in a)j=a[U],a.hasOwnProperty(U)&&j!=null&&!l.hasOwnProperty(U)&&Zt(e,i,U,null,l,j);for(X in l)j=l[X],H=a[X],!l.hasOwnProperty(X)||j===H||j==null&&H==null||Zt(e,i,X,j,l,H)}function U_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function GS(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,E=h.duration;if(d&&E&&U_(_)){for(_=0,E=h.responseEnd,l+=1;l<a.length;l++){var R=a[l],z=R.startTime;if(z>E)break;var K=R.transferSize,X=R.initiatorType;K&&U_(X)&&(R=R.responseEnd,_+=K*(R<E?1:(E-z)/(R-z)))}if(--l,i+=8*(d+_)/(h.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Sd=null,bd=null;function _c(e){return e.nodeType===9?e:e.ownerDocument}function k_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function L_(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function wd(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Rd=null;function QS(){var e=window.event;return e&&e.type==="popstate"?e===Rd?!1:(Rd=e,!0):(Rd=null,!1)}var P_=typeof setTimeout=="function"?setTimeout:void 0,KS=typeof clearTimeout=="function"?clearTimeout:void 0,z_=typeof Promise=="function"?Promise:void 0,YS=typeof queueMicrotask=="function"?queueMicrotask:typeof z_<"u"?function(e){return z_.resolve(null).then(e).catch(XS)}:P_;function XS(e){setTimeout(function(){throw e})}function ks(e){return e==="head"}function j_(e,i){var a=i,l=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(h),Xa(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")pl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,pl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,E=d.nodeName;d[li]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&pl(e.ownerDocument.body);a=h}while(a);Xa(i)}function B_(e,i){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function Id(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Id(a),ha(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function $S(e,i,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[li])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Un(e.nextSibling),e===null)break}return null}function ZS(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Un(e.nextSibling),e===null))return null;return e}function q_(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Un(e.nextSibling),e===null))return null;return e}function Cd(e){return e.data==="$?"||e.data==="$~"}function Nd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function JS(e,i){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Un(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var Dd=null;function H_(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(i===0)return Un(e.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}e=e.nextSibling}return null}function F_(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return e;i--}else a!=="/$"&&a!=="/&"||i++}e=e.previousSibling}return null}function G_(e,i,a){switch(i=_c(a),e){case"html":if(e=i.documentElement,!e)throw Error(r(452));return e;case"head":if(e=i.head,!e)throw Error(r(453));return e;case"body":if(e=i.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function pl(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);ha(e)}var kn=new Map,Q_=new Set;function vc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ts=nt.d;nt.d={f:WS,r:tb,D:eb,C:nb,L:ib,m:sb,X:ab,S:rb,M:ob};function WS(){var e=ts.f(),i=cc();return e||i}function tb(e){var i=wn(e);i!==null&&i.tag===5&&i.type==="form"?uy(i):ts.r(e)}var Qa=typeof document>"u"?null:document;function K_(e,i,a){var l=Qa;if(l&&typeof i=="string"&&i){var h=on(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Q_.has(h)||(Q_.add(h),e={rel:e,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Qe(i,"link",e),Ae(i),l.head.appendChild(i)))}}function eb(e){ts.D(e),K_("dns-prefetch",e,null)}function nb(e,i){ts.C(e,i),K_("preconnect",e,i)}function ib(e,i,a){ts.L(e,i,a);var l=Qa;if(l&&e&&i){var h='link[rel="preload"][as="'+on(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+on(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+on(a.imageSizes)+'"]')):h+='[href="'+on(e)+'"]';var d=h;switch(i){case"style":d=Ka(e);break;case"script":d=Ya(e)}kn.has(d)||(e=S({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),kn.set(d,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(gl(d))||i==="script"&&l.querySelector(yl(d))||(i=l.createElement("link"),Qe(i,"link",e),Ae(i),l.head.appendChild(i)))}}function sb(e,i){ts.m(e,i);var a=Qa;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+on(l)+'"][href="'+on(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ya(e)}if(!kn.has(d)&&(e=S({rel:"modulepreload",href:e},i),kn.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(yl(d)))return}l=a.createElement("link"),Qe(l,"link",e),Ae(l),a.head.appendChild(l)}}}function rb(e,i,a){ts.S(e,i,a);var l=Qa;if(l&&e){var h=ci(l).hoistableStyles,d=Ka(e);i=i||"default";var _=h.get(d);if(!_){var E={loading:0,preload:null};if(_=l.querySelector(gl(d)))E.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":i},a),(a=kn.get(d))&&Od(e,a);var R=_=l.createElement("link");Ae(R),Qe(R,"link",e),R._p=new Promise(function(z,K){R.onload=z,R.onerror=K}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Ec(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:E},h.set(d,_)}}}function ab(e,i){ts.X(e,i);var a=Qa;if(a&&e){var l=ci(a).hoistableScripts,h=Ya(e),d=l.get(h);d||(d=a.querySelector(yl(h)),d||(e=S({src:e,async:!0},i),(i=kn.get(h))&&Vd(e,i),d=a.createElement("script"),Ae(d),Qe(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function ob(e,i){ts.M(e,i);var a=Qa;if(a&&e){var l=ci(a).hoistableScripts,h=Ya(e),d=l.get(h);d||(d=a.querySelector(yl(h)),d||(e=S({src:e,async:!0,type:"module"},i),(i=kn.get(h))&&Vd(e,i),d=a.createElement("script"),Ae(d),Qe(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Y_(e,i,a,l){var h=(h=Rt.current)?vc(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ka(a.href),a=ci(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ka(a.href);var d=ci(h).hoistableStyles,_=d.get(e);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,_),(d=h.querySelector(gl(e)))&&!d._p&&(_.instance=d,_.state.loading=5),kn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},kn.set(e,a),d||lb(h,e,a,_.state))),i&&l===null)throw Error(r(528,""));return _}if(i&&l!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ya(a),a=ci(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Ka(e){return'href="'+on(e)+'"'}function gl(e){return'link[rel="stylesheet"]['+e+"]"}function X_(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function lb(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Qe(i,"link",a),Ae(i),e.head.appendChild(i))}function Ya(e){return'[src="'+on(e)+'"]'}function yl(e){return"script[async]"+e}function $_(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+on(a.href)+'"]');if(l)return i.instance=l,Ae(l),l;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Ae(l),Qe(l,"style",h),Ec(l,a.precedence,e),i.instance=l;case"stylesheet":h=Ka(a.href);var d=e.querySelector(gl(h));if(d)return i.state.loading|=4,i.instance=d,Ae(d),d;l=X_(a),(h=kn.get(h))&&Od(l,h),d=(e.ownerDocument||e).createElement("link"),Ae(d);var _=d;return _._p=new Promise(function(E,R){_.onload=E,_.onerror=R}),Qe(d,"link",l),i.state.loading|=4,Ec(d,a.precedence,e),i.instance=d;case"script":return d=Ya(a.src),(h=e.querySelector(yl(d)))?(i.instance=h,Ae(h),h):(l=a,(h=kn.get(d))&&(l=S({},a),Vd(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ae(h),Qe(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Ec(l,a.precedence,e));return i.instance}function Ec(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var E=l[_];if(E.dataset.precedence===i)d=E;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function Od(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Vd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Tc=null;function Z_(e,i,a){if(Tc===null){var l=new Map,h=Tc=new Map;h.set(a,l)}else h=Tc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[li]||d[Te]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=e+_;var E=l.get(_);E?E.push(d):l.set(_,[d])}}return l}function J_(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function ub(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(e=i.disabled,typeof i.precedence=="string"&&e==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function W_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function cb(e,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ka(l.href),d=i.querySelector(gl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=Ac.bind(e),i.then(e,e)),a.state.loading|=4,a.instance=d,Ae(d);return}d=i.ownerDocument||i,l=X_(l),(h=kn.get(h))&&Od(l,h),d=d.createElement("link"),Ae(d);var _=d;_._p=new Promise(function(E,R){_.onload=E,_.onerror=R}),Qe(d,"link",l),a.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Ac.bind(e),i.addEventListener("load",a),i.addEventListener("error",a))}}var Md=0;function hb(e,i){return e.stylesheets&&e.count===0&&bc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&bc(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+i);0<e.imgBytes&&Md===0&&(Md=62500*GS());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&bc(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>Md?50:800)+i);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Ac(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)bc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Sc=null;function bc(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Sc=new Map,i.forEach(fb,e),Sc=null,Ac.call(e))}function fb(e,i){if(!(i.state.loading&4)){var a=Sc.get(e);if(a)var l=a.get(null);else{a=new Map,Sc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=Ac.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var _l={$$typeof:lt,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function db(e,i,a,l,h,d,_,E,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ai(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ai(0),this.hiddenUpdates=ai(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function tv(e,i,a,l,h,d,_,E,R,z,K,X){return e=new db(e,i,a,_,R,z,K,X,E),i=1,d===!0&&(i|=24),d=_n(3,null,null,i),e.current=d,d.stateNode=e,i=ff(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},gf(d),e}function ev(e){return e?(e=wa,e):wa}function nv(e,i,a,l,h,d){h=ev(h),l.context===null?l.context=h:l.pendingContext=h,l=ws(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Rs(e,l,i),a!==null&&(dn(a,e,i),$o(a,e,i))}function iv(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function xd(e,i){iv(e,i),(e=e.alternate)&&iv(e,i)}function sv(e){if(e.tag===13||e.tag===31){var i=Cr(e,67108864);i!==null&&dn(i,e,67108864),xd(e,67108864)}}function rv(e){if(e.tag===13||e.tag===31){var i=Sn();i=gr(i);var a=Cr(e,i);a!==null&&dn(a,e,i),xd(e,i)}}var wc=!0;function mb(e,i,a,l){var h=Q.T;Q.T=null;var d=nt.p;try{nt.p=2,Ud(e,i,a,l)}finally{nt.p=d,Q.T=h}}function pb(e,i,a,l){var h=Q.T;Q.T=null;var d=nt.p;try{nt.p=8,Ud(e,i,a,l)}finally{nt.p=d,Q.T=h}}function Ud(e,i,a,l){if(wc){var h=kd(l);if(h===null)Td(e,i,l,Rc,a),ov(e,l);else if(yb(h,e,i,a,l))l.stopPropagation();else if(ov(e,l),i&4&&-1<gb.indexOf(e)){for(;h!==null;){var d=wn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=si(d.pendingLanes);if(_!==0){var E=d;for(E.pendingLanes|=2,E.entangledLanes|=2;_;){var R=1<<31-me(_);E.entanglements[1]|=R,_&=~R}Si(d),(Ft&6)===0&&(lc=en()+500,fl(0))}}break;case 31:case 13:E=Cr(d,2),E!==null&&dn(E,d,2),cc(),xd(d,2)}if(d=kd(l),d===null&&Td(e,i,l,Rc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Td(e,i,l,null,a)}}function kd(e){return e=Rn(e),Ld(e)}var Rc=null;function Ld(e){if(Rc=null,e=ui(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=f(i),e!==null)return e;e=null}else if(a===31){if(e=p(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Rc=e,null}function av(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fr()){case To:return 2;case Ao:return 8;case cs:case qh:return 32;case su:return 268435456;default:return 32}default:return 32}}var Pd=!1,Ls=null,Ps=null,zs=null,vl=new Map,El=new Map,js=[],gb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ov(e,i){switch(e){case"focusin":case"focusout":Ls=null;break;case"dragenter":case"dragleave":Ps=null;break;case"mouseover":case"mouseout":zs=null;break;case"pointerover":case"pointerout":vl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":El.delete(i.pointerId)}}function Tl(e,i,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=wn(i),i!==null&&sv(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function yb(e,i,a,l,h){switch(i){case"focusin":return Ls=Tl(Ls,e,i,a,l,h),!0;case"dragenter":return Ps=Tl(Ps,e,i,a,l,h),!0;case"mouseover":return zs=Tl(zs,e,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return vl.set(d,Tl(vl.get(d)||null,e,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,El.set(d,Tl(El.get(d)||null,e,i,a,l,h)),!0}return!1}function lv(e){var i=ui(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){e.blockedOn=i,qn(e.priority,function(){rv(a)});return}}else if(i===31){if(i=p(a),i!==null){e.blockedOn=i,qn(e.priority,function(){rv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ic(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=kd(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);xo=l,a.target.dispatchEvent(l),xo=null}else return i=wn(a),i!==null&&sv(i),e.blockedOn=a,!1;i.shift()}return!0}function uv(e,i,a){Ic(e)&&a.delete(i)}function _b(){Pd=!1,Ls!==null&&Ic(Ls)&&(Ls=null),Ps!==null&&Ic(Ps)&&(Ps=null),zs!==null&&Ic(zs)&&(zs=null),vl.forEach(uv),El.forEach(uv)}function Cc(e,i){e.blockedOn===i&&(e.blockedOn=null,Pd||(Pd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,_b)))}var Nc=null;function cv(e){Nc!==e&&(Nc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Nc===e&&(Nc=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(Ld(l||a)===null)continue;break}var d=wn(a);d!==null&&(e.splice(i,3),i-=3,kf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Xa(e){function i(R){return Cc(R,e)}Ls!==null&&Cc(Ls,e),Ps!==null&&Cc(Ps,e),zs!==null&&Cc(zs,e),vl.forEach(i),El.forEach(i);for(var a=0;a<js.length;a++){var l=js[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<js.length&&(a=js[0],a.blockedOn===null);)lv(a),a.blockedOn===null&&js.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[Le]||null;if(typeof d=="function")_||cv(a);else if(_){var E=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Le]||null)E=_.formAction;else if(Ld(h)!==null)continue}else E=_.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),cv(a)}}}function hv(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function zd(e){this._internalRoot=e}Dc.prototype.render=zd.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,l=Sn();nv(a,l,e,i,null,null)},Dc.prototype.unmount=zd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;nv(e.current,2,null,e,null,null),cc(),i[oi]=null}};function Dc(e){this._internalRoot=e}Dc.prototype.unstable_scheduleHydration=function(e){if(e){var i=cu();e={blockedOn:null,target:e,priority:i};for(var a=0;a<js.length&&i!==0&&i<js[a].priority;a++);js.splice(a,0,e),a===0&&lv(e)}};var fv=t.version;if(fv!=="19.2.3")throw Error(r(527,fv,"19.2.3"));nt.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=y(i),e=e!==null?T(e):null,e=e===null?null:e.stateNode,e};var vb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oc.isDisabled&&Oc.supportsFiber)try{jn=Oc.inject(vb),Be=Oc}catch{}}return Sl.createRoot=function(e,i){if(!o(e))throw Error(r(299));var a=!1,l="",h=vy,d=Ey,_=Ty;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=tv(e,1,!1,null,null,a,l,null,h,d,_,hv),e[oi]=i.current,Ed(e),new zd(i)},Sl.hydrateRoot=function(e,i,a){if(!o(e))throw Error(r(299));var l=!1,h="",d=vy,_=Ey,E=Ty,R=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(R=a.formState)),i=tv(e,1,!0,i,a??null,l,h,R,d,_,E,hv),i.context=ev(null),a=i.current,l=Sn(),l=gr(l),h=ws(l),h.callback=null,Rs(a,h,l),a=l,i.current.lanes=a,mr(i,a),Si(i),e[oi]=i.current,Ed(e),new Dc(i)},Sl.version="19.2.3",Sl}var Av;function Nb(){if(Av)return qd.exports;Av=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),qd.exports=Cb(),qd.exports}var Db=Nb();const Ob="100.5%",Vb={today:"44%",cafe:"59%",moon:"74%",urhu:"89%"},Mb={today:"today",cafe:"caf",moon:"moon",urhu:"urhu"};function xb({pages:s,onActiveChange:t,onLabelClick:n}){const[r,o]=mt.useState(()=>s.map(p=>p.key)),u=p=>s.find(g=>g.key===p),f=p=>{o(g=>{const T=[...g.filter(S=>S!==p),p];return t?.(p),T})};return C.jsx("div",{className:"file-stack",children:r.map((p,g)=>{const y=u(p);if(!y)return null;const T=g===r.length-1,S=y.Component,N=Mb[p]??p,B=Vb[p]??"50%";return C.jsxs("div",{className:`file-card ${T?"file-card--active":""}`,style:{"--position":g,"--cardWidth":Ob,"--cardColor":`var(--${p}-card-color)`,"--cardTextColor":`var(--${p}-card-text-color)`,"--cardBackground":`var(--${p}-card-background, var(--${p}-card-color))`,"--tabOffset":B},onClick:()=>f(p),children:[C.jsx("div",{className:"file-main",children:C.jsx(S,{})}),C.jsx("button",{type:"button",className:"file-label",onClick:F=>{F.stopPropagation(),f(p),n?.(p)},"aria-label":`${N} tab`,children:C.jsx("span",{children:N})})]},p)})})}const Ub=()=>{};var Sv={};const oT=function(s){const t=[];let n=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},kb=function(s){const t=[];let n=0,r=0;for(;n<s.length;){const o=s[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=s[n++];t[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=s[n++],f=s[n++],p=s[n++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|p&63)-65536;t[r++]=String.fromCharCode(55296+(g>>10)),t[r++]=String.fromCharCode(56320+(g&1023))}else{const u=s[n++],f=s[n++];t[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},lT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const u=s[o],f=o+1<s.length,p=f?s[o+1]:0,g=o+2<s.length,y=g?s[o+2]:0,T=u>>2,S=(u&3)<<4|p>>4;let N=(p&15)<<2|y>>6,B=y&63;g||(B=64,f||(N=64)),r.push(n[T],n[S],n[N],n[B])}return r.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(oT(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):kb(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const u=n[s.charAt(o++)],p=o<s.length?n[s.charAt(o)]:0;++o;const y=o<s.length?n[s.charAt(o)]:64;++o;const S=o<s.length?n[s.charAt(o)]:64;if(++o,u==null||p==null||y==null||S==null)throw new Lb;const N=u<<2|p>>4;if(r.push(N),y!==64){const B=p<<4&240|y>>2;if(r.push(B),S!==64){const F=y<<6&192|S;r.push(F)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class Lb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Pb=function(s){const t=oT(s);return lT.encodeByteArray(t,!0)},th=function(s){return Pb(s).replace(/\./g,"")},uT=function(s){try{return lT.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function zb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const jb=()=>zb().__FIREBASE_DEFAULTS__,Bb=()=>{if(typeof process>"u"||typeof Sv>"u")return;const s=Sv.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},qb=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&uT(s[1]);return t&&JSON.parse(t)},Eh=()=>{try{return Ub()||jb()||Bb()||qb()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},cT=s=>Eh()?.emulatorHosts?.[s],hT=s=>{const t=cT(s);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},fT=()=>Eh()?.config,dT=s=>Eh()?.[`_${s}`];class Hb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}function ur(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function zm(s){return(await fetch(s,{credentials:"include"})).ok}function mT(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",o=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[th(JSON.stringify(n)),th(JSON.stringify(f)),""].join(".")}const Nl={};function Fb(){const s={prod:[],emulator:[]};for(const t of Object.keys(Nl))Nl[t]?s.emulator.push(t):s.prod.push(t);return s}function Gb(s){let t=document.getElementById(s),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),n=!0),{created:n,element:t}}let bv=!1;function jm(s,t){if(typeof window>"u"||typeof document>"u"||!ur(window.location.host)||Nl[s]===t||Nl[s]||bv)return;Nl[s]=t;function n(N){return`__firebase__banner__${N}`}const r="__firebase__banner",u=Fb().prod.length>0;function f(){const N=document.getElementById(r);N&&N.remove()}function p(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function g(N,B){N.setAttribute("width","24"),N.setAttribute("id",B),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function y(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{bv=!0,f()},N}function T(N,B){N.setAttribute("id",B),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function S(){const N=Gb(r),B=n("text"),F=document.getElementById(B)||document.createElement("span"),W=n("learnmore"),J=document.getElementById(W)||document.createElement("a"),at=n("preprendIcon"),ht=document.getElementById(at)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const lt=N.element;p(lt),T(J,W);const yt=y();g(ht,at),lt.append(ht,F,J,yt),document.body.appendChild(lt)}u?(F.innerText="Preview backend disconnected.",ht.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ht.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,F.innerText="Preview backend running in this workspace."),F.setAttribute("id",B)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Qb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function Kb(){const s=Eh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Yb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Xb(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function $b(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Zb(){const s=tn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function Jb(){return!Kb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Wb(){try{return typeof indexedDB=="object"}catch{return!1}}function tw(){return new Promise((s,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(n){t(n)}})}const ew="FirebaseError";class Ui extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=ew,Object.setPrototypeOf(this,Ui.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Kl.prototype.create)}}class Kl{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?nw(u,r):"Error",p=`${this.serviceName}: ${f} (${o}).`;return new Ui(o,p,r)}}function nw(s,t){return s.replace(iw,(n,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const iw=/\{\$([^}]+)}/g;function sw(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function Xr(s,t){if(s===t)return!0;const n=Object.keys(s),r=Object.keys(t);for(const o of n){if(!r.includes(o))return!1;const u=s[o],f=t[o];if(wv(u)&&wv(f)){if(!Xr(u,f))return!1}else if(u!==f)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function wv(s){return s!==null&&typeof s=="object"}function Yl(s){const t=[];for(const[n,r]of Object.entries(s))Array.isArray(r)?r.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function rw(s,t){const n=new aw(s,t);return n.subscribe.bind(n)}class aw{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let o;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");ow(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:r},o.next===void 0&&(o.next=Qd),o.error===void 0&&(o.error=Qd),o.complete===void 0&&(o.complete=Qd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ow(s,t){if(typeof s!="object"||s===null)return!1;for(const n of t)if(n in s&&typeof s[n]=="function")return!0;return!1}function Qd(){}function Oe(s){return s&&s._delegate?s._delegate:s}class nr{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Br="[DEFAULT]";class lw{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new Hb;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(cw(t))try{this.getOrInitializeService({instanceIdentifier:Br})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(t=Br){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Br){return this.instances.has(t)}getOptions(t=Br){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);r===p&&f.resolve(o)}return o}onInit(t,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(t),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&t(u,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:uw(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Br){return this.component?this.component.multipleInstances?t:Br:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function uw(s){return s===Br?void 0:s}function cw(s){return s.instantiationMode==="EAGER"}class hw{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new lw(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var xt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(xt||(xt={}));const fw={debug:xt.DEBUG,verbose:xt.VERBOSE,info:xt.INFO,warn:xt.WARN,error:xt.ERROR,silent:xt.SILENT},dw=xt.INFO,mw={[xt.DEBUG]:"log",[xt.VERBOSE]:"log",[xt.INFO]:"info",[xt.WARN]:"warn",[xt.ERROR]:"error"},pw=(s,t,...n)=>{if(t<s.logLevel)return;const r=new Date().toISOString(),o=mw[t];if(o)console[o](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Bm{constructor(t){this.name=t,this._logLevel=dw,this._logHandler=pw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in xt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?fw[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,xt.DEBUG,...t),this._logHandler(this,xt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,xt.VERBOSE,...t),this._logHandler(this,xt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,xt.INFO,...t),this._logHandler(this,xt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,xt.WARN,...t),this._logHandler(this,xt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,xt.ERROR,...t),this._logHandler(this,xt.ERROR,...t)}}const gw=(s,t)=>t.some(n=>s instanceof n);let Rv,Iv;function yw(){return Rv||(Rv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _w(){return Iv||(Iv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pT=new WeakMap,lm=new WeakMap,gT=new WeakMap,Kd=new WeakMap,qm=new WeakMap;function vw(s){const t=new Promise((n,r)=>{const o=()=>{s.removeEventListener("success",u),s.removeEventListener("error",f)},u=()=>{n(Zs(s.result)),o()},f=()=>{r(s.error),o()};s.addEventListener("success",u),s.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&pT.set(n,s)}).catch(()=>{}),qm.set(t,s),t}function Ew(s){if(lm.has(s))return;const t=new Promise((n,r)=>{const o=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",f),s.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",u),s.addEventListener("error",f),s.addEventListener("abort",f)});lm.set(s,t)}let um={get(s,t,n){if(s instanceof IDBTransaction){if(t==="done")return lm.get(s);if(t==="objectStoreNames")return s.objectStoreNames||gT.get(s);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zs(s[t])},set(s,t,n){return s[t]=n,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function Tw(s){um=s(um)}function Aw(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=s.call(Yd(this),t,...n);return gT.set(r,t.sort?t.sort():[t]),Zs(r)}:_w().includes(s)?function(...t){return s.apply(Yd(this),t),Zs(pT.get(this))}:function(...t){return Zs(s.apply(Yd(this),t))}}function Sw(s){return typeof s=="function"?Aw(s):(s instanceof IDBTransaction&&Ew(s),gw(s,yw())?new Proxy(s,um):s)}function Zs(s){if(s instanceof IDBRequest)return vw(s);if(Kd.has(s))return Kd.get(s);const t=Sw(s);return t!==s&&(Kd.set(s,t),qm.set(t,s)),t}const Yd=s=>qm.get(s);function bw(s,t,{blocked:n,upgrade:r,blocking:o,terminated:u}={}){const f=indexedDB.open(s,t),p=Zs(f);return r&&f.addEventListener("upgradeneeded",g=>{r(Zs(f.result),g.oldVersion,g.newVersion,Zs(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const ww=["get","getKey","getAll","getAllKeys","count"],Rw=["put","add","delete","clear"],Xd=new Map;function Cv(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Xd.get(t))return Xd.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,o=Rw.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||ww.includes(n)))return;const u=async function(f,...p){const g=this.transaction(f,o?"readwrite":"readonly");let y=g.store;return r&&(y=y.index(p.shift())),(await Promise.all([y[n](...p),o&&g.done]))[0]};return Xd.set(t,u),u}Tw(s=>({...s,get:(t,n,r)=>Cv(t,n)||s.get(t,n,r),has:(t,n)=>!!Cv(t,n)||s.has(t,n)}));class Iw{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Cw(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Cw(s){return s.getComponent()?.type==="VERSION"}const cm="@firebase/app",Nv="0.14.6";const ss=new Bm("@firebase/app"),Nw="@firebase/app-compat",Dw="@firebase/analytics-compat",Ow="@firebase/analytics",Vw="@firebase/app-check-compat",Mw="@firebase/app-check",xw="@firebase/auth",Uw="@firebase/auth-compat",kw="@firebase/database",Lw="@firebase/data-connect",Pw="@firebase/database-compat",zw="@firebase/functions",jw="@firebase/functions-compat",Bw="@firebase/installations",qw="@firebase/installations-compat",Hw="@firebase/messaging",Fw="@firebase/messaging-compat",Gw="@firebase/performance",Qw="@firebase/performance-compat",Kw="@firebase/remote-config",Yw="@firebase/remote-config-compat",Xw="@firebase/storage",$w="@firebase/storage-compat",Zw="@firebase/firestore",Jw="@firebase/ai",Ww="@firebase/firestore-compat",t1="firebase",e1="12.6.0";const hm="[DEFAULT]",n1={[cm]:"fire-core",[Nw]:"fire-core-compat",[Ow]:"fire-analytics",[Dw]:"fire-analytics-compat",[Mw]:"fire-app-check",[Vw]:"fire-app-check-compat",[xw]:"fire-auth",[Uw]:"fire-auth-compat",[kw]:"fire-rtdb",[Lw]:"fire-data-connect",[Pw]:"fire-rtdb-compat",[zw]:"fire-fn",[jw]:"fire-fn-compat",[Bw]:"fire-iid",[qw]:"fire-iid-compat",[Hw]:"fire-fcm",[Fw]:"fire-fcm-compat",[Gw]:"fire-perf",[Qw]:"fire-perf-compat",[Kw]:"fire-rc",[Yw]:"fire-rc-compat",[Xw]:"fire-gcs",[$w]:"fire-gcs-compat",[Zw]:"fire-fst",[Ww]:"fire-fst-compat",[Jw]:"fire-vertex","fire-js":"fire-js",[t1]:"fire-js-all"};const eh=new Map,i1=new Map,fm=new Map;function Dv(s,t){try{s.container.addComponent(t)}catch(n){ss.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,n)}}function $r(s){const t=s.name;if(fm.has(t))return ss.debug(`There were multiple attempts to register component ${t}.`),!1;fm.set(t,s);for(const n of eh.values())Dv(n,s);for(const n of i1.values())Dv(n,s);return!0}function Th(s,t){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(t)}function Ln(s){return s==null?!1:s.settings!==void 0}const s1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Js=new Kl("app","Firebase",s1);class r1{constructor(t,n,r){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new nr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Js.create("app-deleted",{appName:this._name})}}const ea=e1;function yT(s,t={}){let n=s;typeof t!="object"&&(t={name:t});const r={name:hm,automaticDataCollectionEnabled:!0,...t},o=r.name;if(typeof o!="string"||!o)throw Js.create("bad-app-name",{appName:String(o)});if(n||(n=fT()),!n)throw Js.create("no-options");const u=eh.get(o);if(u){if(Xr(n,u.options)&&Xr(r,u.config))return u;throw Js.create("duplicate-app",{appName:o})}const f=new hw(o);for(const g of fm.values())f.addComponent(g);const p=new r1(n,r,f);return eh.set(o,p),p}function Hm(s=hm){const t=eh.get(s);if(!t&&s===hm&&fT())return yT();if(!t)throw Js.create("no-app",{appName:s});return t}function Ii(s,t,n){let r=n1[s]??s;n&&(r+=`-${n}`);const o=r.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const f=[`Unable to register library "${r}" with version "${t}":`];o&&f.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ss.warn(f.join(" "));return}$r(new nr(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const a1="firebase-heartbeat-database",o1=1,kl="firebase-heartbeat-store";let $d=null;function _T(){return $d||($d=bw(a1,o1,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(kl)}catch(n){console.warn(n)}}}}).catch(s=>{throw Js.create("idb-open",{originalErrorMessage:s.message})})),$d}async function l1(s){try{const n=(await _T()).transaction(kl),r=await n.objectStore(kl).get(vT(s));return await n.done,r}catch(t){if(t instanceof Ui)ss.warn(t.message);else{const n=Js.create("idb-get",{originalErrorMessage:t?.message});ss.warn(n.message)}}}async function Ov(s,t){try{const r=(await _T()).transaction(kl,"readwrite");await r.objectStore(kl).put(t,vT(s)),await r.done}catch(n){if(n instanceof Ui)ss.warn(n.message);else{const r=Js.create("idb-set",{originalErrorMessage:n?.message});ss.warn(r.message)}}}function vT(s){return`${s.name}!${s.options.appId}`}const u1=1024,c1=30;class h1{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new d1(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Vv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>c1){const o=m1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){ss.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Vv(),{heartbeatsToSend:n,unsentEntries:r}=f1(this._heartbeatsCache.heartbeats),o=th(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return ss.warn(t),""}}}function Vv(){return new Date().toISOString().substring(0,10)}function f1(s,t=u1){const n=[];let r=s.slice();for(const o of s){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Mv(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Mv(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class d1{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Wb()?tw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await l1(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return Ov(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return Ov(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function Mv(s){return th(JSON.stringify({version:2,heartbeats:s})).length}function m1(s){if(s.length===0)return-1;let t=0,n=s[0].date;for(let r=1;r<s.length;r++)s[r].date<n&&(n=s[r].date,t=r);return t}function p1(s){$r(new nr("platform-logger",t=>new Iw(t),"PRIVATE")),$r(new nr("heartbeat",t=>new h1(t),"PRIVATE")),Ii(cm,Nv,s),Ii(cm,Nv,"esm2020"),Ii("fire-js","")}p1("");var g1="firebase",y1="12.7.0";Ii(g1,y1,"app");var xv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ws,ET;(function(){var s;function t(D,b){function I(){}I.prototype=b.prototype,D.F=b.prototype,D.prototype=new I,D.prototype.constructor=D,D.D=function(x,V,k){for(var w=Array(arguments.length-2),te=2;te<arguments.length;te++)w[te-2]=arguments[te];return b.prototype[V].apply(x,w)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,b,I){I||(I=0);const x=Array(16);if(typeof b=="string")for(var V=0;V<16;++V)x[V]=b.charCodeAt(I++)|b.charCodeAt(I++)<<8|b.charCodeAt(I++)<<16|b.charCodeAt(I++)<<24;else for(V=0;V<16;++V)x[V]=b[I++]|b[I++]<<8|b[I++]<<16|b[I++]<<24;b=D.g[0],I=D.g[1],V=D.g[2];let k=D.g[3],w;w=b+(k^I&(V^k))+x[0]+3614090360&4294967295,b=I+(w<<7&4294967295|w>>>25),w=k+(V^b&(I^V))+x[1]+3905402710&4294967295,k=b+(w<<12&4294967295|w>>>20),w=V+(I^k&(b^I))+x[2]+606105819&4294967295,V=k+(w<<17&4294967295|w>>>15),w=I+(b^V&(k^b))+x[3]+3250441966&4294967295,I=V+(w<<22&4294967295|w>>>10),w=b+(k^I&(V^k))+x[4]+4118548399&4294967295,b=I+(w<<7&4294967295|w>>>25),w=k+(V^b&(I^V))+x[5]+1200080426&4294967295,k=b+(w<<12&4294967295|w>>>20),w=V+(I^k&(b^I))+x[6]+2821735955&4294967295,V=k+(w<<17&4294967295|w>>>15),w=I+(b^V&(k^b))+x[7]+4249261313&4294967295,I=V+(w<<22&4294967295|w>>>10),w=b+(k^I&(V^k))+x[8]+1770035416&4294967295,b=I+(w<<7&4294967295|w>>>25),w=k+(V^b&(I^V))+x[9]+2336552879&4294967295,k=b+(w<<12&4294967295|w>>>20),w=V+(I^k&(b^I))+x[10]+4294925233&4294967295,V=k+(w<<17&4294967295|w>>>15),w=I+(b^V&(k^b))+x[11]+2304563134&4294967295,I=V+(w<<22&4294967295|w>>>10),w=b+(k^I&(V^k))+x[12]+1804603682&4294967295,b=I+(w<<7&4294967295|w>>>25),w=k+(V^b&(I^V))+x[13]+4254626195&4294967295,k=b+(w<<12&4294967295|w>>>20),w=V+(I^k&(b^I))+x[14]+2792965006&4294967295,V=k+(w<<17&4294967295|w>>>15),w=I+(b^V&(k^b))+x[15]+1236535329&4294967295,I=V+(w<<22&4294967295|w>>>10),w=b+(V^k&(I^V))+x[1]+4129170786&4294967295,b=I+(w<<5&4294967295|w>>>27),w=k+(I^V&(b^I))+x[6]+3225465664&4294967295,k=b+(w<<9&4294967295|w>>>23),w=V+(b^I&(k^b))+x[11]+643717713&4294967295,V=k+(w<<14&4294967295|w>>>18),w=I+(k^b&(V^k))+x[0]+3921069994&4294967295,I=V+(w<<20&4294967295|w>>>12),w=b+(V^k&(I^V))+x[5]+3593408605&4294967295,b=I+(w<<5&4294967295|w>>>27),w=k+(I^V&(b^I))+x[10]+38016083&4294967295,k=b+(w<<9&4294967295|w>>>23),w=V+(b^I&(k^b))+x[15]+3634488961&4294967295,V=k+(w<<14&4294967295|w>>>18),w=I+(k^b&(V^k))+x[4]+3889429448&4294967295,I=V+(w<<20&4294967295|w>>>12),w=b+(V^k&(I^V))+x[9]+568446438&4294967295,b=I+(w<<5&4294967295|w>>>27),w=k+(I^V&(b^I))+x[14]+3275163606&4294967295,k=b+(w<<9&4294967295|w>>>23),w=V+(b^I&(k^b))+x[3]+4107603335&4294967295,V=k+(w<<14&4294967295|w>>>18),w=I+(k^b&(V^k))+x[8]+1163531501&4294967295,I=V+(w<<20&4294967295|w>>>12),w=b+(V^k&(I^V))+x[13]+2850285829&4294967295,b=I+(w<<5&4294967295|w>>>27),w=k+(I^V&(b^I))+x[2]+4243563512&4294967295,k=b+(w<<9&4294967295|w>>>23),w=V+(b^I&(k^b))+x[7]+1735328473&4294967295,V=k+(w<<14&4294967295|w>>>18),w=I+(k^b&(V^k))+x[12]+2368359562&4294967295,I=V+(w<<20&4294967295|w>>>12),w=b+(I^V^k)+x[5]+4294588738&4294967295,b=I+(w<<4&4294967295|w>>>28),w=k+(b^I^V)+x[8]+2272392833&4294967295,k=b+(w<<11&4294967295|w>>>21),w=V+(k^b^I)+x[11]+1839030562&4294967295,V=k+(w<<16&4294967295|w>>>16),w=I+(V^k^b)+x[14]+4259657740&4294967295,I=V+(w<<23&4294967295|w>>>9),w=b+(I^V^k)+x[1]+2763975236&4294967295,b=I+(w<<4&4294967295|w>>>28),w=k+(b^I^V)+x[4]+1272893353&4294967295,k=b+(w<<11&4294967295|w>>>21),w=V+(k^b^I)+x[7]+4139469664&4294967295,V=k+(w<<16&4294967295|w>>>16),w=I+(V^k^b)+x[10]+3200236656&4294967295,I=V+(w<<23&4294967295|w>>>9),w=b+(I^V^k)+x[13]+681279174&4294967295,b=I+(w<<4&4294967295|w>>>28),w=k+(b^I^V)+x[0]+3936430074&4294967295,k=b+(w<<11&4294967295|w>>>21),w=V+(k^b^I)+x[3]+3572445317&4294967295,V=k+(w<<16&4294967295|w>>>16),w=I+(V^k^b)+x[6]+76029189&4294967295,I=V+(w<<23&4294967295|w>>>9),w=b+(I^V^k)+x[9]+3654602809&4294967295,b=I+(w<<4&4294967295|w>>>28),w=k+(b^I^V)+x[12]+3873151461&4294967295,k=b+(w<<11&4294967295|w>>>21),w=V+(k^b^I)+x[15]+530742520&4294967295,V=k+(w<<16&4294967295|w>>>16),w=I+(V^k^b)+x[2]+3299628645&4294967295,I=V+(w<<23&4294967295|w>>>9),w=b+(V^(I|~k))+x[0]+4096336452&4294967295,b=I+(w<<6&4294967295|w>>>26),w=k+(I^(b|~V))+x[7]+1126891415&4294967295,k=b+(w<<10&4294967295|w>>>22),w=V+(b^(k|~I))+x[14]+2878612391&4294967295,V=k+(w<<15&4294967295|w>>>17),w=I+(k^(V|~b))+x[5]+4237533241&4294967295,I=V+(w<<21&4294967295|w>>>11),w=b+(V^(I|~k))+x[12]+1700485571&4294967295,b=I+(w<<6&4294967295|w>>>26),w=k+(I^(b|~V))+x[3]+2399980690&4294967295,k=b+(w<<10&4294967295|w>>>22),w=V+(b^(k|~I))+x[10]+4293915773&4294967295,V=k+(w<<15&4294967295|w>>>17),w=I+(k^(V|~b))+x[1]+2240044497&4294967295,I=V+(w<<21&4294967295|w>>>11),w=b+(V^(I|~k))+x[8]+1873313359&4294967295,b=I+(w<<6&4294967295|w>>>26),w=k+(I^(b|~V))+x[15]+4264355552&4294967295,k=b+(w<<10&4294967295|w>>>22),w=V+(b^(k|~I))+x[6]+2734768916&4294967295,V=k+(w<<15&4294967295|w>>>17),w=I+(k^(V|~b))+x[13]+1309151649&4294967295,I=V+(w<<21&4294967295|w>>>11),w=b+(V^(I|~k))+x[4]+4149444226&4294967295,b=I+(w<<6&4294967295|w>>>26),w=k+(I^(b|~V))+x[11]+3174756917&4294967295,k=b+(w<<10&4294967295|w>>>22),w=V+(b^(k|~I))+x[2]+718787259&4294967295,V=k+(w<<15&4294967295|w>>>17),w=I+(k^(V|~b))+x[9]+3951481745&4294967295,D.g[0]=D.g[0]+b&4294967295,D.g[1]=D.g[1]+(V+(w<<21&4294967295|w>>>11))&4294967295,D.g[2]=D.g[2]+V&4294967295,D.g[3]=D.g[3]+k&4294967295}r.prototype.v=function(D,b){b===void 0&&(b=D.length);const I=b-this.blockSize,x=this.C;let V=this.h,k=0;for(;k<b;){if(V==0)for(;k<=I;)o(this,D,k),k+=this.blockSize;if(typeof D=="string"){for(;k<b;)if(x[V++]=D.charCodeAt(k++),V==this.blockSize){o(this,x),V=0;break}}else for(;k<b;)if(x[V++]=D[k++],V==this.blockSize){o(this,x),V=0;break}}this.h=V,this.o+=b},r.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var b=1;b<D.length-8;++b)D[b]=0;b=this.o*8;for(var I=D.length-8;I<D.length;++I)D[I]=b&255,b/=256;for(this.v(D),D=Array(16),b=0,I=0;I<4;++I)for(let x=0;x<32;x+=8)D[b++]=this.g[I]>>>x&255;return D};function u(D,b){var I=p;return Object.prototype.hasOwnProperty.call(I,D)?I[D]:I[D]=b(D)}function f(D,b){this.h=b;const I=[];let x=!0;for(let V=D.length-1;V>=0;V--){const k=D[V]|0;x&&k==b||(I[V]=k,x=!1)}this.g=I}var p={};function g(D){return-128<=D&&D<128?u(D,function(b){return new f([b|0],b<0?-1:0)}):new f([D|0],D<0?-1:0)}function y(D){if(isNaN(D)||!isFinite(D))return S;if(D<0)return J(y(-D));const b=[];let I=1;for(let x=0;D>=I;x++)b[x]=D/I|0,I*=4294967296;return new f(b,0)}function T(D,b){if(D.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(D.charAt(0)=="-")return J(T(D.substring(1),b));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=y(Math.pow(b,8));let x=S;for(let k=0;k<D.length;k+=8){var V=Math.min(8,D.length-k);const w=parseInt(D.substring(k,k+V),b);V<8?(V=y(Math.pow(b,V)),x=x.j(V).add(y(w))):(x=x.j(I),x=x.add(y(w)))}return x}var S=g(0),N=g(1),B=g(16777216);s=f.prototype,s.m=function(){if(W(this))return-J(this).m();let D=0,b=1;for(let I=0;I<this.g.length;I++){const x=this.i(I);D+=(x>=0?x:4294967296+x)*b,b*=4294967296}return D},s.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(F(this))return"0";if(W(this))return"-"+J(this).toString(D);const b=y(Math.pow(D,6));var I=this;let x="";for(;;){const V=yt(I,b).g;I=at(I,V.j(b));let k=((I.g.length>0?I.g[0]:I.h)>>>0).toString(D);if(I=V,F(I))return k+x;for(;k.length<6;)k="0"+k;x=k+x}},s.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function F(D){if(D.h!=0)return!1;for(let b=0;b<D.g.length;b++)if(D.g[b]!=0)return!1;return!0}function W(D){return D.h==-1}s.l=function(D){return D=at(this,D),W(D)?-1:F(D)?0:1};function J(D){const b=D.g.length,I=[];for(let x=0;x<b;x++)I[x]=~D.g[x];return new f(I,~D.h).add(N)}s.abs=function(){return W(this)?J(this):this},s.add=function(D){const b=Math.max(this.g.length,D.g.length),I=[];let x=0;for(let V=0;V<=b;V++){let k=x+(this.i(V)&65535)+(D.i(V)&65535),w=(k>>>16)+(this.i(V)>>>16)+(D.i(V)>>>16);x=w>>>16,k&=65535,w&=65535,I[V]=w<<16|k}return new f(I,I[I.length-1]&-2147483648?-1:0)};function at(D,b){return D.add(J(b))}s.j=function(D){if(F(this)||F(D))return S;if(W(this))return W(D)?J(this).j(J(D)):J(J(this).j(D));if(W(D))return J(this.j(J(D)));if(this.l(B)<0&&D.l(B)<0)return y(this.m()*D.m());const b=this.g.length+D.g.length,I=[];for(var x=0;x<2*b;x++)I[x]=0;for(x=0;x<this.g.length;x++)for(let V=0;V<D.g.length;V++){const k=this.i(x)>>>16,w=this.i(x)&65535,te=D.i(V)>>>16,de=D.i(V)&65535;I[2*x+2*V]+=w*de,ht(I,2*x+2*V),I[2*x+2*V+1]+=k*de,ht(I,2*x+2*V+1),I[2*x+2*V+1]+=w*te,ht(I,2*x+2*V+1),I[2*x+2*V+2]+=k*te,ht(I,2*x+2*V+2)}for(D=0;D<b;D++)I[D]=I[2*D+1]<<16|I[2*D];for(D=b;D<2*b;D++)I[D]=0;return new f(I,0)};function ht(D,b){for(;(D[b]&65535)!=D[b];)D[b+1]+=D[b]>>>16,D[b]&=65535,b++}function lt(D,b){this.g=D,this.h=b}function yt(D,b){if(F(b))throw Error("division by zero");if(F(D))return new lt(S,S);if(W(D))return b=yt(J(D),b),new lt(J(b.g),J(b.h));if(W(b))return b=yt(D,J(b)),new lt(J(b.g),b.h);if(D.g.length>30){if(W(D)||W(b))throw Error("slowDivide_ only works with positive integers.");for(var I=N,x=b;x.l(D)<=0;)I=jt(I),x=jt(x);var V=Ct(I,1),k=Ct(x,1);for(x=Ct(x,2),I=Ct(I,2);!F(x);){var w=k.add(x);w.l(D)<=0&&(V=V.add(I),k=w),x=Ct(x,1),I=Ct(I,1)}return b=at(D,V.j(b)),new lt(V,b)}for(V=S;D.l(b)>=0;){for(I=Math.max(1,Math.floor(D.m()/b.m())),x=Math.ceil(Math.log(I)/Math.LN2),x=x<=48?1:Math.pow(2,x-48),k=y(I),w=k.j(b);W(w)||w.l(D)>0;)I-=x,k=y(I),w=k.j(b);F(k)&&(k=N),V=V.add(k),D=at(D,w)}return new lt(V,D)}s.B=function(D){return yt(this,D).h},s.and=function(D){const b=Math.max(this.g.length,D.g.length),I=[];for(let x=0;x<b;x++)I[x]=this.i(x)&D.i(x);return new f(I,this.h&D.h)},s.or=function(D){const b=Math.max(this.g.length,D.g.length),I=[];for(let x=0;x<b;x++)I[x]=this.i(x)|D.i(x);return new f(I,this.h|D.h)},s.xor=function(D){const b=Math.max(this.g.length,D.g.length),I=[];for(let x=0;x<b;x++)I[x]=this.i(x)^D.i(x);return new f(I,this.h^D.h)};function jt(D){const b=D.g.length+1,I=[];for(let x=0;x<b;x++)I[x]=D.i(x)<<1|D.i(x-1)>>>31;return new f(I,D.h)}function Ct(D,b){const I=b>>5;b%=32;const x=D.g.length-I,V=[];for(let k=0;k<x;k++)V[k]=b>0?D.i(k+I)>>>b|D.i(k+I+1)<<32-b:D.i(k+I);return new f(V,D.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,ET=r,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=T,Ws=f}).apply(typeof xv<"u"?xv:typeof self<"u"?self:typeof window<"u"?window:{});var Vc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var TT,wl,AT,qc,dm,ST,bT,wT;(function(){var s,t=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vc=="object"&&Vc];for(var m=0;m<c.length;++m){var v=c[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function o(c,m){if(m)t:{var v=r;c=c.split(".");for(var A=0;A<c.length-1;A++){var L=c[A];if(!(L in v))break t;v=v[L]}c=c[c.length-1],A=v[c],m=m(A),m!=A&&m!=null&&t(v,c,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(m){var v=[],A;for(A in m)Object.prototype.hasOwnProperty.call(m,A)&&v.push([A,m[A]]);return v}});var u=u||{},f=this||self;function p(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function g(c,m,v){return c.call.apply(c.bind,arguments)}function y(c,m,v){return y=g,y.apply(null,arguments)}function T(c,m){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function S(c,m){function v(){}v.prototype=m.prototype,c.Z=m.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(A,L,q){for(var tt=Array(arguments.length-2),bt=2;bt<arguments.length;bt++)tt[bt-2]=arguments[bt];return m.prototype[L].apply(A,tt)}}var N=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function B(c){const m=c.length;if(m>0){const v=Array(m);for(let A=0;A<m;A++)v[A]=c[A];return v}return[]}function F(c,m){for(let A=1;A<arguments.length;A++){const L=arguments[A];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=c.length||0;const q=L.length||0;c.length=v+q;for(let tt=0;tt<q;tt++)c[v+tt]=L[tt]}else c.push(L)}}class W{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function J(c){f.setTimeout(()=>{throw c},0)}function at(){var c=D;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class ht{constructor(){this.h=this.g=null}add(m,v){const A=lt.get();A.set(m,v),this.h?this.h.next=A:this.g=A,this.h=A}}var lt=new W(()=>new yt,c=>c.reset());class yt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let jt,Ct=!1,D=new ht,b=()=>{const c=Promise.resolve(void 0);jt=()=>{c.then(I)}};function I(){for(var c;c=at();){try{c.h.call(c.g)}catch(v){J(v)}var m=lt;m.j(c),m.h<100&&(m.h++,c.next=m.g,m.g=c)}Ct=!1}function x(){this.u=this.u,this.C=this.C}x.prototype.u=!1,x.prototype.dispose=function(){this.u||(this.u=!0,this.N())},x.prototype[Symbol.dispose]=function(){this.dispose()},x.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,m),f.removeEventListener("test",v,m)}catch{}return c})();function w(c){return/^[\s\xa0]*$/.test(c)}function te(c,m){V.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,m)}S(te,V),te.prototype.init=function(c,m){const v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget,m||(v=="mouseover"?m=c.fromElement:v=="mouseout"&&(m=c.toElement)),this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&te.Z.h.call(this)},te.prototype.h=function(){te.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var de="closure_listenable_"+(Math.random()*1e6|0),Q=0;function nt(c,m,v,A,L){this.listener=c,this.proxy=null,this.src=m,this.type=v,this.capture=!!A,this.ha=L,this.key=++Q,this.da=this.fa=!1}function ft(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Nt(c,m,v){for(const A in c)m.call(v,c[A],A,c)}function rt(c,m){for(const v in c)m.call(void 0,c[v],v,c)}function O(c){const m={};for(const v in c)m[v]=c[v];return m}const G="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function et(c,m){let v,A;for(let L=1;L<arguments.length;L++){A=arguments[L];for(v in A)c[v]=A[v];for(let q=0;q<G.length;q++)v=G[q],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function it(c){this.src=c,this.g={},this.h=0}it.prototype.add=function(c,m,v,A,L){const q=c.toString();c=this.g[q],c||(c=this.g[q]=[],this.h++);const tt=Rt(c,m,A,L);return tt>-1?(m=c[tt],v||(m.fa=!1)):(m=new nt(m,this.src,q,!!A,L),m.fa=v,c.push(m)),m};function Et(c,m){const v=m.type;if(v in c.g){var A=c.g[v],L=Array.prototype.indexOf.call(A,m,void 0),q;(q=L>=0)&&Array.prototype.splice.call(A,L,1),q&&(ft(m),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Rt(c,m,v,A){for(let L=0;L<c.length;++L){const q=c[L];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==A)return L}return-1}var Pt="closure_lm_"+(Math.random()*1e6|0),Ve={};function re(c,m,v,A,L){if(Array.isArray(m)){for(let q=0;q<m.length;q++)re(c,m[q],v,A,L);return null}return v=Eo(v),c&&c[de]?c.J(m,v,p(A)?!!A.capture:!1,L):cr(c,m,v,!1,A,L)}function cr(c,m,v,A,L,q){if(!m)throw Error("Invalid event type");const tt=p(L)?!!L.capture:!!L;let bt=hr(c);if(bt||(c[Pt]=bt=new it(c)),v=bt.add(m,v,A,tt,q),v.proxy)return v;if(A=aa(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)k||(L=tt),L===void 0&&(L=!1),c.addEventListener(m.toString(),A,L);else if(c.attachEvent)c.attachEvent(ni(m.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function aa(){function c(v){return m.call(c.src,c.listener,v)}const m=_o;return c}function oa(c,m,v,A,L){if(Array.isArray(m))for(var q=0;q<m.length;q++)oa(c,m[q],v,A,L);else A=p(A)?!!A.capture:!!A,v=Eo(v),c&&c[de]?(c=c.i,q=String(m).toString(),q in c.g&&(m=c.g[q],v=Rt(m,v,A,L),v>-1&&(ft(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete c.g[q],c.h--)))):c&&(c=hr(c))&&(m=c.g[m.toString()],c=-1,m&&(c=Rt(m,v,A,L)),(v=c>-1?m[c]:null)&&la(v))}function la(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[de])Et(m.i,c);else{var v=c.type,A=c.proxy;m.removeEventListener?m.removeEventListener(v,A,c.capture):m.detachEvent?m.detachEvent(ni(v),A):m.addListener&&m.removeListener&&m.removeListener(A),(v=hr(m))?(Et(v,c),v.h==0&&(v.src=null,m[Pt]=null)):ft(c)}}}function ni(c){return c in Ve?Ve[c]:Ve[c]="on"+c}function _o(c,m){if(c.da)c=!0;else{m=new te(m,this);const v=c.listener,A=c.ha||c.src;c.fa&&la(c),c=v.call(A,m)}return c}function hr(c){return c=c[Pt],c instanceof it?c:null}var vo="__closure_events_fn_"+(Math.random()*1e9>>>0);function Eo(c){return typeof c=="function"?c:(c[vo]||(c[vo]=function(m){return c.handleEvent(m)}),c[vo])}function ve(){x.call(this),this.i=new it(this),this.M=this,this.G=null}S(ve,x),ve.prototype[de]=!0,ve.prototype.removeEventListener=function(c,m,v,A){oa(this,c,m,v,A)};function Me(c,m){var v,A=c.G;if(A)for(v=[];A;A=A.G)v.push(A);if(c=c.M,A=m.type||m,typeof m=="string")m=new V(m,c);else if(m instanceof V)m.target=m.target||c;else{var L=m;m=new V(A,c),et(m,L)}L=!0;let q,tt;if(v)for(tt=v.length-1;tt>=0;tt--)q=m.g=v[tt],L=us(q,A,!0,m)&&L;if(q=m.g=c,L=us(q,A,!0,m)&&L,L=us(q,A,!1,m)&&L,v)for(tt=0;tt<v.length;tt++)q=m.g=v[tt],L=us(q,A,!1,m)&&L}ve.prototype.N=function(){if(ve.Z.N.call(this),this.i){var c=this.i;for(const m in c.g){const v=c.g[m];for(let A=0;A<v.length;A++)ft(v[A]);delete c.g[m],c.h--}}this.G=null},ve.prototype.J=function(c,m,v,A){return this.i.add(String(c),m,!1,v,A)},ve.prototype.K=function(c,m,v,A){return this.i.add(String(c),m,!0,v,A)};function us(c,m,v,A){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let q=0;q<m.length;++q){const tt=m[q];if(tt&&!tt.da&&tt.capture==v){const bt=tt.listener,pe=tt.ha||tt.src;tt.fa&&Et(c.i,tt),L=bt.call(pe,A)!==!1&&L}}return L&&!A.defaultPrevented}function Bh(c,m){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:f.setTimeout(c,m||0)}function iu(c){c.g=Bh(()=>{c.g=null,c.i&&(c.i=!1,iu(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class en extends x{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:iu(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fr(c){x.call(this),this.h=c,this.g={}}S(fr,x);var To=[];function Ao(c){Nt(c.g,function(m,v){this.g.hasOwnProperty(v)&&la(m)},c),c.g={}}fr.prototype.N=function(){fr.Z.N.call(this),Ao(this)},fr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var cs=f.JSON.stringify,qh=f.JSON.parse,su=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function ru(){}function au(){}var jn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Be(){V.call(this,"d")}S(Be,V);function bn(){V.call(this,"c")}S(bn,V);var me={},ou=null;function ua(){return ou=ou||new ve}me.Ia="serverreachability";function lu(c){V.call(this,me.Ia,c)}S(lu,V);function ii(c){const m=ua();Me(m,new lu(m))}me.STAT_EVENT="statevent";function dr(c,m){V.call(this,me.STAT_EVENT,c),this.stat=m}S(dr,V);function Ee(c){const m=ua();Me(m,new dr(m,c))}me.Ja="timingevent";function si(c,m){V.call(this,me.Ja,c),this.size=m}S(si,V);function ri(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},m)}function Bn(){this.g=!0}Bn.prototype.ua=function(){this.g=!1};function Hh(c,m,v,A,L,q){c.info(function(){if(c.g)if(q){var tt="",bt=q.split("&");for(let Ht=0;Ht<bt.length;Ht++){var pe=bt[Ht].split("=");if(pe.length>1){const ae=pe[0];pe=pe[1];const Cn=ae.split("_");tt=Cn.length>=2&&Cn[1]=="type"?tt+(ae+"="+pe+"&"):tt+(ae+"=redacted&")}}}else tt=null;else tt=q;return"XMLHTTP REQ ("+A+") [attempt "+L+"]: "+m+`
`+v+`
`+tt})}function uu(c,m,v,A,L,q,tt){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+L+"]: "+m+`
`+v+`
`+q+" "+tt})}function ai(c,m,v,A){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+Fh(c,v)+(A?" "+A:"")})}function mr(c,m){c.info(function(){return"TIMEOUT: "+m})}Bn.prototype.info=function(){};function Fh(c,m){if(!c.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(c=0;c<q.length;c++)if(Array.isArray(q[c])){var v=q[c];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var L=A[0];if(L!="noop"&&L!="stop"&&L!="close")for(let tt=1;tt<A.length;tt++)A[tt]=""}}}}return cs(q)}catch{return m}}var pr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},So={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},bo;function gr(){}S(gr,ru),gr.prototype.g=function(){return new XMLHttpRequest},bo=new gr;function ki(c){return encodeURIComponent(String(c))}function cu(c){var m=1;c=c.split(":");const v=[];for(;m>0&&c.length;)v.push(c.shift()),m--;return c.length&&v.push(c.join(":")),v}function qn(c,m,v,A){this.j=c,this.i=m,this.l=v,this.S=A||1,this.V=new fr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Hn}function Hn(){this.i=null,this.g="",this.h=!1}var Te={},Le={};function oi(c,m,v){c.M=1,c.A=yr(Se(m)),c.u=v,c.R=!0,ca(c,null)}function ca(c,m){c.F=Date.now(),li(c),c.B=Se(c.A);var v=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),ma(v.i,"t",A),c.C=0,v=c.j.L,c.h=new Hn,c.g=wu(c.j,v?m:null,!c.u),c.P>0&&(c.O=new en(y(c.Y,c,c.g),c.P)),m=c.V,v=c.g,A=c.ba;var L="readystatechange";Array.isArray(L)||(L&&(To[0]=L.toString()),L=To);for(let q=0;q<L.length;q++){const tt=re(v,L[q],A||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=c.J?O(c.J):{},c.u?(c.v||(c.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,m)):(c.v="GET",c.g.ea(c.B,c.v,null,m)),ii(),Hh(c.i,c.v,c.B,c.l,c.S,c.u)}qn.prototype.ba=function(c){c=c.target;const m=this.O;m&&Qn(c)==3?m.j():this.Y(c)},qn.prototype.Y=function(c){try{if(c==this.g)t:{const bt=Qn(this.g),pe=this.g.ya(),Ht=this.g.ca();if(!(bt<3)&&(bt!=3||this.g&&(this.h.h||this.g.la()||qe(this.g)))){this.K||bt!=4||pe==7||(pe==8||Ht<=0?ii(3):ii(2)),ui(this);var m=this.g.ca();this.X=m;var v=Gh(this);if(this.o=m==200,uu(this.i,this.v,this.B,this.l,this.S,bt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var A,L=this.g;if((A=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(A)){var q=A;break e}}q=null}if(c=q)ai(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ci(this,c);else{this.o=!1,this.m=3,Ee(12),pn(this),wn(this);break t}}if(this.R){c=!0;let ae;for(;!this.K&&this.C<v.length;)if(ae=fu(this,v),ae==Le){bt==4&&(this.m=4,Ee(14),c=!1),ai(this.i,this.l,null,"[Incomplete Response]");break}else if(ae==Te){this.m=4,Ee(15),ai(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else ai(this.i,this.l,ae,null),ci(this,ae);if(hu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),bt!=4||v.length!=0||this.h.h||(this.m=1,Ee(16),c=!1),this.o=this.o&&c,!c)ai(this.i,this.l,v,"[Invalid Chunked Response]"),pn(this),wn(this);else if(v.length>0&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.aa&&!tt.P&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),zo(tt),tt.P=!0,Ee(11))}}else ai(this.i,this.l,v,null),ci(this,v);bt==4&&pn(this),this.o&&!this.K&&(bt==4?Tu(this.j,this):(this.o=!1,li(this)))}else Pi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Ee(12)):(this.m=0,Ee(13)),pn(this),wn(this)}}}catch{}};function Gh(c){if(!hu(c))return c.g.la();const m=qe(c.g);if(m==="")return"";let v="";const A=m.length,L=Qn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return pn(c),wn(c),"";c.h.i=new f.TextDecoder}for(let q=0;q<A;q++)c.h.h=!0,v+=c.h.i.decode(m[q],{stream:!(L&&q==A-1)});return m.length=0,c.h.g+=v,c.C=0,c.h.g}function hu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function fu(c,m){var v=c.C,A=m.indexOf(`
`,v);return A==-1?Le:(v=Number(m.substring(v,A)),isNaN(v)?Te:(A+=1,A+v>m.length?Le:(m=m.slice(A,A+v),c.C=A+v,m)))}qn.prototype.cancel=function(){this.K=!0,pn(this)};function li(c){c.T=Date.now()+c.H,ha(c,c.H)}function ha(c,m){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ri(y(c.aa,c),m)}function ui(c){c.D&&(f.clearTimeout(c.D),c.D=null)}qn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(mr(this.i,this.B),this.M!=2&&(ii(),Ee(17)),pn(this),this.m=2,wn(this)):ha(this,this.T-c)};function wn(c){c.j.I==0||c.K||Tu(c.j,c)}function pn(c){ui(c);var m=c.O;m&&typeof m.dispose=="function"&&m.dispose(),c.O=null,Ao(c.V),c.g&&(m=c.g,c.g=null,m.abort(),m.dispose())}function ci(c,m){try{var v=c.j;if(v.I!=0&&(v.g==c||fi(v.h,c))){if(!c.L&&fi(v.h,c)&&v.I==3){try{var A=v.Ba.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var L=A;if(L[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)va(v),_s(v);else break t;br(v),Ee(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ri(y(v.Va,v),6e3));hi(v.h)<=1&&v.ta&&(v.ta=void 0)}else _i(v,11)}else if((c.L||v.g==c)&&va(v),!w(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let Ht=L[m];const ae=Ht[0];if(!(ae<=v.K))if(v.K=ae,Ht=Ht[1],v.I==2)if(Ht[0]=="c"){v.M=Ht[1],v.ba=Ht[2];const Cn=Ht[3];Cn!=null&&(v.ka=Cn,v.j.info("VER="+v.ka));const vi=Ht[4];vi!=null&&(v.za=vi,v.j.info("SVER="+v.za));const Kn=Ht[5];Kn!=null&&typeof Kn=="number"&&Kn>0&&(A=1.5*Kn,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Yn=c.g;if(Yn){const wr=Yn.g?Yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wr){var q=A.h;q.g||wr.indexOf("spdy")==-1&&wr.indexOf("quic")==-1&&wr.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Io(q,q.h),q.h=null))}if(A.G){const Ea=Yn.g?Yn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ea&&(A.wa=Ea,Qt(A.J,A.G,Ea))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var tt=c;if(A.na=bu(A,A.L?A.ba:null,A.W),tt.L){Co(A.h,tt);var bt=tt,pe=A.O;pe&&(bt.H=pe),bt.D&&(ui(bt),li(bt)),A.g=tt}else vu(A);v.i.length>0&&yi(v)}else Ht[0]!="stop"&&Ht[0]!="close"||_i(v,7);else v.I==3&&(Ht[0]=="stop"||Ht[0]=="close"?Ht[0]=="stop"?_i(v,7):Lo(v):Ht[0]!="noop"&&v.l&&v.l.qa(Ht),v.A=0)}}ii(4)}catch{}}var Ae=class{constructor(c,m){this.g=c,this.map=m}};function wo(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ro(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function hi(c){return c.h?1:c.g?c.g.size:0}function fi(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function Io(c,m){c.g?c.g.add(m):c.h=m}function Co(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}wo.prototype.cancel=function(){if(this.i=No(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function No(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const v of c.g.values())m=m.concat(v.G);return m}return B(c.i)}var du=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fa(c,m){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const A=c[v].indexOf("=");let L,q=null;A>=0?(L=c[v].substring(0,A),q=c[v].substring(A+1)):L=c[v],m(L,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function gn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;c instanceof gn?(this.l=c.l,Pe(this,c.j),this.o=c.o,this.g=c.g,hs(this,c.u),this.h=c.h,Do(this,yu(c.i)),this.m=c.m):c&&(m=String(c).match(du))?(this.l=!1,Pe(this,m[1]||"",!0),this.o=di(m[2]||""),this.g=di(m[3]||"",!0),hs(this,m[4]),this.h=di(m[5]||"",!0),Do(this,m[6]||"",!0),this.m=di(m[7]||"")):(this.l=!1,this.i=new ds(null,this.l))}gn.prototype.toString=function(){const c=[];var m=this.j;m&&c.push(_r(m,da,!0),":");var v=this.g;return(v||m=="file")&&(c.push("//"),(m=this.o)&&c.push(_r(m,da,!0),"@"),c.push(ki(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(_r(v,v.charAt(0)=="/"?Oo:mu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",_r(v,pu)),c.join("")},gn.prototype.resolve=function(c){const m=Se(this);let v=!!c.j;v?Pe(m,c.j):v=!!c.o,v?m.o=c.o:v=!!c.g,v?m.g=c.g:v=c.u!=null;var A=c.h;if(v)hs(m,c.u);else if(v=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var L=m.h.lastIndexOf("/");L!=-1&&(A=m.h.slice(0,L+1)+A)}if(L=A,L==".."||L==".")A="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){A=L.lastIndexOf("/",0)==0,L=L.split("/");const q=[];for(let tt=0;tt<L.length;){const bt=L[tt++];bt=="."?A&&tt==L.length&&q.push(""):bt==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),A&&tt==L.length&&q.push("")):(q.push(bt),A=!0)}A=q.join("/")}else A=L}return v?m.h=A:v=c.i.toString()!=="",v?Do(m,yu(c.i)):v=!!c.m,v&&(m.m=c.m),m};function Se(c){return new gn(c)}function Pe(c,m,v){c.j=v?di(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function hs(c,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);c.u=m}else c.u=null}function Do(c,m,v){m instanceof ds?(c.i=m,pa(c.i,c.l)):(v||(m=_r(m,fs)),c.i=new ds(m,c.l))}function Qt(c,m,v){c.i.set(m,v)}function yr(c){return Qt(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function di(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function _r(c,m,v){return typeof c=="string"?(c=encodeURI(c).replace(m,on),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function on(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var da=/[#\/\?@]/g,mu=/[#\?:]/g,Oo=/[#\?]/g,fs=/[#\?@]/g,pu=/#/g;function ds(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function ln(c){c.g||(c.g=new Map,c.h=0,c.i&&fa(c.i,function(m,v){c.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=ds.prototype,s.add=function(c,m){ln(this),this.i=null,c=ms(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(m),this.h+=1,this};function gu(c,m){ln(c),m=ms(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function Vo(c,m){return ln(c),m=ms(c,m),c.g.has(m)}s.forEach=function(c,m){ln(this),this.g.forEach(function(v,A){v.forEach(function(L){c.call(m,L,A,this)},this)},this)};function Mo(c,m){ln(c);let v=[];if(typeof m=="string")Vo(c,m)&&(v=v.concat(c.g.get(ms(c,m))));else for(c=Array.from(c.g.values()),m=0;m<c.length;m++)v=v.concat(c[m]);return v}s.set=function(c,m){return ln(this),this.i=null,c=ms(this,c),Vo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},s.get=function(c,m){return c?(c=Mo(this,c),c.length>0?String(c[0]):m):m};function ma(c,m,v){gu(c,m),v.length>0&&(c.i=null,c.g.set(ms(c,m),B(v)),c.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(let A=0;A<m.length;A++){var v=m[A];const L=ki(v);v=Mo(this,v);for(let q=0;q<v.length;q++){let tt=L;v[q]!==""&&(tt+="="+ki(v[q])),c.push(tt)}}return this.i=c.join("&")};function yu(c){const m=new ds;return m.i=c.i,c.g&&(m.g=new Map(c.g),m.h=c.h),m}function ms(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function pa(c,m){m&&!c.j&&(ln(c),c.i=null,c.g.forEach(function(v,A){const L=A.toLowerCase();A!=L&&(gu(this,A),ma(this,L,v))},c)),c.j=m}function Fn(c,m){const v=new Bn;if(f.Image){const A=new Image;A.onload=T(Rn,v,"TestLoadImage: loaded",!0,m,A),A.onerror=T(Rn,v,"TestLoadImage: error",!1,m,A),A.onabort=T(Rn,v,"TestLoadImage: abort",!1,m,A),A.ontimeout=T(Rn,v,"TestLoadImage: timeout",!1,m,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else m(!1)}function xo(c,m){const v=new Bn,A=new AbortController,L=setTimeout(()=>{A.abort(),Rn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:A.signal}).then(q=>{clearTimeout(L),q.ok?Rn(v,"TestPingServer: ok",!0,m):Rn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Rn(v,"TestPingServer: error",!1,m)})}function Rn(c,m,v,A,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),A(v)}catch{}}function ps(){this.g=new su}function mi(c){this.i=c.Sb||null,this.h=c.ab||!1}S(mi,ru),mi.prototype.g=function(){return new vr(this.i,this.h)};function vr(c,m){ve.call(this),this.H=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(vr,ve),s=vr.prototype,s.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=m,this.readyState=1,Gn(this)},s.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(m.body=c),(this.H||f).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,gs(this)),this.readyState=0},s.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Gn(this)),this.g&&(this.readyState=3,Gn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ga(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ga(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}s.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?gs(this):Gn(this),this.readyState==3&&ga(this)}},s.Oa=function(c){this.g&&(this.response=this.responseText=c,gs(this))},s.Na=function(c){this.g&&(this.response=c,gs(this))},s.ga=function(){this.g&&gs(this)};function gs(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Gn(c)}s.setRequestHeader=function(c,m){this.A.append(c,m)},s.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=m.next();return c.join(`\r
`)};function Gn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(vr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function In(c){let m="";return Nt(c,function(v,A){m+=A,m+=":",m+=v,m+=`\r
`}),m}function Er(c,m,v){t:{for(A in v){var A=!1;break t}A=!0}A||(v=In(v),typeof c=="string"?v!=null&&ki(v):Qt(c,m,v))}function Xt(c){ve.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Xt,ve);var pi=/^https?$/i,Uo=["POST","PUT"];s=Xt.prototype,s.Fa=function(c){this.H=c},s.ea=function(c,m,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():bo.g(),this.g.onreadystatechange=N(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(q){Tr(this,q);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var L in A)v.set(L,A[L]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const q of A.keys())v.set(q,A.get(q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),L=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Uo,m,void 0)>=0)||A||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,tt]of v)this.g.setRequestHeader(q,tt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(q){Tr(this,q)}};function Tr(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.o=5,ko(c),Li(c)}function ko(c){c.A||(c.A=!0,Me(c,"complete"),Me(c,"error"))}s.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Me(this,"complete"),Me(this,"abort"),Li(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Li(this,!0)),Xt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Ar(this):this.Xa())},s.Xa=function(){Ar(this)};function Ar(c){if(c.h&&typeof u<"u"){if(c.v&&Qn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Me(c,"readystatechange"),Qn(c)==4){c.h=!1;try{const q=c.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var A;if(A=q===0){let tt=String(c.D).match(du)[1]||null;!tt&&f.self&&f.self.location&&(tt=f.self.location.protocol.slice(0,-1)),A=!pi.test(tt?tt.toLowerCase():"")}v=A}if(v)Me(c,"complete"),Me(c,"success");else{c.o=6;try{var L=Qn(c)>2?c.g.statusText:""}catch{L=""}c.l=L+" ["+c.ca()+"]",ko(c)}}finally{Li(c)}}}}function Li(c,m){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,m||Me(c,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Qn(c){return c.g?c.g.readyState:0}s.ca=function(){try{return Qn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),qh(m)}};function qe(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Pi(c){const m={};c=(c.g&&Qn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(w(c[A]))continue;var v=cu(c[A]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[L]||[];m[L]=q,q.push(v)}rt(m,function(A){return A.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function gi(c,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||m}function ys(c){this.za=0,this.i=[],this.j=new Bn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=gi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=gi("baseRetryDelayMs",5e3,c),this.Za=gi("retryDelaySeedMs",1e4,c),this.Ta=gi("forwardChannelMaxRetries",2,c),this.va=gi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new wo(c&&c.concurrentRequestLimit),this.Ba=new ps,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=ys.prototype,s.ka=8,s.I=1,s.connect=function(c,m,v,A){Ee(0),this.W=c,this.H=m||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=bu(this,null,this.W),yi(this)};function Lo(c){if(ya(c),c.I==3){var m=c.V++,v=Se(c.J);if(Qt(v,"SID",c.M),Qt(v,"RID",m),Qt(v,"TYPE","terminate"),Sr(c,v),m=new qn(c,c.j,m),m.M=2,m.A=yr(Se(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=m.A,v=!0),v||(m.g=wu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),li(m)}Su(c)}function _s(c){c.g&&(zo(c),c.g.cancel(),c.g=null)}function ya(c){_s(c),c.v&&(f.clearTimeout(c.v),c.v=null),va(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function yi(c){if(!Ro(c.h)&&!c.m){c.m=!0;var m=c.Ea;jt||b(),Ct||(jt(),Ct=!0),D.add(m,c),c.D=0}}function _a(c,m){return hi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=m.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ri(y(c.Ea,c,m),Au(c,c.D)),c.D++,!0)}s.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const L=new qn(this,this.j,c);let q=this.o;if(this.U&&(q?(q=O(q),et(q,this.U)):q=this.U),this.u!==null||this.R||(L.J=q,q=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(m+=A,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=_u(this,L,m),v=Se(this.J),Qt(v,"RID",c),Qt(v,"CVER",22),this.G&&Qt(v,"X-HTTP-Session-Id",this.G),Sr(this,v),q&&(this.R?m="headers="+ki(In(q))+"&"+m:this.u&&Er(v,this.u,q)),Io(this.h,L),this.Ra&&Qt(v,"TYPE","init"),this.S?(Qt(v,"$req",m),Qt(v,"SID","null"),L.U=!0,oi(L,v,null)):oi(L,v,m),this.I=2}}else this.I==3&&(c?Po(this,c):this.i.length==0||Ro(this.h)||Po(this))};function Po(c,m){var v;m?v=m.l:v=c.V++;const A=Se(c.J);Qt(A,"SID",c.M),Qt(A,"RID",v),Qt(A,"AID",c.K),Sr(c,A),c.u&&c.o&&Er(A,c.u,c.o),v=new qn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),m&&(c.i=m.G.concat(c.i)),m=_u(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Io(c.h,v),oi(v,A,m)}function Sr(c,m){c.H&&Nt(c.H,function(v,A){Qt(m,A,v)}),c.l&&Nt({},function(v,A){Qt(m,A,v)})}function _u(c,m,v){v=Math.min(c.i.length,v);const A=c.l?y(c.l.Ka,c.l,c):null;t:{var L=c.i;let bt=-1;for(;;){const pe=["count="+v];bt==-1?v>0?(bt=L[0].g,pe.push("ofs="+bt)):bt=0:pe.push("ofs="+bt);let Ht=!0;for(let ae=0;ae<v;ae++){var q=L[ae].g;const Cn=L[ae].map;if(q-=bt,q<0)bt=Math.max(0,L[ae].g-100),Ht=!1;else try{q="req"+q+"_"||"";try{var tt=Cn instanceof Map?Cn:Object.entries(Cn);for(const[vi,Kn]of tt){let Yn=Kn;p(Kn)&&(Yn=cs(Kn)),pe.push(q+vi+"="+encodeURIComponent(Yn))}}catch(vi){throw pe.push(q+"type="+encodeURIComponent("_badmap")),vi}}catch{A&&A(Cn)}}if(Ht){tt=pe.join("&");break t}}tt=void 0}return c=c.i.splice(0,v),m.G=c,tt}function vu(c){if(!c.g&&!c.v){c.Y=1;var m=c.Da;jt||b(),Ct||(jt(),Ct=!0),D.add(m,c),c.A=0}}function br(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ri(y(c.Da,c),Au(c,c.A)),c.A++,!0)}s.Da=function(){if(this.v=null,Eu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ri(y(this.Wa,this),c)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ee(10),_s(this),Eu(this))};function zo(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Eu(c){c.g=new qn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var m=Se(c.na);Qt(m,"RID","rpc"),Qt(m,"SID",c.M),Qt(m,"AID",c.K),Qt(m,"CI",c.F?"0":"1"),!c.F&&c.ia&&Qt(m,"TO",c.ia),Qt(m,"TYPE","xmlhttp"),Sr(c,m),c.u&&c.o&&Er(m,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=yr(Se(m)),v.u=null,v.R=!0,ca(v,c)}s.Va=function(){this.C!=null&&(this.C=null,_s(this),br(this),Ee(19))};function va(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Tu(c,m){var v=null;if(c.g==m){va(c),zo(c),c.g=null;var A=2}else if(fi(c.h,m))v=m.G,Co(c.h,m),A=1;else return;if(c.I!=0){if(m.o)if(A==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=c.D;A=ua(),Me(A,new si(A,v)),yi(c)}else vu(c);else if(L=m.m,L==3||L==0&&m.X>0||!(A==1&&_a(c,m)||A==2&&br(c)))switch(v&&v.length>0&&(m=c.h,m.i=m.i.concat(v)),L){case 1:_i(c,5);break;case 4:_i(c,10);break;case 3:_i(c,6);break;default:_i(c,2)}}}function Au(c,m){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*m}function _i(c,m){if(c.j.info("Error code "+m),m==2){var v=y(c.bb,c),A=c.Ua;const L=!A;A=new gn(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Pe(A,"https"),yr(A),L?Fn(A.toString(),v):xo(A.toString(),v)}else Ee(2);c.I=0,c.l&&c.l.pa(m),Su(c),ya(c)}s.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Ee(2)):(this.j.info("Failed to ping google.com"),Ee(1))};function Su(c){if(c.I=0,c.ja=[],c.l){const m=No(c.h);(m.length!=0||c.i.length!=0)&&(F(c.ja,m),F(c.ja,c.i),c.h.i.length=0,B(c.i),c.i.length=0),c.l.oa()}}function bu(c,m,v){var A=v instanceof gn?Se(v):new gn(v);if(A.g!="")m&&(A.g=m+"."+A.g),hs(A,A.u);else{var L=f.location;A=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const q=new gn(null);A&&Pe(q,A),m&&(q.g=m),L&&hs(q,L),v&&(q.h=v),A=q}return v=c.G,m=c.wa,v&&m&&Qt(A,v,m),Qt(A,"VER",c.ka),Sr(c,A),A}function wu(c,m,v){if(m&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Aa&&!c.ma?new Xt(new mi({ab:v})):new Xt(c.ma),m.Fa(c.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ru(){}s=Ru.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function vs(){}vs.prototype.g=function(c,m){return new nn(c,m)};function nn(c,m){ve.call(this),this.g=new ys(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(c?c["X-WebChannel-Client-Profile"]=m.sa:c={"X-WebChannel-Client-Profile":m.sa}),this.g.U=c,(c=m&&m.Qb)&&!w(c)&&(this.g.u=c),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new zi(this)}S(nn,ve),nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){Lo(this.g)},nn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=cs(c),c=v);m.i.push(new Ae(m.Ya++,c)),m.I==3&&yi(m)},nn.prototype.N=function(){this.g.l=null,delete this.j,Lo(this.g),delete this.g,nn.Z.N.call(this)};function Iu(c){Be.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){t:{for(const v in m){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}S(Iu,Be);function Cu(){bn.call(this),this.status=1}S(Cu,bn);function zi(c){this.g=c}S(zi,Ru),zi.prototype.ra=function(){Me(this.g,"a")},zi.prototype.qa=function(c){Me(this.g,new Iu(c))},zi.prototype.pa=function(c){Me(this.g,new Cu)},zi.prototype.oa=function(){Me(this.g,"b")},vs.prototype.createWebChannel=vs.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,wT=function(){return new vs},bT=function(){return ua()},ST=me,dm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},pr.NO_ERROR=0,pr.TIMEOUT=8,pr.HTTP_ERROR=6,qc=pr,So.COMPLETE="complete",AT=So,au.EventType=jn,jn.OPEN="a",jn.CLOSE="b",jn.ERROR="c",jn.MESSAGE="d",ve.prototype.listen=ve.prototype.J,wl=au,Xt.prototype.listenOnce=Xt.prototype.K,Xt.prototype.getLastError=Xt.prototype.Ha,Xt.prototype.getLastErrorCode=Xt.prototype.ya,Xt.prototype.getStatus=Xt.prototype.ca,Xt.prototype.getResponseJson=Xt.prototype.La,Xt.prototype.getResponseText=Xt.prototype.la,Xt.prototype.send=Xt.prototype.ea,Xt.prototype.setWithCredentials=Xt.prototype.Fa,TT=Xt}).apply(typeof Vc<"u"?Vc:typeof self<"u"?self:typeof window<"u"?window:{});const Uv="@firebase/firestore",kv="4.9.3";class Je{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Je.UNAUTHENTICATED=new Je(null),Je.GOOGLE_CREDENTIALS=new Je("google-credentials-uid"),Je.FIRST_PARTY=new Je("first-party-uid"),Je.MOCK_USER=new Je("mock-user");let ho="12.7.0";const Zr=new Bm("@firebase/firestore");function $a(){return Zr.logLevel}function ot(s,...t){if(Zr.logLevel<=xt.DEBUG){const n=t.map(Fm);Zr.debug(`Firestore (${ho}): ${s}`,...n)}}function rs(s,...t){if(Zr.logLevel<=xt.ERROR){const n=t.map(Fm);Zr.error(`Firestore (${ho}): ${s}`,...n)}}function so(s,...t){if(Zr.logLevel<=xt.WARN){const n=t.map(Fm);Zr.warn(`Firestore (${ho}): ${s}`,...n)}}function Fm(s){if(typeof s=="string")return s;try{return(function(n){return JSON.stringify(n)})(s)}catch{return s}}function _t(s,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,RT(s,r,n)}function RT(s,t,n){let r=`FIRESTORE (${ho}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw rs(r),new Error(r)}function Gt(s,t,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,s||RT(t,o,r)}function St(s,t){return s}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class st extends Ui{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class tr{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class IT{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class _1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(Je.UNAUTHENTICATED)))}shutdown(){}}class v1{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class E1{constructor(t){this.t=t,this.currentUser=Je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Gt(this.o===void 0,42304);let r=this.i;const o=g=>this.i!==r?(r=this.i,n(g)):Promise.resolve();let u=new tr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new tr,t.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const g=u;t.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},p=g=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new tr)}}),0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==t?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Gt(typeof r.accessToken=="string",31837,{l:r}),new IT(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Gt(t===null||typeof t=="string",2055,{h:t}),new Je(t)}}class T1{constructor(t,n,r){this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=Je.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class A1{constructor(t,n,r){this.P=t,this.T=n,this.I=r}getToken(){return Promise.resolve(new T1(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(Je.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Lv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class S1{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ln(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Gt(this.o===void 0,3512);const r=u=>{u.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ot("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>r(u)))};const o=u=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Lv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Gt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Lv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function b1(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}class Gm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=b1(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<n&&(r+=t.charAt(o[u]%62))}return r}}function Ut(s,t){return s<t?-1:s>t?1:0}function mm(s,t){const n=Math.min(s.length,t.length);for(let r=0;r<n;r++){const o=s.charAt(r),u=t.charAt(r);if(o!==u)return Zd(o)===Zd(u)?Ut(o,u):Zd(o)?1:-1}return Ut(s.length,t.length)}const w1=55296,R1=57343;function Zd(s){const t=s.charCodeAt(0);return t>=w1&&t<=R1}function ro(s,t,n){return s.length===t.length&&s.every(((r,o)=>n(r,t[o])))}const Pv="__name__";class bi{constructor(t,n,r){n===void 0?n=0:n>t.length&&_t(637,{offset:n,range:t.length}),r===void 0?r=t.length-n:r>t.length-n&&_t(1746,{length:r,range:t.length-n}),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return bi.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof bi?t.forEach((r=>{n.push(r)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let o=0;o<r;o++){const u=bi.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return Ut(t.length,n.length)}static compareSegments(t,n){const r=bi.isNumericId(t),o=bi.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?bi.extractNumericId(t).compare(bi.extractNumericId(n)):mm(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ws.fromString(t.substring(4,t.length-2))}}class ee extends bi{construct(t,n,r){return new ee(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new st($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new ee(n)}static emptyPath(){return new ee([])}}const I1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ye extends bi{construct(t,n,r){return new Ye(t,n,r)}static isValidIdentifier(t){return I1.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ye.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Pv}static keyField(){return new Ye([Pv])}static fromServerFormat(t){const n=[];let r="",o=0;const u=()=>{if(r.length===0)throw new st($.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let f=!1;for(;o<t.length;){const p=t[o];if(p==="\\"){if(o+1===t.length)throw new st($.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new st($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=g,o+=2}else p==="`"?(f=!f,o++):p!=="."||f?(r+=p,o++):(u(),o++)}if(u(),f)throw new st($.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ye(n)}static emptyPath(){return new Ye([])}}class pt{constructor(t){this.path=t}static fromPath(t){return new pt(ee.fromString(t))}static fromName(t){return new pt(ee.fromString(t).popFirst(5))}static empty(){return new pt(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ee.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ee.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new pt(new ee(t.slice()))}}function CT(s,t,n){if(!n)throw new st($.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function C1(s,t,n,r){if(t===!0&&r===!0)throw new st($.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function zv(s){if(!pt.isDocumentKey(s))throw new st($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function jv(s){if(pt.isDocumentKey(s))throw new st($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function NT(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Ah(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":_t(12329,{type:typeof s})}function Fr(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new st($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ah(s);throw new st($.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return s}function N1(s,t){if(t<=0)throw new st($.INVALID_ARGUMENT,`Function ${s}() requires a positive number, but it was: ${t}.`)}function De(s,t){const n={typeString:s};return t&&(n.value=t),n}function Xl(s,t){if(!NT(s))throw new st($.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const o=t[r].typeString,u="value"in t[r]?{value:t[r].value}:void 0;if(!(r in s)){n=`JSON missing required field: '${r}'`;break}const f=s[r];if(o&&typeof f!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${r}' field to equal '${u.value}'`;break}}if(n)throw new st($.INVALID_ARGUMENT,n);return!0}const Bv=-62135596800,qv=1e6;class se{static now(){return se.fromMillis(Date.now())}static fromDate(t){return se.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*qv);return new se(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new st($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new st($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Bv)throw new st($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new st($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/qv}_compareTo(t){return this.seconds===t.seconds?Ut(this.nanoseconds,t.nanoseconds):Ut(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:se._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Xl(t,se._jsonSchema))return new se(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Bv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}se._jsonSchemaVersion="firestore/timestamp/1.0",se._jsonSchema={type:De("string",se._jsonSchemaVersion),seconds:De("number"),nanoseconds:De("number")};class Tt{static fromTimestamp(t){return new Tt(t)}static min(){return new Tt(new se(0,0))}static max(){return new Tt(new se(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ll=-1;function D1(s,t){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=Tt.fromTimestamp(r===1e9?new se(n+1,0):new se(n,r));return new ir(o,pt.empty(),t)}function O1(s){return new ir(s.readTime,s.key,Ll)}class ir{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new ir(Tt.min(),pt.empty(),Ll)}static max(){return new ir(Tt.max(),pt.empty(),Ll)}}function V1(s,t){let n=s.readTime.compareTo(t.readTime);return n!==0?n:(n=pt.comparator(s.documentKey,t.documentKey),n!==0?n:Ut(s.largestBatchId,t.largestBatchId))}const M1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class x1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function fo(s){if(s.code!==$.FAILED_PRECONDITION||s.message!==M1)throw s;ot("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&_t(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new Z(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(r,o)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof Z?n:Z.resolve(n)}catch(n){return Z.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):Z.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):Z.reject(n)}static resolve(t){return new Z(((n,r)=>{n(t)}))}static reject(t){return new Z(((n,r)=>{r(t)}))}static waitFor(t){return new Z(((n,r)=>{let o=0,u=0,f=!1;t.forEach((p=>{++o,p.next((()=>{++u,f&&u===o&&n()}),(g=>r(g)))})),f=!0,u===o&&n()}))}static or(t){let n=Z.resolve(!1);for(const r of t)n=n.next((o=>o?Z.resolve(o):r()));return n}static forEach(t,n){const r=[];return t.forEach(((o,u)=>{r.push(n.call(this,o,u))})),this.waitFor(r)}static mapArray(t,n){return new Z(((r,o)=>{const u=t.length,f=new Array(u);let p=0;for(let g=0;g<u;g++){const y=g;n(t[y]).next((T=>{f[y]=T,++p,p===u&&r(f)}),(T=>o(T)))}}))}static doWhile(t,n){return new Z(((r,o)=>{const u=()=>{t()===!0?n().next((()=>{u()}),o):r()};u()}))}}function U1(s){const t=s.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function mo(s){return s.name==="IndexedDbTransactionError"}class Sh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Sh.ce=-1;const Qm=-1;function bh(s){return s==null}function nh(s){return s===0&&1/s==-1/0}function k1(s){return typeof s=="number"&&Number.isInteger(s)&&!nh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const DT="";function L1(s){let t="";for(let n=0;n<s.length;n++)t.length>0&&(t=Hv(t)),t=P1(s.get(n),t);return Hv(t)}function P1(s,t){let n=t;const r=s.length;for(let o=0;o<r;o++){const u=s.charAt(o);switch(u){case"\0":n+="";break;case DT:n+="";break;default:n+=u}}return n}function Hv(s){return s+DT+""}function Fv(s){let t=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&t++;return t}function na(s,t){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&t(n,s[n])}function OT(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class le{constructor(t,n){this.comparator=t,this.root=n||Ke.EMPTY}insert(t,n){return new le(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ke.BLACK,null,null))}remove(t){return new le(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ke.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,r)=>(t(n,r),!1)))}toString(){const t=[];return this.inorderTraversal(((n,r)=>(t.push(`${n}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Mc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Mc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Mc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Mc(this.root,t,this.comparator,!0)}}class Mc{constructor(t,n,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?r(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ke{constructor(t,n,r,o,u){this.key=t,this.value=n,this.color=r??Ke.RED,this.left=o??Ke.EMPTY,this.right=u??Ke.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,o,u){return new Ke(t??this.key,n??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let o=this;const u=r(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,r),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ke.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return Ke.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ke.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ke.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _t(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _t(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw _t(27949);return t+(this.isRed()?0:1)}}Ke.EMPTY=null,Ke.RED=!0,Ke.BLACK=!1;Ke.EMPTY=new class{constructor(){this.size=0}get key(){throw _t(57766)}get value(){throw _t(16141)}get color(){throw _t(16727)}get left(){throw _t(29726)}get right(){throw _t(36894)}copy(t,n,r,o,u){return this}insert(t,n,r){return new Ke(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ke{constructor(t){this.comparator=t,this.data=new le(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,r)=>(t(n),!1)))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Gv(this.data.getIterator())}getIteratorFrom(t){return new Gv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((r=>{n=n.add(r)})),n}isEqual(t){if(!(t instanceof ke)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new ke(this.comparator);return n.data=t,n}}class Gv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Jn{constructor(t){this.fields=t,t.sort(Ye.comparator)}static empty(){return new Jn([])}unionWith(t){let n=new ke(Ye.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new Jn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return ro(this.fields,t.fields,((n,r)=>n.isEqual(r)))}}class VT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Xe{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new VT("Invalid base64 string: "+u):u}})(t);return new Xe(n)}static fromUint8Array(t){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(t);return new Xe(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ut(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Xe.EMPTY_BYTE_STRING=new Xe("");const z1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function sr(s){if(Gt(!!s,39018),typeof s=="string"){let t=0;const n=z1.exec(s);if(Gt(!!n,46558,{timestamp:s}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:_e(s.seconds),nanos:_e(s.nanos)}}function _e(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function rr(s){return typeof s=="string"?Xe.fromBase64String(s):Xe.fromUint8Array(s)}const MT="server_timestamp",xT="__type__",UT="__previous_value__",kT="__local_write_time__";function Km(s){return(s?.mapValue?.fields||{})[xT]?.stringValue===MT}function wh(s){const t=s.mapValue.fields[UT];return Km(t)?wh(t):t}function Pl(s){const t=sr(s.mapValue.fields[kT].timestampValue);return new se(t.seconds,t.nanos)}class j1{constructor(t,n,r,o,u,f,p,g,y,T){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=T}}const ih="(default)";class zl{constructor(t,n){this.projectId=t,this.database=n||ih}static empty(){return new zl("","")}get isDefaultDatabase(){return this.database===ih}isEqual(t){return t instanceof zl&&t.projectId===this.projectId&&t.database===this.database}}const LT="__type__",B1="__max__",xc={mapValue:{}},PT="__vector__",sh="value";function ar(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Km(s)?4:H1(s)?9007199254740991:q1(s)?10:11:_t(28295,{value:s})}function Mi(s,t){if(s===t)return!0;const n=ar(s);if(n!==ar(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Pl(s).isEqual(Pl(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=sr(o.timestampValue),p=sr(u.timestampValue);return f.seconds===p.seconds&&f.nanos===p.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(o,u){return rr(o.bytesValue).isEqual(rr(u.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(o,u){return _e(o.geoPointValue.latitude)===_e(u.geoPointValue.latitude)&&_e(o.geoPointValue.longitude)===_e(u.geoPointValue.longitude)})(s,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return _e(o.integerValue)===_e(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=_e(o.doubleValue),p=_e(u.doubleValue);return f===p?nh(f)===nh(p):isNaN(f)&&isNaN(p)}return!1})(s,t);case 9:return ro(s.arrayValue.values||[],t.arrayValue.values||[],Mi);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},p=u.mapValue.fields||{};if(Fv(f)!==Fv(p))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(p[g]===void 0||!Mi(f[g],p[g])))return!1;return!0})(s,t);default:return _t(52216,{left:s})}}function jl(s,t){return(s.values||[]).find((n=>Mi(n,t)))!==void 0}function ao(s,t){if(s===t)return 0;const n=ar(s),r=ar(t);if(n!==r)return Ut(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ut(s.booleanValue,t.booleanValue);case 2:return(function(u,f){const p=_e(u.integerValue||u.doubleValue),g=_e(f.integerValue||f.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(s,t);case 3:return Qv(s.timestampValue,t.timestampValue);case 4:return Qv(Pl(s),Pl(t));case 5:return mm(s.stringValue,t.stringValue);case 6:return(function(u,f){const p=rr(u),g=rr(f);return p.compareTo(g)})(s.bytesValue,t.bytesValue);case 7:return(function(u,f){const p=u.split("/"),g=f.split("/");for(let y=0;y<p.length&&y<g.length;y++){const T=Ut(p[y],g[y]);if(T!==0)return T}return Ut(p.length,g.length)})(s.referenceValue,t.referenceValue);case 8:return(function(u,f){const p=Ut(_e(u.latitude),_e(f.latitude));return p!==0?p:Ut(_e(u.longitude),_e(f.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return Kv(s.arrayValue,t.arrayValue);case 10:return(function(u,f){const p=u.fields||{},g=f.fields||{},y=p[sh]?.arrayValue,T=g[sh]?.arrayValue,S=Ut(y?.values?.length||0,T?.values?.length||0);return S!==0?S:Kv(y,T)})(s.mapValue,t.mapValue);case 11:return(function(u,f){if(u===xc.mapValue&&f===xc.mapValue)return 0;if(u===xc.mapValue)return 1;if(f===xc.mapValue)return-1;const p=u.fields||{},g=Object.keys(p),y=f.fields||{},T=Object.keys(y);g.sort(),T.sort();for(let S=0;S<g.length&&S<T.length;++S){const N=mm(g[S],T[S]);if(N!==0)return N;const B=ao(p[g[S]],y[T[S]]);if(B!==0)return B}return Ut(g.length,T.length)})(s.mapValue,t.mapValue);default:throw _t(23264,{he:n})}}function Qv(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Ut(s,t);const n=sr(s),r=sr(t),o=Ut(n.seconds,r.seconds);return o!==0?o:Ut(n.nanos,r.nanos)}function Kv(s,t){const n=s.values||[],r=t.values||[];for(let o=0;o<n.length&&o<r.length;++o){const u=ao(n[o],r[o]);if(u)return u}return Ut(n.length,r.length)}function oo(s){return pm(s)}function pm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const r=sr(n);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return rr(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return pt.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let r="[",o=!0;for(const u of n.values||[])o?o=!1:r+=",",r+=pm(u);return r+"]"})(s.arrayValue):"mapValue"in s?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of r)u?u=!1:o+=",",o+=`${f}:${pm(n.fields[f])}`;return o+"}"})(s.mapValue):_t(61005,{value:s})}function Hc(s){switch(ar(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=wh(s);return t?16+Hc(t):16;case 5:return 2*s.stringValue.length;case 6:return rr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+Hc(u)),0)})(s.arrayValue);case 10:case 11:return(function(r){let o=0;return na(r.fields,((u,f)=>{o+=u.length+Hc(f)})),o})(s.mapValue);default:throw _t(13486,{value:s})}}function Yv(s,t){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${t.path.canonicalString()}`}}function gm(s){return!!s&&"integerValue"in s}function Ym(s){return!!s&&"arrayValue"in s}function Xv(s){return!!s&&"nullValue"in s}function $v(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Fc(s){return!!s&&"mapValue"in s}function q1(s){return(s?.mapValue?.fields||{})[LT]?.stringValue===PT}function Dl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return na(s.mapValue.fields,((n,r)=>t.mapValue.fields[n]=Dl(r))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Dl(s.arrayValue.values[n]);return t}return{...s}}function H1(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===B1}class Pn{constructor(t){this.value=t}static empty(){return new Pn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!Fc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Dl(n)}setAll(t){let n=Ye.emptyPath(),r={},o=[];t.forEach(((f,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,r,o),r={},o=[],n=p.popLast()}f?r[p.lastSegment()]=Dl(f):o.push(p.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,r,o)}delete(t){const n=this.field(t.popLast());Fc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Mi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=n.mapValue.fields[t.get(r)];Fc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,r){na(n,((o,u)=>t[o]=u));for(const o of r)delete t[o]}clone(){return new Pn(Dl(this.value))}}function zT(s){const t=[];return na(s.fields,((n,r)=>{const o=new Ye([n]);if(Fc(r)){const u=zT(r.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)})),new Jn(t)}class We{constructor(t,n,r,o,u,f,p){this.key=t,this.documentType=n,this.version=r,this.readTime=o,this.createTime=u,this.data=f,this.documentState=p}static newInvalidDocument(t){return new We(t,0,Tt.min(),Tt.min(),Tt.min(),Pn.empty(),0)}static newFoundDocument(t,n,r,o){return new We(t,1,n,Tt.min(),r,o,0)}static newNoDocument(t,n){return new We(t,2,n,Tt.min(),Tt.min(),Pn.empty(),0)}static newUnknownDocument(t,n){return new We(t,3,n,Tt.min(),Tt.min(),Pn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Pn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof We&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new We(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class rh{constructor(t,n){this.position=t,this.inclusive=n}}function Zv(s,t,n){let r=0;for(let o=0;o<s.position.length;o++){const u=t[o],f=s.position[o];if(u.field.isKeyField()?r=pt.comparator(pt.fromName(f.referenceValue),n.key):r=ao(f,n.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function Jv(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!Mi(s.position[n],t.position[n]))return!1;return!0}class Bl{constructor(t,n="asc"){this.field=t,this.dir=n}}function F1(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class jT{}class Ne extends jT{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new Q1(t,n,r):n==="array-contains"?new X1(t,r):n==="in"?new $1(t,r):n==="not-in"?new Z1(t,r):n==="array-contains-any"?new J1(t,r):new Ne(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new K1(t,r):new Y1(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ao(n,this.value)):n!==null&&ar(this.value)===ar(n)&&this.matchesComparison(ao(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return _t(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ei extends jT{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new ei(t,n)}matches(t){return BT(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function BT(s){return s.op==="and"}function qT(s){return G1(s)&&BT(s)}function G1(s){for(const t of s.filters)if(t instanceof ei)return!1;return!0}function ym(s){if(s instanceof Ne)return s.field.canonicalString()+s.op.toString()+oo(s.value);if(qT(s))return s.filters.map((t=>ym(t))).join(",");{const t=s.filters.map((n=>ym(n))).join(",");return`${s.op}(${t})`}}function HT(s,t){return s instanceof Ne?(function(r,o){return o instanceof Ne&&r.op===o.op&&r.field.isEqual(o.field)&&Mi(r.value,o.value)})(s,t):s instanceof ei?(function(r,o){return o instanceof ei&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,f,p)=>u&&HT(f,o.filters[p])),!0):!1})(s,t):void _t(19439)}function FT(s){return s instanceof Ne?(function(n){return`${n.field.canonicalString()} ${n.op} ${oo(n.value)}`})(s):s instanceof ei?(function(n){return n.op.toString()+" {"+n.getFilters().map(FT).join(" ,")+"}"})(s):"Filter"}class Q1 extends Ne{constructor(t,n,r){super(t,n,r),this.key=pt.fromName(r.referenceValue)}matches(t){const n=pt.comparator(t.key,this.key);return this.matchesComparison(n)}}class K1 extends Ne{constructor(t,n){super(t,"in",n),this.keys=GT("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class Y1 extends Ne{constructor(t,n){super(t,"not-in",n),this.keys=GT("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function GT(s,t){return(t.arrayValue?.values||[]).map((n=>pt.fromName(n.referenceValue)))}class X1 extends Ne{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Ym(n)&&jl(n.arrayValue,this.value)}}class $1 extends Ne{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&jl(this.value.arrayValue,n)}}class Z1 extends Ne{constructor(t,n){super(t,"not-in",n)}matches(t){if(jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!jl(this.value.arrayValue,n)}}class J1 extends Ne{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Ym(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>jl(this.value.arrayValue,r)))}}class W1{constructor(t,n=null,r=[],o=[],u=null,f=null,p=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=f,this.endAt=p,this.Te=null}}function Wv(s,t=null,n=[],r=[],o=null,u=null,f=null){return new W1(s,t,n,r,o,u,f)}function Xm(s){const t=St(s);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((r=>ym(r))).join(","),n+="|ob:",n+=t.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),bh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((r=>oo(r))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((r=>oo(r))).join(",")),t.Te=n}return t.Te}function $m(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!F1(s.orderBy[n],t.orderBy[n]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!HT(s.filters[n],t.filters[n]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!Jv(s.startAt,t.startAt)&&Jv(s.endAt,t.endAt)}function _m(s){return pt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class po{constructor(t,n=null,r=[],o=[],u=null,f="F",p=null,g=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=f,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function tR(s,t,n,r,o,u,f,p){return new po(s,t,n,r,o,u,f,p)}function Zm(s){return new po(s)}function tE(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function QT(s){return s.collectionGroup!==null}function Ol(s){const t=St(s);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let p=new ke(Ye.comparator);return f.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Bl(u,r))})),n.has(Ye.keyField().canonicalString())||t.Ie.push(new Bl(Ye.keyField(),r))}return t.Ie}function Ci(s){const t=St(s);return t.Ee||(t.Ee=eR(t,Ol(s))),t.Ee}function eR(s,t){if(s.limitType==="F")return Wv(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Bl(o.field,u)}));const n=s.endAt?new rh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new rh(s.startAt.position,s.startAt.inclusive):null;return Wv(s.path,s.collectionGroup,t,s.filters,s.limit,n,r)}}function vm(s,t){const n=s.filters.concat([t]);return new po(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function ah(s,t,n){return new po(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,n,s.startAt,s.endAt)}function Rh(s,t){return $m(Ci(s),Ci(t))&&s.limitType===t.limitType}function KT(s){return`${Xm(Ci(s))}|lt:${s.limitType}`}function Za(s){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>FT(o))).join(", ")}]`),bh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>oo(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>oo(o))).join(",")),`Target(${r})`})(Ci(s))}; limitType=${s.limitType})`}function Ih(s,t){return t.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):pt.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(s,t)&&(function(r,o){for(const u of Ol(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(s,t)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(s,t)&&(function(r,o){return!(r.startAt&&!(function(f,p,g){const y=Zv(f,p,g);return f.inclusive?y<=0:y<0})(r.startAt,Ol(r),o)||r.endAt&&!(function(f,p,g){const y=Zv(f,p,g);return f.inclusive?y>=0:y>0})(r.endAt,Ol(r),o))})(s,t)}function nR(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function YT(s){return(t,n)=>{let r=!1;for(const o of Ol(s)){const u=iR(o,t,n);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function iR(s,t,n){const r=s.field.isKeyField()?pt.comparator(t.key,n.key):(function(u,f,p){const g=f.data.field(u),y=p.data.field(u);return g!==null&&y!==null?ao(g,y):_t(42886)})(s.field,t,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return _t(19790,{direction:s.dir})}}class ia{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){na(this.inner,((n,r)=>{for(const[o,u]of r)t(o,u)}))}isEmpty(){return OT(this.inner)}size(){return this.innerSize}}const sR=new le(pt.comparator);function as(){return sR}const XT=new le(pt.comparator);function Rl(...s){let t=XT;for(const n of s)t=t.insert(n.key,n);return t}function $T(s){let t=XT;return s.forEach(((n,r)=>t=t.insert(n,r.overlayedDocument))),t}function qr(){return Vl()}function ZT(){return Vl()}function Vl(){return new ia((s=>s.toString()),((s,t)=>s.isEqual(t)))}const rR=new le(pt.comparator),aR=new ke(pt.comparator);function kt(...s){let t=aR;for(const n of s)t=t.add(n);return t}const oR=new ke(Ut);function lR(){return oR}function Jm(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nh(t)?"-0":t}}function JT(s){return{integerValue:""+s}}function uR(s,t){return k1(t)?JT(t):Jm(s,t)}class Ch{constructor(){this._=void 0}}function cR(s,t,n){return s instanceof ql?(function(o,u){const f={fields:{[xT]:{stringValue:MT},[kT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Km(u)&&(u=wh(u)),u&&(f.fields[UT]=u),{mapValue:f}})(n,t):s instanceof Hl?t0(s,t):s instanceof Fl?e0(s,t):(function(o,u){const f=WT(o,u),p=eE(f)+eE(o.Ae);return gm(f)&&gm(o.Ae)?JT(p):Jm(o.serializer,p)})(s,t)}function hR(s,t,n){return s instanceof Hl?t0(s,t):s instanceof Fl?e0(s,t):n}function WT(s,t){return s instanceof oh?(function(r){return gm(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(t)?t:{integerValue:0}:null}class ql extends Ch{}class Hl extends Ch{constructor(t){super(),this.elements=t}}function t0(s,t){const n=n0(t);for(const r of s.elements)n.some((o=>Mi(o,r)))||n.push(r);return{arrayValue:{values:n}}}class Fl extends Ch{constructor(t){super(),this.elements=t}}function e0(s,t){let n=n0(t);for(const r of s.elements)n=n.filter((o=>!Mi(o,r)));return{arrayValue:{values:n}}}class oh extends Ch{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function eE(s){return _e(s.integerValue||s.doubleValue)}function n0(s){return Ym(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class fR{constructor(t,n){this.field=t,this.transform=n}}function dR(s,t){return s.field.isEqual(t.field)&&(function(r,o){return r instanceof Hl&&o instanceof Hl||r instanceof Fl&&o instanceof Fl?ro(r.elements,o.elements,Mi):r instanceof oh&&o instanceof oh?Mi(r.Ae,o.Ae):r instanceof ql&&o instanceof ql})(s.transform,t.transform)}class mR{constructor(t,n){this.version=t,this.transformResults=n}}class is{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new is}static exists(t){return new is(void 0,t)}static updateTime(t){return new is(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Gc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class Nh{}function i0(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new r0(s.key,is.none()):new $l(s.key,s.data,is.none());{const n=s.data,r=Pn.empty();let o=new ke(Ye.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?r.delete(u):r.set(u,f),o=o.add(u)}return new sa(s.key,r,new Jn(o.toArray()),is.none())}}function pR(s,t,n){s instanceof $l?(function(o,u,f){const p=o.value.clone(),g=iE(o.fieldTransforms,u,f.transformResults);p.setAll(g),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(s,t,n):s instanceof sa?(function(o,u,f){if(!Gc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const p=iE(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(s0(o)),g.setAll(p),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(s,t,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,t,n)}function Ml(s,t,n,r){return s instanceof $l?(function(u,f,p,g){if(!Gc(u.precondition,f))return p;const y=u.value.clone(),T=sE(u.fieldTransforms,g,f);return y.setAll(T),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(s,t,n,r):s instanceof sa?(function(u,f,p,g){if(!Gc(u.precondition,f))return p;const y=sE(u.fieldTransforms,g,f),T=f.data;return T.setAll(s0(u)),T.setAll(y),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(s,t,n,r):(function(u,f,p){return Gc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):p})(s,t,n)}function gR(s,t){let n=null;for(const r of s.fieldTransforms){const o=t.data.field(r.field),u=WT(r.transform,o||null);u!=null&&(n===null&&(n=Pn.empty()),n.set(r.field,u))}return n||null}function nE(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&ro(r,o,((u,f)=>dR(u,f)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class $l extends Nh{constructor(t,n,r,o=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class sa extends Nh{constructor(t,n,r,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function s0(s){const t=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=s.data.field(n);t.set(n,r)}})),t}function iE(s,t,n){const r=new Map;Gt(s.length===n.length,32656,{Re:n.length,Ve:s.length});for(let o=0;o<n.length;o++){const u=s[o],f=u.transform,p=t.data.field(u.field);r.set(u.field,hR(f,p,n[o]))}return r}function sE(s,t,n){const r=new Map;for(const o of s){const u=o.transform,f=n.data.field(o.field);r.set(o.field,cR(u,f,t))}return r}class r0 extends Nh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class yR extends Nh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class _R{constructor(t,n,r,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&pR(u,t,r[o])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=Ml(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=Ml(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=ZT();return this.mutations.forEach((o=>{const u=t.get(o.key),f=u.overlayedDocument;let p=this.applyToLocalView(f,u.mutatedFields);p=n.has(o.key)?null:p;const g=i0(f,p);g!==null&&r.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(Tt.min())})),r}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),kt())}isEqual(t){return this.batchId===t.batchId&&ro(this.mutations,t.mutations,((n,r)=>nE(n,r)))&&ro(this.baseMutations,t.baseMutations,((n,r)=>nE(n,r)))}}class Wm{constructor(t,n,r,o){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(t,n,r){Gt(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let o=(function(){return rR})();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,r[f].version);return new Wm(t,n,r,o)}}class vR{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class ER{constructor(t,n){this.count=t,this.unchangedNames=n}}var Ce,zt;function TR(s){switch(s){case $.OK:return _t(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return _t(15467,{code:s})}}function a0(s){if(s===void 0)return rs("GRPC error has no .code"),$.UNKNOWN;switch(s){case Ce.OK:return $.OK;case Ce.CANCELLED:return $.CANCELLED;case Ce.UNKNOWN:return $.UNKNOWN;case Ce.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Ce.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Ce.INTERNAL:return $.INTERNAL;case Ce.UNAVAILABLE:return $.UNAVAILABLE;case Ce.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Ce.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Ce.NOT_FOUND:return $.NOT_FOUND;case Ce.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Ce.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Ce.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Ce.ABORTED:return $.ABORTED;case Ce.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Ce.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Ce.DATA_LOSS:return $.DATA_LOSS;default:return _t(39323,{code:s})}}(zt=Ce||(Ce={}))[zt.OK=0]="OK",zt[zt.CANCELLED=1]="CANCELLED",zt[zt.UNKNOWN=2]="UNKNOWN",zt[zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zt[zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zt[zt.NOT_FOUND=5]="NOT_FOUND",zt[zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",zt[zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",zt[zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",zt[zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zt[zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zt[zt.ABORTED=10]="ABORTED",zt[zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",zt[zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",zt[zt.INTERNAL=13]="INTERNAL",zt[zt.UNAVAILABLE=14]="UNAVAILABLE",zt[zt.DATA_LOSS=15]="DATA_LOSS";function AR(){return new TextEncoder}const SR=new Ws([4294967295,4294967295],0);function rE(s){const t=AR().encode(s),n=new ET;return n.update(t),new Uint8Array(n.digest())}function aE(s){const t=new DataView(s.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Ws([n,r],0),new Ws([o,u],0)]}class tp{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Il(`Invalid padding: ${n}`);if(r<0)throw new Il(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Il(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new Il(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Ws.fromNumber(this.ge)}ye(t,n,r){let o=t.add(n.multiply(Ws.fromNumber(r)));return o.compare(SR)===1&&(o=new Ws([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=rE(t),[r,o]=aE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,o,u);if(!this.we(f))return!1}return!0}static create(t,n,r){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new tp(u,o,n);return r.forEach((p=>f.insert(p))),f}insert(t){if(this.ge===0)return;const n=rE(t),[r,o]=aE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,o,u);this.Se(f)}}Se(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class Il extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Dh{constructor(t,n,r,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const o=new Map;return o.set(t,Zl.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new Dh(Tt.min(),o,new le(Ut),as(),kt())}}class Zl{constructor(t,n,r,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new Zl(r,n,kt(),kt(),kt())}}class Qc{constructor(t,n,r,o){this.be=t,this.removedTargetIds=n,this.key=r,this.De=o}}class o0{constructor(t,n){this.targetId=t,this.Ce=n}}class l0{constructor(t,n,r=Xe.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=o}}class oE{constructor(){this.ve=0,this.Fe=lE(),this.Me=Xe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=kt(),n=kt(),r=kt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:_t(38017,{changeType:u})}})),new Zl(this.Me,this.xe,t,n,r)}qe(){this.Oe=!1,this.Fe=lE()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Gt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class bR{constructor(t){this.Ge=t,this.ze=new Map,this.je=as(),this.Je=Uc(),this.He=Uc(),this.Ye=new le(Ut)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const r=this.nt(n);switch(t.state){case 0:this.rt(n)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(t.resumeToken));break;default:_t(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((r,o)=>{this.rt(o)&&n(o)}))}st(t){const n=t.targetId,r=t.Ce.count,o=this.ot(n);if(o){const u=o.target;if(_m(u))if(r===0){const f=new pt(u.path);this.et(n,f,We.newNoDocument(f,Tt.min()))}else Gt(r===1,20013,{expectedCount:r});else{const f=this._t(n);if(f!==r){const p=this.ut(t),g=p?this.ct(p,t,f):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=n;let f,p;try{f=rr(r).toUint8Array()}catch(g){if(g instanceof VT)return so("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new tp(f,o,u)}catch(g){return so(g instanceof Il?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(t,n,r){return n.Ce.count===r-this.Pt(t,n.targetId)?0:2}Pt(t,n){const r=this.Ge.getRemoteKeysForTarget(n);let o=0;return r.forEach((u=>{const f=this.Ge.ht(),p=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(p)||(this.et(n,u,null),o++)})),o}Tt(t){const n=new Map;this.ze.forEach(((u,f)=>{const p=this.ot(f);if(p){if(u.current&&_m(p.target)){const g=new pt(p.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,We.newNoDocument(g,t))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let r=kt();this.He.forEach(((u,f)=>{let p=!0;f.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(t)));const o=new Dh(t,n,this.Ye,this.je,r);return this.je=as(),this.Je=Uc(),this.He=Uc(),this.Ye=new le(Ut),o}Xe(t,n){if(!this.rt(t))return;const r=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,r){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),r&&(this.je=this.je.insert(n,r))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new oE,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new ke(Ut),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new ke(Ut),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||ot("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new oE),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Uc(){return new le(pt.comparator)}function lE(){return new le(pt.comparator)}const wR={asc:"ASCENDING",desc:"DESCENDING"},RR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},IR={and:"AND",or:"OR"};class CR{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Em(s,t){return s.useProto3Json||bh(t)?t:{value:t}}function lh(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function u0(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function NR(s,t){return lh(s,t.toTimestamp())}function Ni(s){return Gt(!!s,49232),Tt.fromTimestamp((function(n){const r=sr(n);return new se(r.seconds,r.nanos)})(s))}function ep(s,t){return Tm(s,t).canonicalString()}function Tm(s,t){const n=(function(o){return new ee(["projects",o.projectId,"databases",o.database])})(s).child("documents");return t===void 0?n:n.child(t)}function c0(s){const t=ee.fromString(s);return Gt(p0(t),10190,{key:t.toString()}),t}function Am(s,t){return ep(s.databaseId,t.path)}function Jd(s,t){const n=c0(t);if(n.get(1)!==s.databaseId.projectId)throw new st($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new st($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new pt(f0(n))}function h0(s,t){return ep(s.databaseId,t)}function DR(s){const t=c0(s);return t.length===4?ee.emptyPath():f0(t)}function Sm(s){return new ee(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function f0(s){return Gt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function uE(s,t,n){return{name:Am(s,t),fields:n.value.mapValue.fields}}function OR(s,t){let n;if("targetChange"in t){t.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:_t(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(y,T){return y.useProto3Json?(Gt(T===void 0||typeof T=="string",58123),Xe.fromBase64String(T||"")):(Gt(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Xe.fromUint8Array(T||new Uint8Array))})(s,t.targetChange.resumeToken),f=t.targetChange.cause,p=f&&(function(y){const T=y.code===void 0?$.UNKNOWN:a0(y.code);return new st(T,y.message||"")})(f);n=new l0(r,o,u,p||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=Jd(s,r.document.name),u=Ni(r.document.updateTime),f=r.document.createTime?Ni(r.document.createTime):Tt.min(),p=new Pn({mapValue:{fields:r.document.fields}}),g=We.newFoundDocument(o,u,f,p),y=r.targetIds||[],T=r.removedTargetIds||[];n=new Qc(y,T,g.key,g)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=Jd(s,r.document),u=r.readTime?Ni(r.readTime):Tt.min(),f=We.newNoDocument(o,u),p=r.removedTargetIds||[];n=new Qc([],p,f.key,f)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=Jd(s,r.document),u=r.removedTargetIds||[];n=new Qc([],u,o,null)}else{if(!("filter"in t))return _t(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,f=new ER(o,u),p=r.targetId;n=new o0(p,f)}}return n}function VR(s,t){let n;if(t instanceof $l)n={update:uE(s,t.key,t.value)};else if(t instanceof r0)n={delete:Am(s,t.key)};else if(t instanceof sa)n={update:uE(s,t.key,t.data),updateMask:BR(t.fieldMask)};else{if(!(t instanceof yR))return _t(16599,{Vt:t.type});n={verify:Am(s,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((r=>(function(u,f){const p=f.transform;if(p instanceof ql)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Hl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Fl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof oh)return{fieldPath:f.field.canonicalString(),increment:p.Ae};throw _t(20930,{transform:f.transform})})(0,r)))),t.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:NR(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:_t(27497)})(s,t.precondition)),n}function MR(s,t){return s&&s.length>0?(Gt(t!==void 0,14353),s.map((n=>(function(o,u){let f=o.updateTime?Ni(o.updateTime):Ni(u);return f.isEqual(Tt.min())&&(f=Ni(u)),new mR(f,o.transformResults||[])})(n,t)))):[]}function xR(s,t){return{documents:[h0(s,t.path)]}}function UR(s,t){const n={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=h0(s,o);const u=(function(y){if(y.length!==0)return m0(ei.create(y,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((T=>(function(N){return{field:Ja(N.field),direction:PR(N.dir)}})(T)))})(t.orderBy);f&&(n.structuredQuery.orderBy=f);const p=Em(s,t.limit);return p!==null&&(n.structuredQuery.limit=p),t.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:n,parent:o}}function kR(s){let t=DR(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){Gt(r===1,65062);const T=n.from[0];T.allDescendants?o=T.collectionId:t=t.child(T.collectionId)}let u=[];n.where&&(u=(function(S){const N=d0(S);return N instanceof ei&&qT(N)?N.getFilters():[N]})(n.where));let f=[];n.orderBy&&(f=(function(S){return S.map((N=>(function(F){return new Bl(Wa(F.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(F.direction))})(N)))})(n.orderBy));let p=null;n.limit&&(p=(function(S){let N;return N=typeof S=="object"?S.value:S,bh(N)?null:N})(n.limit));let g=null;n.startAt&&(g=(function(S){const N=!!S.before,B=S.values||[];return new rh(B,N)})(n.startAt));let y=null;return n.endAt&&(y=(function(S){const N=!S.before,B=S.values||[];return new rh(B,N)})(n.endAt)),tR(t,o,f,u,p,"F",g,y)}function LR(s,t){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t(28987,{purpose:o})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function d0(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Wa(n.unaryFilter.field);return Ne.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Wa(n.unaryFilter.field);return Ne.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Wa(n.unaryFilter.field);return Ne.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Wa(n.unaryFilter.field);return Ne.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _t(61313);default:return _t(60726)}})(s):s.fieldFilter!==void 0?(function(n){return Ne.create(Wa(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _t(58110);default:return _t(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return ei.create(n.compositeFilter.filters.map((r=>d0(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _t(1026)}})(n.compositeFilter.op))})(s):_t(30097,{filter:s})}function PR(s){return wR[s]}function zR(s){return RR[s]}function jR(s){return IR[s]}function Ja(s){return{fieldPath:s.canonicalString()}}function Wa(s){return Ye.fromServerFormat(s.fieldPath)}function m0(s){return s instanceof Ne?(function(n){if(n.op==="=="){if($v(n.value))return{unaryFilter:{field:Ja(n.field),op:"IS_NAN"}};if(Xv(n.value))return{unaryFilter:{field:Ja(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if($v(n.value))return{unaryFilter:{field:Ja(n.field),op:"IS_NOT_NAN"}};if(Xv(n.value))return{unaryFilter:{field:Ja(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ja(n.field),op:zR(n.op),value:n.value}}})(s):s instanceof ei?(function(n){const r=n.getFilters().map((o=>m0(o)));return r.length===1?r[0]:{compositeFilter:{op:jR(n.op),filters:r}}})(s):_t(54877,{filter:s})}function BR(s){const t=[];return s.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function p0(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class Ys{constructor(t,n,r,o,u=Tt.min(),f=Tt.min(),p=Xe.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(t){return new Ys(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Ys(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ys(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ys(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class qR{constructor(t){this.yt=t}}function HR(s){const t=kR({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?ah(t,t.limit,"L"):t}class FR{constructor(){this.Cn=new GR}addToCollectionParentIndex(t,n){return this.Cn.add(n),Z.resolve()}getCollectionParents(t,n){return Z.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return Z.resolve()}deleteFieldIndex(t,n){return Z.resolve()}deleteAllFieldIndexes(t){return Z.resolve()}createTargetIndexes(t,n){return Z.resolve()}getDocumentsMatchingTarget(t,n){return Z.resolve(null)}getIndexType(t,n){return Z.resolve(0)}getFieldIndexes(t,n){return Z.resolve([])}getNextCollectionGroupToUpdate(t){return Z.resolve(null)}getMinOffset(t,n){return Z.resolve(ir.min())}getMinOffsetFromCollectionGroup(t,n){return Z.resolve(ir.min())}updateCollectionGroup(t,n,r){return Z.resolve()}updateIndexEntries(t,n){return Z.resolve()}}class GR{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),o=this.index[n]||new ke(ee.comparator),u=!o.has(r);return this.index[n]=o.add(r),u}has(t){const n=t.lastSegment(),r=t.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(t){return(this.index[t]||new ke(ee.comparator)).toArray()}}const cE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},g0=41943040;class mn{static withCacheSize(t){return new mn(t,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(g0,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);class lo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new lo(0)}static cr(){return new lo(-1)}}const hE="LruGarbageCollector",QR=1048576;function fE([s,t],[n,r]){const o=Ut(s,n);return o===0?Ut(t,r):o}class KR{constructor(t){this.Ir=t,this.buffer=new ke(fE),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();fE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class YR{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ot(hE,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){mo(n)?ot(hE,"Ignoring IndexedDB error during garbage collection: ",n):await fo(n)}await this.Vr(3e5)}))}}class XR{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(t,n){if(n===0)return Z.resolve(Sh.ce);const r=new KR(n);return this.mr.forEachTarget(t,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(t,n,r){return this.mr.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(cE)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),cE):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let r,o,u,f,p,g,y;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,f=Date.now(),this.nthSequenceNumber(t,o)))).next((S=>(r=S,p=Date.now(),this.removeTargets(t,r,n)))).next((S=>(u=S,g=Date.now(),this.removeOrphanedDocuments(t,r)))).next((S=>(y=Date.now(),$a()<=xt.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${o} in `+(p-f)+`ms
	Removed ${u} targets in `+(g-p)+`ms
	Removed ${S} documents in `+(y-g)+`ms
Total Duration: ${y-T}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S}))))}}function $R(s,t){return new XR(s,t)}class ZR{constructor(){this.changes=new ia((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,We.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Z.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class JR{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class WR{constructor(t,n,r,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(t,n)))).next((o=>(r!==null&&Ml(r.mutation,o,Jn.empty(),se.now()),o)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.getLocalViewOfDocuments(t,r,kt()).next((()=>r))))}getLocalViewOfDocuments(t,n,r=kt()){const o=qr();return this.populateOverlays(t,o,n).next((()=>this.computeViews(t,n,o,r).next((u=>{let f=Rl();return u.forEach(((p,g)=>{f=f.insert(p,g.overlayedDocument)})),f}))))}getOverlayedDocuments(t,n){const r=qr();return this.populateOverlays(t,r,n).next((()=>this.computeViews(t,n,r,kt())))}populateOverlays(t,n,r){const o=[];return r.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((f,p)=>{n.set(f,p)}))}))}computeViews(t,n,r,o){let u=as();const f=Vl(),p=(function(){return Vl()})();return n.forEach(((g,y)=>{const T=r.get(y.key);o.has(y.key)&&(T===void 0||T.mutation instanceof sa)?u=u.insert(y.key,y):T!==void 0?(f.set(y.key,T.mutation.getFieldMask()),Ml(T.mutation,y,T.mutation.getFieldMask(),se.now())):f.set(y.key,Jn.empty())})),this.recalculateAndSaveOverlays(t,u).next((g=>(g.forEach(((y,T)=>f.set(y,T))),n.forEach(((y,T)=>p.set(y,new JR(T,f.get(y)??null)))),p)))}recalculateAndSaveOverlays(t,n){const r=Vl();let o=new le(((f,p)=>f-p)),u=kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((f=>{for(const p of f)p.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let T=r.get(g)||Jn.empty();T=p.applyToLocalView(y,T),r.set(g,T);const S=(o.get(p.batchId)||kt()).add(g);o=o.insert(p.batchId,S)}))})).next((()=>{const f=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,T=g.value,S=ZT();T.forEach((N=>{if(!u.has(N)){const B=i0(n.get(N),r.get(N));B!==null&&S.set(N,B),u=u.add(N)}})),f.push(this.documentOverlayCache.saveOverlays(t,y,S))}return Z.waitFor(f)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,n,r,o){return(function(f){return pt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):QT(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,o):this.getDocumentsMatchingCollectionQuery(t,n,r,o)}getNextDocuments(t,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,o-u.size):Z.resolve(qr());let p=Ll,g=u;return f.next((y=>Z.forEach(y,((T,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),u.get(T)?Z.resolve():this.remoteDocumentCache.getEntry(t,T).next((N=>{g=g.insert(T,N)}))))).next((()=>this.populateOverlays(t,y,u))).next((()=>this.computeViews(t,g,y,kt()))).next((T=>({batchId:p,changes:$T(T)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new pt(n)).next((r=>{let o=Rl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(t,n,r,o){const u=n.collectionGroup;let f=Rl();return this.indexManager.getCollectionParents(t,u).next((p=>Z.forEach(p,(g=>{const y=(function(S,N){return new po(N,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(t,y,r,o).next((T=>{T.forEach(((S,N)=>{f=f.insert(S,N)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(t,n,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,u,o)))).next((f=>{u.forEach(((g,y)=>{const T=y.getKey();f.get(T)===null&&(f=f.insert(T,We.newInvalidDocument(T)))}));let p=Rl();return f.forEach(((g,y)=>{const T=u.get(g);T!==void 0&&Ml(T.mutation,y,Jn.empty(),se.now()),Ih(n,y)&&(p=p.insert(g,y))})),p}))}}class tI{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return Z.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Ni(o.createTime)}})(n)),Z.resolve()}getNamedQuery(t,n){return Z.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:HR(o.bundledQuery),readTime:Ni(o.readTime)}})(n)),Z.resolve()}}class eI{constructor(){this.overlays=new le(pt.comparator),this.qr=new Map}getOverlay(t,n){return Z.resolve(this.overlays.get(n))}getOverlays(t,n){const r=qr();return Z.forEach(n,(o=>this.getOverlay(t,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(t,n,r){return r.forEach(((o,u)=>{this.St(t,n,u)})),Z.resolve()}removeOverlaysForBatchId(t,n,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),Z.resolve()}getOverlaysForCollection(t,n,r){const o=qr(),u=n.length+1,f=new pt(n.child("")),p=this.overlays.getIteratorFrom(f);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>r&&o.set(g.getKey(),g)}return Z.resolve(o)}getOverlaysForCollectionGroup(t,n,r,o){let u=new le(((y,T)=>y-T));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>r){let T=u.get(y.largestBatchId);T===null&&(T=qr(),u=u.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const p=qr(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,T)=>p.set(y,T))),!(p.size()>=o)););return Z.resolve(p)}St(t,n,r){const o=this.overlays.get(r.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new vR(n,r));let u=this.qr.get(n);u===void 0&&(u=kt(),this.qr.set(n,u)),this.qr.set(n,u.add(r.key))}}class nI{constructor(){this.sessionToken=Xe.EMPTY_BYTE_STRING}getSessionToken(t){return Z.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,Z.resolve()}}class np{constructor(){this.Qr=new ke(je.$r),this.Ur=new ke(je.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const r=new je(t,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,n){t.forEach((r=>this.addReference(r,n)))}removeReference(t,n){this.Gr(new je(t,n))}zr(t,n){t.forEach((r=>this.removeReference(r,n)))}jr(t){const n=new pt(new ee([])),r=new je(n,t),o=new je(n,t+1),u=[];return this.Ur.forEachInRange([r,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new pt(new ee([])),r=new je(n,t),o=new je(n,t+1);let u=kt();return this.Ur.forEachInRange([r,o],(f=>{u=u.add(f.key)})),u}containsKey(t){const n=new je(t,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class je{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return pt.comparator(t.key,n.key)||Ut(t.Yr,n.Yr)}static Kr(t,n){return Ut(t.Yr,n.Yr)||pt.comparator(t.key,n.key)}}class iI{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new ke(je.$r)}checkEmpty(t){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new _R(u,n,r,o);this.mutationQueue.push(f);for(const p of o)this.Zr=this.Zr.add(new je(p.key,u)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return Z.resolve(f)}lookupMutationBatch(t,n){return Z.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,o=this.ei(r),u=o<0?0:o;return Z.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Qm:this.tr-1)}getAllMutationBatches(t){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new je(n,0),o=new je(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,o],(f=>{const p=this.Xr(f.Yr);u.push(p)})),Z.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new ke(Ut);return n.forEach((o=>{const u=new je(o,0),f=new je(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(p=>{r=r.add(p.Yr)}))})),Z.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,o=r.length+1;let u=r;pt.isDocumentKey(u)||(u=u.child(""));const f=new je(new pt(u),0);let p=new ke(Ut);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!r.isPrefixOf(y)&&(y.length===o&&(p=p.add(g.Yr)),!0)}),f),Z.resolve(this.ti(p))}ti(t){const n=[];return t.forEach((r=>{const o=this.Xr(r);o!==null&&n.push(o)})),n}removeMutationBatch(t,n){Gt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Z.forEach(n.mutations,(o=>{const u=new je(o.key,n.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,n){const r=new je(n,0),o=this.Zr.firstAfterOrEqual(r);return Z.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,Z.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class sI{constructor(t){this.ri=t,this.docs=(function(){return new le(pt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,o=this.docs.get(r),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return Z.resolve(r?r.document.mutableCopy():We.newInvalidDocument(n))}getEntries(t,n){let r=as();return n.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():We.newInvalidDocument(o))})),Z.resolve(r)}getDocumentsMatchingQuery(t,n,r,o){let u=as();const f=n.path,p=new pt(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:T}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||V1(O1(T),r)<=0||(o.has(T.key)||Ih(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return Z.resolve(u)}getAllFromCollectionGroup(t,n,r,o){_t(9500)}ii(t,n){return Z.forEach(this.docs,(r=>n(r)))}newChangeBuffer(t){return new rI(this)}getSize(t){return Z.resolve(this.size)}}class rI extends ZR{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(r)})),Z.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}class aI{constructor(t){this.persistence=t,this.si=new ia((n=>Xm(n)),$m),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.oi=0,this._i=new np,this.targetCount=0,this.ai=lo.ur()}forEachTarget(t,n){return this.si.forEach(((r,o)=>n(o))),Z.resolve()}getLastRemoteSnapshotVersion(t){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Z.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Z.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new lo(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,Z.resolve()}updateTargetData(t,n){return this.Pr(n),Z.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Z.resolve()}removeTargets(t,n,r){let o=0;const u=[];return this.si.forEach(((f,p)=>{p.sequenceNumber<=n&&r.get(p.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(t,p.targetId)),o++)})),Z.waitFor(u).next((()=>o))}getTargetCount(t){return Z.resolve(this.targetCount)}getTargetData(t,n){const r=this.si.get(n)||null;return Z.resolve(r)}addMatchingKeys(t,n,r){return this._i.Wr(n,r),Z.resolve()}removeMatchingKeys(t,n,r){this._i.zr(n,r);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(t,f))})),Z.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),Z.resolve()}getMatchingKeysForTargetId(t,n){const r=this._i.Hr(n);return Z.resolve(r)}containsKey(t,n){return Z.resolve(this._i.containsKey(n))}}class y0{constructor(t,n){this.ui={},this.overlays={},this.ci=new Sh(0),this.li=!1,this.li=!0,this.hi=new nI,this.referenceDelegate=t(this),this.Pi=new aI(this),this.indexManager=new FR,this.remoteDocumentCache=(function(o){return new sI(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new qR(n),this.Ii=new tI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new eI,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.ui[t.toKey()];return r||(r=new iI(n,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,r){ot("MemoryPersistence","Starting transaction:",t);const o=new oI(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,n){return Z.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,n))))}}class oI extends x1{constructor(t){super(),this.currentSequenceNumber=t}}class ip{constructor(t){this.persistence=t,this.Ri=new np,this.Vi=null}static mi(t){return new ip(t)}get fi(){if(this.Vi)return this.Vi;throw _t(60996)}addReference(t,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Z.resolve()}removeReference(t,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),Z.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(r=>{const o=pt.fromPath(r);return this.gi(t,o).next((u=>{u||n.removeEntry(o,Tt.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return Z.or([()=>Z.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class uh{constructor(t,n){this.persistence=t,this.pi=new ia((r=>L1(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=$R(this,n)}static mi(t,n){return new uh(t,n)}Ei(){}di(t){return Z.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>n.next((o=>r+o))))}wr(t){let n=0;return this.pr(t,(r=>{n++})).next((()=>n))}pr(t,n){return Z.forEach(this.pi,((r,o)=>this.br(t,r,o).next((u=>u?Z.resolve():n(o)))))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(f=>this.br(t,f,n).next((p=>{p||(r++,u.removeEntry(f,Tt.min()))})))).next((()=>u.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),Z.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.pi.set(r,t.currentSequenceNumber),Z.resolve()}removeReference(t,n,r){return this.pi.set(r,t.currentSequenceNumber),Z.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),Z.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Hc(t.data.value)),n}br(t,n,r){return Z.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.pi.get(n);return Z.resolve(o!==void 0&&o>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class sp{constructor(t,n,r,o){this.targetId=t,this.fromCache=n,this.Es=r,this.ds=o}static As(t,n){let r=kt(),o=kt();for(const u of n.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new sp(t,n.fromCache,r,o)}}class lI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class uI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Jb()?8:U1(tn())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,r,o){const u={result:null};return this.ys(t,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(t,n,o,r).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new lI;return this.Ss(t,n,f).next((p=>{if(u.result=p,this.Vs)return this.bs(t,n,f,p.size)}))})).next((()=>u.result))}bs(t,n,r,o){return r.documentReadCount<this.fs?($a()<=xt.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",Za(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):($a()<=xt.DEBUG&&ot("QueryEngine","Query:",Za(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?($a()<=xt.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",Za(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ci(n))):Z.resolve())}ys(t,n){if(tE(n))return Z.resolve(null);let r=Ci(n);return this.indexManager.getIndexType(t,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=ah(n,null,"F"),r=Ci(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next((u=>{const f=kt(...u);return this.ps.getDocuments(t,f).next((p=>this.indexManager.getMinOffset(t,r).next((g=>{const y=this.Ds(n,p);return this.Cs(n,y,f,g.readTime)?this.ys(t,ah(n,null,"F")):this.vs(t,y,n,g)}))))})))))}ws(t,n,r,o){return tE(n)||o.isEqual(Tt.min())?Z.resolve(null):this.ps.getDocuments(t,r).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,r,o)?Z.resolve(null):($a()<=xt.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Za(n)),this.vs(t,f,n,D1(o,Ll)).next((p=>p)))}))}Ds(t,n){let r=new ke(YT(t));return n.forEach(((o,u)=>{Ih(t,u)&&(r=r.add(u))})),r}Cs(t,n,r,o){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,n,r){return $a()<=xt.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",Za(n)),this.ps.getDocumentsMatchingQuery(t,n,ir.min(),r)}vs(t,n,r,o){return this.ps.getDocumentsMatchingQuery(t,r,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const rp="LocalStore",cI=3e8;class hI{constructor(t,n,r,o){this.persistence=t,this.Fs=n,this.serializer=o,this.Ms=new le(Ut),this.xs=new ia((u=>Xm(u)),$m),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new WR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function fI(s,t,n,r){return new hI(s,t,n,r)}async function _0(s,t){const n=St(s);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,n.Bs(t),n.mutationQueue.getAllMutationBatches(r)))).next((u=>{const f=[],p=[];let g=kt();for(const y of o){f.push(y.batchId);for(const T of y.mutations)g=g.add(T.key)}for(const y of u){p.push(y.batchId);for(const T of y.mutations)g=g.add(T.key)}return n.localDocuments.getDocuments(r,g).next((y=>({Ls:y,removedBatchIds:f,addedBatchIds:p})))}))}))}function dI(s,t){const n=St(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=t.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,g,y,T){const S=y.batch,N=S.keys();let B=Z.resolve();return N.forEach((F=>{B=B.next((()=>T.getEntry(g,F))).next((W=>{const J=y.docVersions.get(F);Gt(J!==null,48541),W.version.compareTo(J)<0&&(S.applyToRemoteDocument(W,y),W.isValidDocument()&&(W.setReadTime(y.commitVersion),T.addEntry(W)))}))})),B.next((()=>p.mutationQueue.removeMutationBatch(g,S)))})(n,r,t,u).next((()=>u.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let g=kt();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g})(t)))).next((()=>n.localDocuments.getDocuments(r,o)))}))}function v0(s){const t=St(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function mI(s,t){const n=St(s),r=t.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const p=[];t.targetChanges.forEach(((T,S)=>{const N=o.get(S);if(!N)return;p.push(n.Pi.removeMatchingKeys(u,T.removedDocuments,S).next((()=>n.Pi.addMatchingKeys(u,T.addedDocuments,S))));let B=N.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(S)!==null?B=B.withResumeToken(Xe.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):T.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(T.resumeToken,r)),o=o.insert(S,B),(function(W,J,at){return W.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=cI?!0:at.addedDocuments.size+at.modifiedDocuments.size+at.removedDocuments.size>0})(N,B,T)&&p.push(n.Pi.updateTargetData(u,B))}));let g=as(),y=kt();if(t.documentUpdates.forEach((T=>{t.resolvedLimboDocuments.has(T)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))})),p.push(pI(u,f,t.documentUpdates).next((T=>{g=T.ks,y=T.qs}))),!r.isEqual(Tt.min())){const T=n.Pi.getLastRemoteSnapshotVersion(u).next((S=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));p.push(T)}return Z.waitFor(p).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,y))).next((()=>g))})).then((u=>(n.Ms=o,u)))}function pI(s,t,n){let r=kt(),o=kt();return n.forEach((u=>r=r.add(u))),t.getEntries(s,r).next((u=>{let f=as();return n.forEach(((p,g)=>{const y=u.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(Tt.min())?(t.removeEntry(p,g.readTime),f=f.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(g),f=f.insert(p,g)):ot(rp,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)})),{ks:f,qs:o}}))}function gI(s,t){const n=St(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Qm),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function yI(s,t){const n=St(s);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.Pi.getTargetData(r,t).next((u=>u?(o=u,Z.resolve(o)):n.Pi.allocateTargetId(r).next((f=>(o=new Ys(t,f,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(t,r.targetId)),r}))}async function bm(s,t,n){const r=St(s),o=r.Ms.get(t),u=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",u,(f=>r.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!mo(f))throw f;ot(rp,`Failed to update sequence numbers for target ${t}: ${f}`)}r.Ms=r.Ms.remove(t),r.xs.delete(o.target)}function dE(s,t,n){const r=St(s);let o=Tt.min(),u=kt();return r.persistence.runTransaction("Execute query","readwrite",(f=>(function(g,y,T){const S=St(g),N=S.xs.get(T);return N!==void 0?Z.resolve(S.Ms.get(N)):S.Pi.getTargetData(y,T)})(r,f,Ci(t)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(f,p.targetId).next((g=>{u=g}))})).next((()=>r.Fs.getDocumentsMatchingQuery(f,t,n?o:Tt.min(),n?u:kt()))).next((p=>(_I(r,nR(t),p),{documents:p,Qs:u})))))}function _I(s,t,n){let r=s.Os.get(t)||Tt.min();n.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),s.Os.set(t,r)}class mE{constructor(){this.activeTargetIds=lR()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class vI{constructor(){this.Mo=new mE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,r){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new mE,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class EI{Oo(t){}shutdown(){}}const pE="ConnectivityMonitor";class gE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ot(pE,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ot(pE,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let kc=null;function wm(){return kc===null?kc=(function(){return 268435456+Math.round(2147483648*Math.random())})():kc++,"0x"+kc.toString(16)}const Wd="RestConnection",TI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class AI{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===ih?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(t,n,r,o,u){const f=wm(),p=this.zo(t,n.toUriEncodedString());ot(Wd,`Sending RPC '${t}' ${f}:`,p,r);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,u);const{host:y}=new URL(p),T=ur(y);return this.Jo(t,p,g,r,T).then((S=>(ot(Wd,`Received RPC '${t}' ${f}: `,S),S)),(S=>{throw so(Wd,`RPC '${t}' ${f} failed with error: `,S,"url: ",p,"request:",r),S}))}Ho(t,n,r,o,u,f){return this.Go(t,n,r,o,u)}jo(t,n,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ho})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>t[u]=o)),r&&r.headers.forEach(((o,u)=>t[u]=o))}zo(t,n){const r=TI[t];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class SI{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Ze="WebChannelConnection";class bI extends AI{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,r,o,u){const f=wm();return new Promise(((p,g)=>{const y=new TT;y.setWithCredentials(!0),y.listenOnce(AT.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case qc.NO_ERROR:const S=y.getResponseJson();ot(Ze,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(S)),p(S);break;case qc.TIMEOUT:ot(Ze,`RPC '${t}' ${f} timed out`),g(new st($.DEADLINE_EXCEEDED,"Request time out"));break;case qc.HTTP_ERROR:const N=y.getStatus();if(ot(Ze,`RPC '${t}' ${f} failed with status:`,N,"response text:",y.getResponseText()),N>0){let B=y.getResponseJson();Array.isArray(B)&&(B=B[0]);const F=B?.error;if(F&&F.status&&F.message){const W=(function(at){const ht=at.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(ht)>=0?ht:$.UNKNOWN})(F.status);g(new st(W,F.message))}else g(new st($.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new st($.UNAVAILABLE,"Connection failed."));break;default:_t(9055,{l_:t,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ot(Ze,`RPC '${t}' ${f} completed.`)}}));const T=JSON.stringify(o);ot(Ze,`RPC '${t}' ${f} sending request:`,o),y.send(n,"POST",T,r,15)}))}T_(t,n,r){const o=wm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=wT(),p=bT(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,r),g.encodeInitMessageHeaders=!0;const T=u.join("");ot(Ze,`Creating RPC '${t}' stream ${o}: ${T}`,g);const S=f.createWebChannel(T,g);this.I_(S);let N=!1,B=!1;const F=new SI({Yo:J=>{B?ot(Ze,`Not sending because RPC '${t}' stream ${o} is closed:`,J):(N||(ot(Ze,`Opening RPC '${t}' stream ${o} transport.`),S.open(),N=!0),ot(Ze,`RPC '${t}' stream ${o} sending:`,J),S.send(J))},Zo:()=>S.close()}),W=(J,at,ht)=>{J.listen(at,(lt=>{try{ht(lt)}catch(yt){setTimeout((()=>{throw yt}),0)}}))};return W(S,wl.EventType.OPEN,(()=>{B||(ot(Ze,`RPC '${t}' stream ${o} transport opened.`),F.o_())})),W(S,wl.EventType.CLOSE,(()=>{B||(B=!0,ot(Ze,`RPC '${t}' stream ${o} transport closed`),F.a_(),this.E_(S))})),W(S,wl.EventType.ERROR,(J=>{B||(B=!0,so(Ze,`RPC '${t}' stream ${o} transport errored. Name:`,J.name,"Message:",J.message),F.a_(new st($.UNAVAILABLE,"The operation could not be completed")))})),W(S,wl.EventType.MESSAGE,(J=>{if(!B){const at=J.data[0];Gt(!!at,16349);const ht=at,lt=ht?.error||ht[0]?.error;if(lt){ot(Ze,`RPC '${t}' stream ${o} received error:`,lt);const yt=lt.status;let jt=(function(b){const I=Ce[b];if(I!==void 0)return a0(I)})(yt),Ct=lt.message;jt===void 0&&(jt=$.INTERNAL,Ct="Unknown error status: "+yt+" with message "+lt.message),B=!0,F.a_(new st(jt,Ct)),S.close()}else ot(Ze,`RPC '${t}' stream ${o} received:`,at),F.u_(at)}})),W(p,ST.STAT_EVENT,(J=>{J.stat===dm.PROXY?ot(Ze,`RPC '${t}' stream ${o} detected buffering proxy`):J.stat===dm.NOPROXY&&ot(Ze,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{F.__()}),0),F}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function tm(){return typeof document<"u"?document:null}function Oh(s){return new CR(s,!0)}class E0{constructor(t,n,r=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=n,this.d_=r,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-r);o>0&&ot("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const yE="PersistentStream";class T0{constructor(t,n,r,o,u,f,p,g){this.Mi=t,this.S_=r,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new E0(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(rs(n.toString()),rs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===n&&this.G_(r,o)}),(r=>{t((()=>{const o=new st($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(t,n){const r=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ot(yE,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(ot(yE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class wI extends T0{constructor(t,n,r,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,f),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=OR(this.serializer,t),r=(function(u){if(!("targetChange"in u))return Tt.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Tt.min():f.readTime?Ni(f.readTime):Tt.min()})(t);return this.listener.H_(n,r)}Y_(t){const n={};n.database=Sm(this.serializer),n.addTarget=(function(u,f){let p;const g=f.target;if(p=_m(g)?{documents:xR(u,g)}:{query:UR(u,g).ft},p.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){p.resumeToken=u0(u,f.resumeToken);const y=Em(u,f.expectedCount);y!==null&&(p.expectedCount=y)}else if(f.snapshotVersion.compareTo(Tt.min())>0){p.readTime=lh(u,f.snapshotVersion.toTimestamp());const y=Em(u,f.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,t);const r=LR(this.serializer,t);r&&(n.labels=r),this.q_(n)}Z_(t){const n={};n.database=Sm(this.serializer),n.removeTarget=t,this.q_(n)}}class RI extends T0{constructor(t,n,r,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return Gt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Gt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Gt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=MR(t.writeResults,t.commitTime),r=Ni(t.commitTime);return this.listener.na(r,n)}ra(){const t={};t.database=Sm(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((r=>VR(this.serializer,r)))};this.q_(n)}}class II{}class CI extends II{constructor(t,n,r,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new st($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(t,Tm(n,r),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new st($.UNKNOWN,u.toString())}))}Ho(t,n,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,p])=>this.connection.Ho(t,Tm(n,r),o,f,p,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new st($.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class NI{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(rs(n),this.aa=!1):ot("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Jr="RemoteStore";class DI{constructor(t,n,r,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{r.enqueueAndForget((async()=>{ra(this)&&(ot(Jr,"Restarting streams for network reachability change."),await(async function(g){const y=St(g);y.Ea.add(4),await Jl(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Vh(y)})(this))}))})),this.Ra=new NI(r,o)}}async function Vh(s){if(ra(s))for(const t of s.da)await t(!0)}async function Jl(s){for(const t of s.da)await t(!1)}function A0(s,t){const n=St(s);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),up(n)?lp(n):go(n).O_()&&op(n,t))}function ap(s,t){const n=St(s),r=go(n);n.Ia.delete(t),r.O_()&&S0(n,t),n.Ia.size===0&&(r.O_()?r.L_():ra(n)&&n.Ra.set("Unknown"))}function op(s,t){if(s.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Tt.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}go(s).Y_(t)}function S0(s,t){s.Va.Ue(t),go(s).Z_(t)}function lp(s){s.Va=new bR({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),go(s).start(),s.Ra.ua()}function up(s){return ra(s)&&!go(s).x_()&&s.Ia.size>0}function ra(s){return St(s).Ea.size===0}function b0(s){s.Va=void 0}async function OI(s){s.Ra.set("Online")}async function VI(s){s.Ia.forEach(((t,n)=>{op(s,t)}))}async function MI(s,t){b0(s),up(s)?(s.Ra.ha(t),lp(s)):s.Ra.set("Unknown")}async function xI(s,t,n){if(s.Ra.set("Online"),t instanceof l0&&t.state===2&&t.cause)try{await(async function(o,u){const f=u.cause;for(const p of u.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,f),o.Ia.delete(p),o.Va.removeTarget(p))})(s,t)}catch(r){ot(Jr,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await ch(s,r)}else if(t instanceof Qc?s.Va.Ze(t):t instanceof o0?s.Va.st(t):s.Va.tt(t),!n.isEqual(Tt.min()))try{const r=await v0(s.localStore);n.compareTo(r)>=0&&await(function(u,f){const p=u.Va.Tt(f);return p.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const T=u.Ia.get(y);T&&u.Ia.set(y,T.withResumeToken(g.resumeToken,f))}})),p.targetMismatches.forEach(((g,y)=>{const T=u.Ia.get(g);if(!T)return;u.Ia.set(g,T.withResumeToken(Xe.EMPTY_BYTE_STRING,T.snapshotVersion)),S0(u,g);const S=new Ys(T.target,g,y,T.sequenceNumber);op(u,S)})),u.remoteSyncer.applyRemoteEvent(p)})(s,n)}catch(r){ot(Jr,"Failed to raise snapshot:",r),await ch(s,r)}}async function ch(s,t,n){if(!mo(t))throw t;s.Ea.add(1),await Jl(s),s.Ra.set("Offline"),n||(n=()=>v0(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ot(Jr,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await Vh(s)}))}function w0(s,t){return t().catch((n=>ch(s,n,t)))}async function Mh(s){const t=St(s),n=or(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Qm;for(;UI(t);)try{const o=await gI(t.localStore,r);if(o===null){t.Ta.length===0&&n.L_();break}r=o.batchId,kI(t,o)}catch(o){await ch(t,o)}R0(t)&&I0(t)}function UI(s){return ra(s)&&s.Ta.length<10}function kI(s,t){s.Ta.push(t);const n=or(s);n.O_()&&n.X_&&n.ea(t.mutations)}function R0(s){return ra(s)&&!or(s).x_()&&s.Ta.length>0}function I0(s){or(s).start()}async function LI(s){or(s).ra()}async function PI(s){const t=or(s);for(const n of s.Ta)t.ea(n.mutations)}async function zI(s,t,n){const r=s.Ta.shift(),o=Wm.from(r,t,n);await w0(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await Mh(s)}async function jI(s,t){t&&or(s).X_&&await(async function(r,o){if((function(f){return TR(f)&&f!==$.ABORTED})(o.code)){const u=r.Ta.shift();or(r).B_(),await w0(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Mh(r)}})(s,t),R0(s)&&I0(s)}async function _E(s,t){const n=St(s);n.asyncQueue.verifyOperationInProgress(),ot(Jr,"RemoteStore received new credentials");const r=ra(n);n.Ea.add(3),await Jl(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Vh(n)}async function BI(s,t){const n=St(s);t?(n.Ea.delete(2),await Vh(n)):t||(n.Ea.add(2),await Jl(n),n.Ra.set("Unknown"))}function go(s){return s.ma||(s.ma=(function(n,r,o){const u=St(n);return u.sa(),new wI(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(s.datastore,s.asyncQueue,{Xo:OI.bind(null,s),t_:VI.bind(null,s),r_:MI.bind(null,s),H_:xI.bind(null,s)}),s.da.push((async t=>{t?(s.ma.B_(),up(s)?lp(s):s.Ra.set("Unknown")):(await s.ma.stop(),b0(s))}))),s.ma}function or(s){return s.fa||(s.fa=(function(n,r,o){const u=St(n);return u.sa(),new RI(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:LI.bind(null,s),r_:jI.bind(null,s),ta:PI.bind(null,s),na:zI.bind(null,s)}),s.da.push((async t=>{t?(s.fa.B_(),await Mh(s)):(await s.fa.stop(),s.Ta.length>0&&(ot(Jr,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class cp{constructor(t,n,r,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new tr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,o,u){const f=Date.now()+r,p=new cp(t,n,f,o,u);return p.start(r),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new st($.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hp(s,t){if(rs("AsyncQueue",`${t}: ${s}`),mo(s))return new st($.UNAVAILABLE,`${t}: ${s}`);throw s}class to{static emptySet(t){return new to(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||pt.comparator(n.key,r.key):(n,r)=>pt.comparator(n.key,r.key),this.keyedMap=Rl(),this.sortedSet=new le(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,r)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof to)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new to;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}class vE{constructor(){this.ga=new le(pt.comparator)}track(t){const n=t.doc.key,r=this.ga.get(n);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(n,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(n):t.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):_t(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,r)=>{t.push(r)})),t}}class uo{constructor(t,n,r,o,u,f,p,g,y){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(t,n,r,o,u){const f=[];return n.forEach((p=>{f.push({type:0,doc:p})})),new uo(t,n,to.emptySet(n),f,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Rh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}class qI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class HI{constructor(){this.queries=EE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=St(n),u=o.queries;o.queries=EE(),u.forEach(((f,p)=>{for(const g of p.Sa)g.onError(r)}))})(this,new st($.ABORTED,"Firestore shutting down"))}}function EE(){return new ia((s=>KT(s)),Rh)}async function C0(s,t){const n=St(s);let r=3;const o=t.query;let u=n.queries.get(o);u?!u.ba()&&t.Da()&&(r=2):(u=new qI,r=t.Da()?0:1);try{switch(r){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const p=hp(f,`Initialization of query '${Za(t.query)}' failed`);return void t.onError(p)}n.queries.set(o,u),u.Sa.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&fp(n)}async function N0(s,t){const n=St(s),r=t.query;let o=3;const u=n.queries.get(r);if(u){const f=u.Sa.indexOf(t);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function FI(s,t){const n=St(s);let r=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const p of f.Sa)p.Fa(o)&&(r=!0);f.wa=o}}r&&fp(n)}function GI(s,t,n){const r=St(s),o=r.queries.get(t);if(o)for(const u of o.Sa)u.onError(n);r.queries.delete(t)}function fp(s){s.Ca.forEach((t=>{t.next()}))}var Rm,TE;(TE=Rm||(Rm={})).Ma="default",TE.Cache="cache";class D0{constructor(t,n,r){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new uo(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=uo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Rm.Cache}}class O0{constructor(t){this.key=t}}class V0{constructor(t){this.key=t}}class QI{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=kt(),this.mutatedKeys=kt(),this.eu=YT(t),this.tu=new to(this.eu)}get nu(){return this.Ya}ru(t,n){const r=n?n.iu:new vE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((T,S)=>{const N=o.get(T),B=Ih(this.query,S)?S:null,F=!!N&&this.mutatedKeys.has(N.key),W=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let J=!1;N&&B?N.data.isEqual(B.data)?F!==W&&(r.track({type:3,doc:B}),J=!0):this.su(N,B)||(r.track({type:2,doc:B}),J=!0,(g&&this.eu(B,g)>0||y&&this.eu(B,y)<0)&&(p=!0)):!N&&B?(r.track({type:0,doc:B}),J=!0):N&&!B&&(r.track({type:1,doc:N}),J=!0,(g||y)&&(p=!0)),J&&(B?(f=f.add(B),u=W?u.add(T):u.delete(T)):(f=f.delete(T),u=u.delete(T)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),u=u.delete(T.key),r.track({type:1,doc:T})}return{tu:f,iu:r,Cs:p,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const f=t.iu.ya();f.sort(((T,S)=>(function(B,F){const W=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t(20277,{Rt:J})}};return W(B)-W(F)})(T.type,S.type)||this.eu(T.doc,S.doc))),this.ou(r),o=o??!1;const p=n&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,y=g!==this.Za;return this.Za=g,f.length!==0||y?{snapshot:new uo(this.query,t.tu,u,f,t.mutatedKeys,g===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new vE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=kt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return t.forEach((r=>{this.Xa.has(r)||n.push(new V0(r))})),this.Xa.forEach((r=>{t.has(r)||n.push(new O0(r))})),n}cu(t){this.Ya=t.Qs,this.Xa=kt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return uo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const dp="SyncEngine";class KI{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class YI{constructor(t){this.key=t,this.hu=!1}}class XI{constructor(t,n,r,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new ia((p=>KT(p)),Rh),this.Iu=new Map,this.Eu=new Set,this.du=new le(pt.comparator),this.Au=new Map,this.Ru=new np,this.Vu={},this.mu=new Map,this.fu=lo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function $I(s,t,n=!0){const r=P0(s);let o;const u=r.Tu.get(t);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await M0(r,t,n,!0),o}async function ZI(s,t){const n=P0(s);await M0(n,t,!0,!1)}async function M0(s,t,n,r){const o=await yI(s.localStore,Ci(t)),u=o.targetId,f=s.sharedClientState.addLocalQueryTarget(u,n);let p;return r&&(p=await JI(s,t,u,f==="current",o.resumeToken)),s.isPrimaryClient&&n&&A0(s.remoteStore,o),p}async function JI(s,t,n,r,o){s.pu=(S,N,B)=>(async function(W,J,at,ht){let lt=J.view.ru(at);lt.Cs&&(lt=await dE(W.localStore,J.query,!1).then((({documents:D})=>J.view.ru(D,lt))));const yt=ht&&ht.targetChanges.get(J.targetId),jt=ht&&ht.targetMismatches.get(J.targetId)!=null,Ct=J.view.applyChanges(lt,W.isPrimaryClient,yt,jt);return SE(W,J.targetId,Ct.au),Ct.snapshot})(s,S,N,B);const u=await dE(s.localStore,t,!0),f=new QI(t,u.Qs),p=f.ru(u.documents),g=Zl.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",o),y=f.applyChanges(p,s.isPrimaryClient,g);SE(s,n,y.au);const T=new KI(t,n,f);return s.Tu.set(t,T),s.Iu.has(n)?s.Iu.get(n).push(t):s.Iu.set(n,[t]),y.snapshot}async function WI(s,t,n){const r=St(s),o=r.Tu.get(t),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((f=>!Rh(f,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await bm(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&ap(r.remoteStore,o.targetId),Im(r,o.targetId)})).catch(fo)):(Im(r,o.targetId),await bm(r.localStore,o.targetId,!0))}async function tC(s,t){const n=St(s),r=n.Tu.get(t),o=n.Iu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ap(n.remoteStore,r.targetId))}async function eC(s,t,n){const r=lC(s);try{const o=await(function(f,p){const g=St(f),y=se.now(),T=p.reduce(((B,F)=>B.add(F.key)),kt());let S,N;return g.persistence.runTransaction("Locally write mutations","readwrite",(B=>{let F=as(),W=kt();return g.Ns.getEntries(B,T).next((J=>{F=J,F.forEach(((at,ht)=>{ht.isValidDocument()||(W=W.add(at))}))})).next((()=>g.localDocuments.getOverlayedDocuments(B,F))).next((J=>{S=J;const at=[];for(const ht of p){const lt=gR(ht,S.get(ht.key).overlayedDocument);lt!=null&&at.push(new sa(ht.key,lt,zT(lt.value.mapValue),is.exists(!0)))}return g.mutationQueue.addMutationBatch(B,y,at,p)})).next((J=>{N=J;const at=J.applyToLocalDocumentSet(S,W);return g.documentOverlayCache.saveOverlays(B,J.batchId,at)}))})).then((()=>({batchId:N.batchId,changes:$T(S)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),(function(f,p,g){let y=f.Vu[f.currentUser.toKey()];y||(y=new le(Ut)),y=y.insert(p,g),f.Vu[f.currentUser.toKey()]=y})(r,o.batchId,n),await Wl(r,o.changes),await Mh(r.remoteStore)}catch(o){const u=hp(o,"Failed to persist write");n.reject(u)}}async function x0(s,t){const n=St(s);try{const r=await mI(n.localStore,t);t.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Gt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Gt(f.hu,14607):o.removedDocuments.size>0&&(Gt(f.hu,42227),f.hu=!1))})),await Wl(n,r,t)}catch(r){await fo(r)}}function AE(s,t,n){const r=St(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Tu.forEach(((u,f)=>{const p=f.view.va(t);p.snapshot&&o.push(p.snapshot)})),(function(f,p){const g=St(f);g.onlineState=p;let y=!1;g.queries.forEach(((T,S)=>{for(const N of S.Sa)N.va(p)&&(y=!0)})),y&&fp(g)})(r.eventManager,t),o.length&&r.Pu.H_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function nC(s,t,n){const r=St(s);r.sharedClientState.updateQueryState(t,"rejected",n);const o=r.Au.get(t),u=o&&o.key;if(u){let f=new le(pt.comparator);f=f.insert(u,We.newNoDocument(u,Tt.min()));const p=kt().add(u),g=new Dh(Tt.min(),new Map,new le(Ut),f,p);await x0(r,g),r.du=r.du.remove(u),r.Au.delete(t),mp(r)}else await bm(r.localStore,t,!1).then((()=>Im(r,t,n))).catch(fo)}async function iC(s,t){const n=St(s),r=t.batch.batchId;try{const o=await dI(n.localStore,t);k0(n,r,null),U0(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Wl(n,o)}catch(o){await fo(o)}}async function sC(s,t,n){const r=St(s);try{const o=await(function(f,p){const g=St(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let T;return g.mutationQueue.lookupMutationBatch(y,p).next((S=>(Gt(S!==null,37113),T=S.keys(),g.mutationQueue.removeMutationBatch(y,S)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,T,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T))).next((()=>g.localDocuments.getDocuments(y,T)))}))})(r.localStore,t);k0(r,t,n),U0(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Wl(r,o)}catch(o){await fo(o)}}function U0(s,t){(s.mu.get(t)||[]).forEach((n=>{n.resolve()})),s.mu.delete(t)}function k0(s,t,n){const r=St(s);let o=r.Vu[r.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),r.Vu[r.currentUser.toKey()]=o}}function Im(s,t,n=null){s.sharedClientState.removeLocalQueryTarget(t);for(const r of s.Iu.get(t))s.Tu.delete(r),n&&s.Pu.yu(r,n);s.Iu.delete(t),s.isPrimaryClient&&s.Ru.jr(t).forEach((r=>{s.Ru.containsKey(r)||L0(s,r)}))}function L0(s,t){s.Eu.delete(t.path.canonicalString());const n=s.du.get(t);n!==null&&(ap(s.remoteStore,n),s.du=s.du.remove(t),s.Au.delete(n),mp(s))}function SE(s,t,n){for(const r of n)r instanceof O0?(s.Ru.addReference(r.key,t),rC(s,r)):r instanceof V0?(ot(dp,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,t),s.Ru.containsKey(r.key)||L0(s,r.key)):_t(19791,{wu:r})}function rC(s,t){const n=t.key,r=n.path.canonicalString();s.du.get(n)||s.Eu.has(r)||(ot(dp,"New document in limbo: "+n),s.Eu.add(r),mp(s))}function mp(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const n=new pt(ee.fromString(t)),r=s.fu.next();s.Au.set(r,new YI(n)),s.du=s.du.insert(n,r),A0(s.remoteStore,new Ys(Ci(Zm(n.path)),r,"TargetPurposeLimboResolution",Sh.ce))}}async function Wl(s,t,n){const r=St(s),o=[],u=[],f=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,g)=>{f.push(r.pu(g,t,n).then((y=>{if((y||n)&&r.isPrimaryClient){const T=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;r.sharedClientState.updateQueryState(g.targetId,T?"current":"not-current")}if(y){o.push(y);const T=sp.As(g.targetId,y);u.push(T)}})))})),await Promise.all(f),r.Pu.H_(o),await(async function(g,y){const T=St(g);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>Z.forEach(y,(N=>Z.forEach(N.Es,(B=>T.persistence.referenceDelegate.addReference(S,N.targetId,B))).next((()=>Z.forEach(N.ds,(B=>T.persistence.referenceDelegate.removeReference(S,N.targetId,B)))))))))}catch(S){if(!mo(S))throw S;ot(rp,"Failed to update sequence numbers: "+S)}for(const S of y){const N=S.targetId;if(!S.fromCache){const B=T.Ms.get(N),F=B.snapshotVersion,W=B.withLastLimboFreeSnapshotVersion(F);T.Ms=T.Ms.insert(N,W)}}})(r.localStore,u))}async function aC(s,t){const n=St(s);if(!n.currentUser.isEqual(t)){ot(dp,"User change. New user:",t.toKey());const r=await _0(n.localStore,t);n.currentUser=t,(function(u,f){u.mu.forEach((p=>{p.forEach((g=>{g.reject(new st($.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Wl(n,r.Ls)}}function oC(s,t){const n=St(s),r=n.Au.get(t);if(r&&r.hu)return kt().add(r.key);{let o=kt();const u=n.Iu.get(t);if(!u)return o;for(const f of u){const p=n.Tu.get(f);o=o.unionWith(p.view.nu)}return o}}function P0(s){const t=St(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=x0.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=oC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=nC.bind(null,t),t.Pu.H_=FI.bind(null,t.eventManager),t.Pu.yu=GI.bind(null,t.eventManager),t}function lC(s){const t=St(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=iC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=sC.bind(null,t),t}class hh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Oh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return fI(this.persistence,new uI,t.initialUser,this.serializer)}Cu(t){return new y0(ip.mi,this.serializer)}Du(t){return new vI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}hh.provider={build:()=>new hh};class uC extends hh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Gt(this.persistence.referenceDelegate instanceof uh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new YR(r,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new y0((r=>uh.mi(r,n)),this.serializer)}}class Cm{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>AE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=aC.bind(null,this.syncEngine),await BI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new HI})()}createDatastore(t){const n=Oh(t.databaseInfo.databaseId),r=(function(u){return new bI(u)})(t.databaseInfo);return(function(u,f,p,g){return new CI(u,f,p,g)})(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return(function(r,o,u,f,p){return new DI(r,o,u,f,p)})(this.localStore,this.datastore,t.asyncQueue,(n=>AE(this.syncEngine,n,0)),(function(){return gE.v()?new gE:new EI})())}createSyncEngine(t,n){return(function(o,u,f,p,g,y,T){const S=new XI(o,u,f,p,g,y);return T&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=St(n);ot(Jr,"RemoteStore shutting down."),r.Ea.add(5),await Jl(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Cm.provider={build:()=>new Cm};class z0{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):rs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const lr="FirestoreClient";class cC{constructor(t,n,r,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=Je.UNAUTHENTICATED,this.clientId=Gm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async f=>{ot(lr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(r,(f=>(ot(lr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new tr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=hp(n,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function em(s,t){s.asyncQueue.verifyOperationInProgress(),ot(lr,"Initializing OfflineComponentProvider");const n=s.configuration;await t.initialize(n);let r=n.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await _0(t.localStore,o),r=o)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function bE(s,t){s.asyncQueue.verifyOperationInProgress();const n=await hC(s);ot(lr,"Initializing OnlineComponentProvider"),await t.initialize(n,s.configuration),s.setCredentialChangeListener((r=>_E(t.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>_E(t.remoteStore,o))),s._onlineComponents=t}async function hC(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ot(lr,"Using user provided OfflineComponentProvider");try{await em(s,s._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(o){return o.name==="FirebaseError"?o.code===$.FAILED_PRECONDITION||o.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;so("Error using user provided cache. Falling back to memory cache: "+n),await em(s,new hh)}}else ot(lr,"Using default OfflineComponentProvider"),await em(s,new uC(void 0));return s._offlineComponents}async function j0(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ot(lr,"Using user provided OnlineComponentProvider"),await bE(s,s._uninitializedComponentsProvider._online)):(ot(lr,"Using default OnlineComponentProvider"),await bE(s,new Cm))),s._onlineComponents}function fC(s){return j0(s).then((t=>t.syncEngine))}async function Nm(s){const t=await j0(s),n=t.eventManager;return n.onListen=$I.bind(null,t.syncEngine),n.onUnlisten=WI.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=ZI.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=tC.bind(null,t.syncEngine),n}function dC(s,t,n={}){const r=new tr;return s.asyncQueue.enqueueAndForget((async()=>(function(u,f,p,g,y){const T=new z0({next:N=>{T.Nu(),f.enqueueAndForget((()=>N0(u,S))),N.fromCache&&g.source==="server"?y.reject(new st($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(N)},error:N=>y.reject(N)}),S=new D0(p,T,{includeMetadataChanges:!0,qa:!0});return C0(u,S)})(await Nm(s),s.asyncQueue,t,n,r))),r.promise}function B0(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const wE=new Map;const q0="firestore.googleapis.com",RE=!0;class IE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new st($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=q0,this.ssl=RE}else this.host=t.host,this.ssl=t.ssl??RE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=g0;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<QR)throw new st($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}C1("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=B0(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new st($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new st($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new st($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class xh{constructor(t,n,r,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new IE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new st($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new st($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new IE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new _1;switch(r.type){case"firstParty":return new A1(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new st($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=wE.get(n);r&&(ot("ComponentProvider","Removing Datastore"),wE.delete(n),r.terminate())})(this),Promise.resolve()}}function mC(s,t,n,r={}){s=Fr(s,xh);const o=ur(t),u=s._getSettings(),f={...u,emulatorOptions:s._getEmulatorOptions()},p=`${t}:${n}`;o&&(zm(`https://${p}`),jm("Firestore",!0)),u.host!==q0&&u.host!==p&&so("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:p,ssl:o,emulatorOptions:r};if(!Xr(g,f)&&(s._setSettings(g),r.mockUserToken)){let y,T;if(typeof r.mockUserToken=="string")y=r.mockUserToken,T=Je.MOCK_USER;else{y=mT(r.mockUserToken,s._app?.options.projectId);const S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new st($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Je(S)}s._authCredentials=new v1(new IT(y,T))}}class ls{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new ls(this.firestore,t,this._query)}}class Ue{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new er(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ue(this.firestore,t,this._key)}toJSON(){return{type:Ue._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,r){if(Xl(n,Ue._jsonSchema))return new Ue(t,r||null,new pt(ee.fromString(n.referencePath)))}}Ue._jsonSchemaVersion="firestore/documentReference/1.0",Ue._jsonSchema={type:De("string",Ue._jsonSchemaVersion),referencePath:De("string")};class er extends ls{constructor(t,n,r){super(t,n,Zm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ue(this.firestore,null,new pt(t))}withConverter(t){return new er(this.firestore,t,this._path)}}function Xs(s,t,...n){if(s=Oe(s),CT("collection","path",t),s instanceof xh){const r=ee.fromString(t,...n);return jv(r),new er(s,null,r)}{if(!(s instanceof Ue||s instanceof er))throw new st($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ee.fromString(t,...n));return jv(r),new er(s.firestore,null,r)}}function pC(s,t,...n){if(s=Oe(s),arguments.length===1&&(t=Gm.newId()),CT("doc","path",t),s instanceof xh){const r=ee.fromString(t,...n);return zv(r),new Ue(s,null,new pt(r))}{if(!(s instanceof Ue||s instanceof er))throw new st($.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ee.fromString(t,...n));return zv(r),new Ue(s.firestore,s instanceof er?s.converter:null,new pt(r))}}const CE="AsyncQueue";class NE{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new E0(this,"async_queue_retry"),this._c=()=>{const r=tm();r&&ot(CE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const n=tm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=tm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new tr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!mo(t))throw t;ot(CE,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,rs("INTERNAL UNHANDLED ERROR: ",DE(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(t,n,r){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const o=cp.createAndSchedule(this,t,n,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&_t(47125,{Pc:DE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function DE(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}function OE(s){return(function(n,r){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of r)if(u in o&&typeof o[u]=="function")return!0;return!1})(s,["next","error","complete"])}class Gl extends xh{constructor(t,n,r,o){super(t,n,r,o),this.type="firestore",this._queue=new NE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new NE(t),this._firestoreClient=void 0,await t}}}function gC(s,t){const n=typeof s=="object"?s:Hm(),r=typeof s=="string"?s:ih,o=Th(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=hT("firestore");u&&mC(o,...u)}return o}function pp(s){if(s._terminated)throw new st($.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||yC(s),s._firestoreClient}function yC(s){const t=s._freezeSettings(),n=(function(o,u,f,p){return new j1(o,u,f,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,B0(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new cC(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(s._componentsProvider))}class zn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new zn(Xe.fromBase64String(t))}catch(n){throw new st($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new zn(Xe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Xl(t,zn._jsonSchema))return zn.fromBase64String(t.bytes)}}zn._jsonSchemaVersion="firestore/bytes/1.0",zn._jsonSchema={type:De("string",zn._jsonSchemaVersion),bytes:De("string")};class gp{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new st($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ye(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class yp{constructor(t){this._methodName=t}}class Di{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new st($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new st($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ut(this._lat,t._lat)||Ut(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Di._jsonSchemaVersion}}static fromJSON(t){if(Xl(t,Di._jsonSchema))return new Di(t.latitude,t.longitude)}}Di._jsonSchemaVersion="firestore/geoPoint/1.0",Di._jsonSchema={type:De("string",Di._jsonSchemaVersion),latitude:De("number"),longitude:De("number")};class Oi{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Oi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Xl(t,Oi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new Oi(t.vectorValues);throw new st($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Oi._jsonSchemaVersion="firestore/vectorValue/1.0",Oi._jsonSchema={type:De("string",Oi._jsonSchemaVersion),vectorValues:De("object")};const _C=/^__.*__$/;class vC{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new sa(t,this.data,this.fieldMask,n,this.fieldTransforms):new $l(t,this.data,n,this.fieldTransforms)}}function H0(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t(40011,{Ac:s})}}class _p{constructor(t,n,r,o,u,f){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new _p({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),r=this.Vc({path:n,fc:!1});return r.gc(t),r}yc(t){const n=this.path?.child(t),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return fh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(H0(this.Ac)&&_C.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class EC{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Oh(t)}Cc(t,n,r,o=!1){return new _p({Ac:t,methodName:n,Dc:r,path:Ye.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function F0(s){const t=s._freezeSettings(),n=Oh(s._databaseId);return new EC(s._databaseId,!!t.ignoreUndefinedProperties,n)}function TC(s,t,n,r,o,u={}){const f=s.Cc(u.merge||u.mergeFields?2:0,t,n,o);K0("Data must be an object, but it was:",f,r);const p=G0(r,f);let g,y;if(u.merge)g=new Jn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const T=[];for(const S of u.mergeFields){const N=SC(t,S,n);if(!f.contains(N))throw new st($.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);wC(T,N)||T.push(N)}g=new Jn(T),y=f.fieldTransforms.filter((S=>g.covers(S.field)))}else g=null,y=f.fieldTransforms;return new vC(new Pn(p),g,y)}class vp extends yp{_toFieldTransform(t){return new fR(t.path,new ql)}isEqual(t){return t instanceof vp}}function AC(s,t,n,r=!1){return Ep(n,s.Cc(r?4:3,t))}function Ep(s,t){if(Q0(s=Oe(s)))return K0("Unsupported field value:",t,s),G0(s,t);if(s instanceof yp)return(function(r,o){if(!H0(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,o){const u=[];let f=0;for(const p of r){let g=Ep(p,o.wc(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}})(s,t)}return(function(r,o){if((r=Oe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return uR(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=se.fromDate(r);return{timestampValue:lh(o.serializer,u)}}if(r instanceof se){const u=new se(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:lh(o.serializer,u)}}if(r instanceof Di)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof zn)return{bytesValue:u0(o.serializer,r._byteString)};if(r instanceof Ue){const u=o.databaseId,f=r.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:ep(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Oi)return(function(f,p){return{mapValue:{fields:{[LT]:{stringValue:PT},[sh]:{arrayValue:{values:f.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return Jm(p.serializer,y)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${Ah(r)}`)})(s,t)}function G0(s,t){const n={};return OT(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):na(s,((r,o)=>{const u=Ep(o,t.mc(r));u!=null&&(n[r]=u)})),{mapValue:{fields:n}}}function Q0(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof se||s instanceof Di||s instanceof zn||s instanceof Ue||s instanceof yp||s instanceof Oi)}function K0(s,t,n){if(!Q0(n)||!NT(n)){const r=Ah(n);throw r==="an object"?t.Sc(s+" a custom object"):t.Sc(s+" "+r)}}function SC(s,t,n){if((t=Oe(t))instanceof gp)return t._internalPath;if(typeof t=="string")return Y0(s,t);throw fh("Field path arguments must be of type string or ",s,!1,void 0,n)}const bC=new RegExp("[~\\*/\\[\\]]");function Y0(s,t,n){if(t.search(bC)>=0)throw fh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new gp(...t.split("."))._internalPath}catch{throw fh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function fh(s,t,n,r,o){const u=r&&!r.isEmpty(),f=o!==void 0;let p=`Function ${t}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${r}`),f&&(g+=` in document ${o}`),g+=")"),new st($.INVALID_ARGUMENT,p+s+g)}function wC(s,t){return s.some((n=>n.isEqual(t)))}class X0{constructor(t,n,r,o,u){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ue(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new RC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Uh("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class RC extends X0{data(){return super.data()}}function Uh(s,t){return typeof t=="string"?Y0(s,t):t instanceof gp?t._internalPath:t._delegate._internalPath}function $0(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new st($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Tp{}class Ap extends Tp{}function dh(s,t,...n){let r=[];t instanceof Tp&&r.push(t),r=r.concat(n),(function(u){const f=u.filter((g=>g instanceof Sp)).length,p=u.filter((g=>g instanceof kh)).length;if(f>1||f>0&&p>0)throw new st($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)s=o._apply(s);return s}class kh extends Ap{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new kh(t,n,r)}_apply(t){const n=this._parse(t);return Z0(t._query,n),new ls(t.firestore,t.converter,vm(t._query,n))}_parse(t){const n=F0(t.firestore);return(function(u,f,p,g,y,T,S){let N;if(y.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new st($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){ME(S,T);const F=[];for(const W of S)F.push(VE(g,u,W));N={arrayValue:{values:F}}}else N=VE(g,u,S)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||ME(S,T),N=AC(p,f,S,T==="in"||T==="not-in");return Ne.create(y,T,N)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function IC(s,t,n){const r=t,o=Uh("where",s);return kh._create(o,r,n)}class Sp extends Tp{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Sp(t,n)}_parse(t){const n=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:ei.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(o,u){let f=o;const p=u.getFlattenedFilters();for(const g of p)Z0(f,g),f=vm(f,g)})(t._query,n),new ls(t.firestore,t.converter,vm(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class bp extends Ap{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new bp(t,n)}_apply(t){const n=(function(o,u,f){if(o.startAt!==null)throw new st($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new st($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Bl(u,f)})(t._query,this._field,this._direction);return new ls(t.firestore,t.converter,(function(o,u){const f=o.explicitOrderBy.concat([u]);return new po(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(t._query,n))}}function Dm(s,t="asc"){const n=t,r=Uh("orderBy",s);return bp._create(r,n)}class wp extends Ap{constructor(t,n,r){super(),this.type=t,this._limit=n,this._limitType=r}static _create(t,n,r){return new wp(t,n,r)}_apply(t){return new ls(t.firestore,t.converter,ah(t._query,this._limit,this._limitType))}}function Om(s){return N1("limit",s),wp._create("limit",s,"F")}function VE(s,t,n){if(typeof(n=Oe(n))=="string"){if(n==="")throw new st($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!QT(t)&&n.indexOf("/")!==-1)throw new st($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(ee.fromString(n));if(!pt.isDocumentKey(r))throw new st($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Yv(s,new pt(r))}if(n instanceof Ue)return Yv(s,n._key);throw new st($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ah(n)}.`)}function ME(s,t){if(!Array.isArray(s)||s.length===0)throw new st($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Z0(s,t){const n=(function(o,u){for(const f of o)for(const p of f.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null})(s.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new st($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new st($.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class CC{convertValue(t,n="none"){switch(ar(t)){case 0:return null;case 1:return t.booleanValue;case 2:return _e(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(rr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw _t(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return na(t,((o,u)=>{r[o]=this.convertValue(u,n)})),r}convertVectorValue(t){const n=t.fields?.[sh].arrayValue?.values?.map((r=>_e(r.doubleValue)));return new Oi(n)}convertGeoPoint(t){return new Di(_e(t.latitude),_e(t.longitude))}convertArray(t,n){return(t.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const r=wh(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Pl(t));default:return null}}convertTimestamp(t){const n=sr(t);return new se(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=ee.fromString(t);Gt(p0(r),9688,{name:t});const o=new zl(r.get(1),r.get(3)),u=new pt(r.popFirst(5));return o.isEqual(n)||rs(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function NC(s,t,n){let r;return r=s?s.toFirestore(t):t,r}class Cl{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Gr extends X0{constructor(t,n,r,o,u,f){super(t,n,r,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Kc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(Uh("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new st($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Gr._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Gr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Gr._jsonSchema={type:De("string",Gr._jsonSchemaVersion),bundleSource:De("string","DocumentSnapshot"),bundleName:De("string"),bundle:De("string")};class Kc extends Gr{data(t={}){return super.data(t)}}class Qr{constructor(t,n,r,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new Cl(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((r=>{t.call(n,new Kc(this._firestore,this._userDataWriter,r.key,r,new Cl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new st($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((p=>{const g=new Kc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Cl(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const g=new Kc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Cl(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,T=-1;return p.type!==0&&(y=f.indexOf(p.doc.key),f=f.delete(p.doc.key)),p.type!==1&&(f=f.add(p.doc),T=f.indexOf(p.doc.key)),{type:DC(p.type),doc:g,oldIndex:y,newIndex:T}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new st($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Qr._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Gm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function DC(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t(61501,{type:s})}}Qr._jsonSchemaVersion="firestore/querySnapshot/1.0",Qr._jsonSchema={type:De("string",Qr._jsonSchemaVersion),bundleSource:De("string","QuerySnapshot"),bundleName:De("string"),bundle:De("string")};class Rp extends CC{constructor(t){super(),this.firestore=t}convertBytes(t){return new zn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Ue(this.firestore,null,n)}}function OC(s){s=Fr(s,ls);const t=Fr(s.firestore,Gl),n=pp(t),r=new Rp(t);return $0(s._query),dC(n,s._query).then((o=>new Qr(t,r,s,o)))}function Yc(s,t){const n=Fr(s.firestore,Gl),r=pC(s),o=NC(s.converter,t);return VC(n,[TC(F0(s.firestore),"addDoc",r._key,o,s.converter!==null,{}).toMutation(r._key,is.exists(!1))]).then((()=>r))}function Vm(s,...t){s=Oe(s);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||OE(t[r])||(n=t[r++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(OE(t[r])){const g=t[r];t[r]=g.next?.bind(g),t[r+1]=g.error?.bind(g),t[r+2]=g.complete?.bind(g)}let u,f,p;if(s instanceof Ue)f=Fr(s.firestore,Gl),p=Zm(s._key.path),u={next:g=>{t[r]&&t[r](MC(f,s,g))},error:t[r+1],complete:t[r+2]};else{const g=Fr(s,ls);f=Fr(g.firestore,Gl),p=g._query;const y=new Rp(f);u={next:T=>{t[r]&&t[r](new Qr(f,y,g,T))},error:t[r+1],complete:t[r+2]},$0(s._query)}return(function(y,T,S,N){const B=new z0(N),F=new D0(T,B,S);return y.asyncQueue.enqueueAndForget((async()=>C0(await Nm(y),F))),()=>{B.Nu(),y.asyncQueue.enqueueAndForget((async()=>N0(await Nm(y),F)))}})(pp(f),p,o,u)}function VC(s,t){return(function(r,o){const u=new tr;return r.asyncQueue.enqueueAndForget((async()=>eC(await fC(r),o,u))),u.promise})(pp(s),t)}function MC(s,t,n){const r=n.docs.get(t._key),o=new Rp(s);return new Gr(s,o,t._key,r,new Cl(n.hasPendingWrites,n.fromCache),t.converter)}function Xc(){return new vp("serverTimestamp")}(function(t,n=!0){(function(o){ho=o})(ea),$r(new nr("firestore",((r,{instanceIdentifier:o,options:u})=>{const f=r.getProvider("app").getImmediate(),p=new Gl(new E1(r.getProvider("auth-internal")),new S1(f,r.getProvider("app-check-internal")),(function(y,T){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new st($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zl(y.options.projectId,T)})(f,o),f);return u={useFetchStreams:n,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),Ii(Uv,kv,t),Ii(Uv,kv,"esm2020")})();const J0="firebasestorage.googleapis.com",W0="storageBucket",xC=120*1e3,UC=600*1e3;class fe extends Ui{constructor(t,n,r=0){super(nm(t),`Firebase Storage: ${n} (${nm(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,fe.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return nm(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var he;(function(s){s.UNKNOWN="unknown",s.OBJECT_NOT_FOUND="object-not-found",s.BUCKET_NOT_FOUND="bucket-not-found",s.PROJECT_NOT_FOUND="project-not-found",s.QUOTA_EXCEEDED="quota-exceeded",s.UNAUTHENTICATED="unauthenticated",s.UNAUTHORIZED="unauthorized",s.UNAUTHORIZED_APP="unauthorized-app",s.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",s.INVALID_CHECKSUM="invalid-checksum",s.CANCELED="canceled",s.INVALID_EVENT_NAME="invalid-event-name",s.INVALID_URL="invalid-url",s.INVALID_DEFAULT_BUCKET="invalid-default-bucket",s.NO_DEFAULT_BUCKET="no-default-bucket",s.CANNOT_SLICE_BLOB="cannot-slice-blob",s.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",s.NO_DOWNLOAD_URL="no-download-url",s.INVALID_ARGUMENT="invalid-argument",s.INVALID_ARGUMENT_COUNT="invalid-argument-count",s.APP_DELETED="app-deleted",s.INVALID_ROOT_OPERATION="invalid-root-operation",s.INVALID_FORMAT="invalid-format",s.INTERNAL_ERROR="internal-error",s.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(he||(he={}));function nm(s){return"storage/"+s}function Ip(){const s="An unknown error occurred, please check the error payload for server response.";return new fe(he.UNKNOWN,s)}function kC(s){return new fe(he.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")}function LC(s){return new fe(he.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function PC(){const s="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new fe(he.UNAUTHENTICATED,s)}function zC(){return new fe(he.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function jC(s){return new fe(he.UNAUTHORIZED,"User does not have permission to access '"+s+"'.")}function BC(){return new fe(he.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function qC(){return new fe(he.CANCELED,"User canceled the upload/download.")}function HC(s){return new fe(he.INVALID_URL,"Invalid URL '"+s+"'.")}function FC(s){return new fe(he.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+s+"'.")}function GC(){return new fe(he.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+W0+"' property when initializing the app?")}function QC(){return new fe(he.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function KC(){return new fe(he.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function YC(s){return new fe(he.UNSUPPORTED_ENVIRONMENT,`${s} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Mm(s){return new fe(he.INVALID_ARGUMENT,s)}function tA(){return new fe(he.APP_DELETED,"The Firebase app was deleted.")}function XC(s){return new fe(he.INVALID_ROOT_OPERATION,"The operation '"+s+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function xl(s,t){return new fe(he.INVALID_FORMAT,"String does not match format '"+s+"': "+t)}function bl(s){throw new fe(he.INTERNAL_ERROR,"Internal error: "+s)}class an{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=an.makeFromUrl(t,n)}catch{return new an(t,"")}if(r.path==="")return r;throw FC(t)}static makeFromUrl(t,n){let r=null;const o="([A-Za-z0-9.\\-_]+)";function u(yt){yt.path.charAt(yt.path.length-1)==="/"&&(yt.path_=yt.path_.slice(0,-1))}const f="(/(.*))?$",p=new RegExp("^gs://"+o+f,"i"),g={bucket:1,path:3};function y(yt){yt.path_=decodeURIComponent(yt.path)}const T="v[A-Za-z0-9_]+",S=n.replace(/[.]/g,"\\."),N="(/([^?#]*).*)?$",B=new RegExp(`^https?://${S}/${T}/b/${o}/o${N}`,"i"),F={bucket:1,path:3},W=n===J0?"(?:storage.googleapis.com|storage.cloud.google.com)":n,J="([^?#]*)",at=new RegExp(`^https?://${W}/${o}/${J}`,"i"),lt=[{regex:p,indices:g,postModify:u},{regex:B,indices:F,postModify:y},{regex:at,indices:{bucket:1,path:2},postModify:y}];for(let yt=0;yt<lt.length;yt++){const jt=lt[yt],Ct=jt.regex.exec(t);if(Ct){const D=Ct[jt.indices.bucket];let b=Ct[jt.indices.path];b||(b=""),r=new an(D,b),jt.postModify(r);break}}if(r==null)throw HC(t);return r}}class $C{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function ZC(s,t,n){let r=1,o=null,u=null,f=!1,p=0;function g(){return p===2}let y=!1;function T(...J){y||(y=!0,t.apply(null,J))}function S(J){o=setTimeout(()=>{o=null,s(B,g())},J)}function N(){u&&clearTimeout(u)}function B(J,...at){if(y){N();return}if(J){N(),T.call(null,J,...at);return}if(g()||f){N(),T.call(null,J,...at);return}r<64&&(r*=2);let lt;p===1?(p=2,lt=0):lt=(r+Math.random())*1e3,S(lt)}let F=!1;function W(J){F||(F=!0,N(),!y&&(o!==null?(J||(p=2),clearTimeout(o),S(0)):J||(p=1)))}return S(0),u=setTimeout(()=>{f=!0,W(!0)},n),W}function JC(s){s(!1)}function WC(s){return s!==void 0}function t2(s){return typeof s=="object"&&!Array.isArray(s)}function Cp(s){return typeof s=="string"||s instanceof String}function xE(s){return Np()&&s instanceof Blob}function Np(){return typeof Blob<"u"}function xm(s,t,n,r){if(r<t)throw Mm(`Invalid value for '${s}'. Expected ${t} or greater.`);if(r>n)throw Mm(`Invalid value for '${s}'. Expected ${n} or less.`)}function Lh(s,t,n){let r=t;return n==null&&(r=`https://${t}`),`${n}://${r}/v0${s}`}function eA(s){const t=encodeURIComponent;let n="?";for(const r in s)if(s.hasOwnProperty(r)){const o=t(r)+"="+t(s[r]);n=n+o+"&"}return n=n.slice(0,-1),n}var Kr;(function(s){s[s.NO_ERROR=0]="NO_ERROR",s[s.NETWORK_ERROR=1]="NETWORK_ERROR",s[s.ABORT=2]="ABORT"})(Kr||(Kr={}));function e2(s,t){const n=s>=500&&s<600,o=[408,429].indexOf(s)!==-1,u=t.indexOf(s)!==-1;return n||o||u}class n2{constructor(t,n,r,o,u,f,p,g,y,T,S,N=!0,B=!1){this.url_=t,this.method_=n,this.headers_=r,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=f,this.callback_=p,this.errorCallback_=g,this.timeout_=y,this.progressCallback_=T,this.connectionFactory_=S,this.retry=N,this.isUsingEmulator=B,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((F,W)=>{this.resolve_=F,this.reject_=W,this.start_()})}start_(){const t=(r,o)=>{if(o){r(!1,new Lc(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const f=p=>{const g=p.loaded,y=p.lengthComputable?p.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,y)};this.progressCallback_!==null&&u.addUploadProgressListener(f),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(f),this.pendingConnection_=null;const p=u.getErrorCode()===Kr.NO_ERROR,g=u.getStatus();if(!p||e2(g,this.additionalRetryCodes_)&&this.retry){const T=u.getErrorCode()===Kr.ABORT;r(!1,new Lc(!1,null,T));return}const y=this.successCodes_.indexOf(g)!==-1;r(!0,new Lc(y,u))})},n=(r,o)=>{const u=this.resolve_,f=this.reject_,p=o.connection;if(o.wasSuccessCode)try{const g=this.callback_(p,p.getResponse());WC(g)?u(g):u()}catch(g){f(g)}else if(p!==null){const g=Ip();g.serverResponse=p.getErrorText(),this.errorCallback_?f(this.errorCallback_(p,g)):f(g)}else if(o.canceled){const g=this.appDelete_?tA():qC();f(g)}else{const g=BC();f(g)}};this.canceled_?n(!1,new Lc(!1,null,!0)):this.backoffId_=ZC(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&JC(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Lc{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function i2(s,t){t!==null&&t.length>0&&(s.Authorization="Firebase "+t)}function s2(s,t){s["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function r2(s,t){t&&(s["X-Firebase-GMPID"]=t)}function a2(s,t){t!==null&&(s["X-Firebase-AppCheck"]=t)}function o2(s,t,n,r,o,u,f=!0,p=!1){const g=eA(s.urlParams),y=s.url+g,T=Object.assign({},s.headers);return r2(T,t),i2(T,n),s2(T,u),a2(T,r),new n2(y,s.method,T,s.body,s.successCodes,s.additionalRetryCodes,s.handler,s.errorHandler,s.timeout,s.progressCallback,o,f,p)}function l2(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function u2(...s){const t=l2();if(t!==void 0){const n=new t;for(let r=0;r<s.length;r++)n.append(s[r]);return n.getBlob()}else{if(Np())return new Blob(s);throw new fe(he.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function c2(s,t,n){return s.webkitSlice?s.webkitSlice(t,n):s.mozSlice?s.mozSlice(t,n):s.slice?s.slice(t,n):null}function h2(s){if(typeof atob>"u")throw YC("base-64");return atob(s)}const Ri={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class im{constructor(t,n){this.data=t,this.contentType=n||null}}function f2(s,t){switch(s){case Ri.RAW:return new im(nA(t));case Ri.BASE64:case Ri.BASE64URL:return new im(iA(s,t));case Ri.DATA_URL:return new im(m2(t),p2(t))}throw Ip()}function nA(s){const t=[];for(let n=0;n<s.length;n++){let r=s.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<s.length-1&&(s.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const u=r,f=s.charCodeAt(++n);r=65536|(u&1023)<<10|f&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function d2(s){let t;try{t=decodeURIComponent(s)}catch{throw xl(Ri.DATA_URL,"Malformed data URL.")}return nA(t)}function iA(s,t){switch(s){case Ri.BASE64:{const o=t.indexOf("-")!==-1,u=t.indexOf("_")!==-1;if(o||u)throw xl(s,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Ri.BASE64URL:{const o=t.indexOf("+")!==-1,u=t.indexOf("/")!==-1;if(o||u)throw xl(s,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=h2(t)}catch(o){throw o.message.includes("polyfill")?o:xl(s,"Invalid character found")}const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r}class sA{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw xl(Ri.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=g2(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}}function m2(s){const t=new sA(s);return t.base64?iA(Ri.BASE64,t.rest):d2(t.rest)}function p2(s){return new sA(s).contentType}function g2(s,t){return s.length>=t.length?s.substring(s.length-t.length)===t:!1}class Hs{constructor(t,n){let r=0,o="";xE(t)?(this.data_=t,r=t.size,o=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=o}size(){return this.size_}type(){return this.type_}slice(t,n){if(xE(this.data_)){const r=this.data_,o=c2(r,t,n);return o===null?null:new Hs(o)}else{const r=new Uint8Array(this.data_.buffer,t,n-t);return new Hs(r,!0)}}static getBlob(...t){if(Np()){const n=t.map(r=>r instanceof Hs?r.data_:r);return new Hs(u2.apply(null,n))}else{const n=t.map(f=>Cp(f)?f2(Ri.RAW,f).data:f.data_);let r=0;n.forEach(f=>{r+=f.byteLength});const o=new Uint8Array(r);let u=0;return n.forEach(f=>{for(let p=0;p<f.length;p++)o[u++]=f[p]}),new Hs(o,!0)}}uploadData(){return this.data_}}function Dp(s){let t;try{t=JSON.parse(s)}catch{return null}return t2(t)?t:null}function y2(s){if(s.length===0)return null;const t=s.lastIndexOf("/");return t===-1?"":s.slice(0,t)}function _2(s,t){const n=t.split("/").filter(r=>r.length>0).join("/");return s.length===0?n:s+"/"+n}function rA(s){const t=s.lastIndexOf("/",s.length-2);return t===-1?s:s.slice(t+1)}function v2(s,t){return t}class rn{constructor(t,n,r,o){this.server=t,this.local=n||t,this.writable=!!r,this.xform=o||v2}}let Pc=null;function E2(s){return!Cp(s)||s.length<2?s:rA(s)}function aA(){if(Pc)return Pc;const s=[];s.push(new rn("bucket")),s.push(new rn("generation")),s.push(new rn("metageneration")),s.push(new rn("name","fullPath",!0));function t(u,f){return E2(f)}const n=new rn("name");n.xform=t,s.push(n);function r(u,f){return f!==void 0?Number(f):f}const o=new rn("size");return o.xform=r,s.push(o),s.push(new rn("timeCreated")),s.push(new rn("updated")),s.push(new rn("md5Hash",null,!0)),s.push(new rn("cacheControl",null,!0)),s.push(new rn("contentDisposition",null,!0)),s.push(new rn("contentEncoding",null,!0)),s.push(new rn("contentLanguage",null,!0)),s.push(new rn("contentType",null,!0)),s.push(new rn("metadata","customMetadata",!0)),Pc=s,Pc}function T2(s,t){function n(){const r=s.bucket,o=s.fullPath,u=new an(r,o);return t._makeStorageReference(u)}Object.defineProperty(s,"ref",{get:n})}function A2(s,t,n){const r={};r.type="file";const o=n.length;for(let u=0;u<o;u++){const f=n[u];r[f.local]=f.xform(r,t[f.server])}return T2(r,s),r}function oA(s,t,n){const r=Dp(t);return r===null?null:A2(s,r,n)}function S2(s,t,n,r){const o=Dp(t);if(o===null||!Cp(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const f=encodeURIComponent;return u.split(",").map(y=>{const T=s.bucket,S=s.fullPath,N="/b/"+f(T)+"/o/"+f(S),B=Lh(N,n,r),F=eA({alt:"media",token:y});return B+F})[0]}function b2(s,t){const n={},r=t.length;for(let o=0;o<r;o++){const u=t[o];u.writable&&(n[u.server]=s[u.local])}return JSON.stringify(n)}const UE="prefixes",kE="items";function w2(s,t,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[UE])for(const o of n[UE]){const u=o.replace(/\/$/,""),f=s._makeStorageReference(new an(t,u));r.prefixes.push(f)}if(n[kE])for(const o of n[kE]){const u=s._makeStorageReference(new an(t,o.name));r.items.push(u)}return r}function R2(s,t,n){const r=Dp(n);return r===null?null:w2(s,t,r)}class Op{constructor(t,n,r,o){this.url=t,this.method=n,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Vp(s){if(!s)throw Ip()}function I2(s,t){function n(r,o){const u=oA(s,o,t);return Vp(u!==null),u}return n}function C2(s,t){function n(r,o){const u=R2(s,t,o);return Vp(u!==null),u}return n}function N2(s,t){function n(r,o){const u=oA(s,o,t);return Vp(u!==null),S2(u,o,s.host,s._protocol)}return n}function Mp(s){function t(n,r){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=zC():o=PC():n.getStatus()===402?o=LC(s.bucket):n.getStatus()===403?o=jC(s.path):o=r,o.status=n.getStatus(),o.serverResponse=r.serverResponse,o}return t}function D2(s){const t=Mp(s);function n(r,o){let u=t(r,o);return r.getStatus()===404&&(u=kC(s.path)),u.serverResponse=o.serverResponse,u}return n}function O2(s,t,n,r,o){const u={};t.isRoot?u.prefix="":u.prefix=t.path+"/",n.length>0&&(u.delimiter=n),r&&(u.pageToken=r),o&&(u.maxResults=o);const f=t.bucketOnlyServerUrl(),p=Lh(f,s.host,s._protocol),g="GET",y=s.maxOperationRetryTime,T=new Op(p,g,C2(s,t.bucket),y);return T.urlParams=u,T.errorHandler=Mp(t),T}function V2(s,t,n){const r=t.fullServerUrl(),o=Lh(r,s.host,s._protocol),u="GET",f=s.maxOperationRetryTime,p=new Op(o,u,N2(s,n),f);return p.errorHandler=D2(t),p}function M2(s,t){return s&&s.contentType||t&&t.type()||"application/octet-stream"}function x2(s,t,n){const r=Object.assign({},n);return r.fullPath=s.path,r.size=t.size(),r.contentType||(r.contentType=M2(null,t)),r}function U2(s,t,n,r,o){const u=t.bucketOnlyServerUrl(),f={"X-Goog-Upload-Protocol":"multipart"};function p(){let lt="";for(let yt=0;yt<2;yt++)lt=lt+Math.random().toString().slice(2);return lt}const g=p();f["Content-Type"]="multipart/related; boundary="+g;const y=x2(t,r,o),T=b2(y,n),S="--"+g+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+T+`\r
--`+g+`\r
Content-Type: `+y.contentType+`\r
\r
`,N=`\r
--`+g+"--",B=Hs.getBlob(S,r,N);if(B===null)throw QC();const F={name:y.fullPath},W=Lh(u,s.host,s._protocol),J="POST",at=s.maxUploadRetryTime,ht=new Op(W,J,I2(s,n),at);return ht.urlParams=F,ht.headers=f,ht.body=B.uploadData(),ht.errorHandler=Mp(t),ht}class k2{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Kr.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Kr.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Kr.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,r,o,u){if(this.sent_)throw bl("cannot .send() more than once");if(ur(t)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,t,!0),u!==void 0)for(const f in u)u.hasOwnProperty(f)&&this.xhr_.setRequestHeader(f,u[f].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw bl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw bl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw bl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw bl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class L2 extends k2{initXhr(){this.xhr_.responseType="text"}}function xp(){return new L2}class Wr{constructor(t,n){this._service=t,n instanceof an?this._location=n:this._location=an.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new Wr(t,n)}get root(){const t=new an(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return rA(this._location.path)}get storage(){return this._service}get parent(){const t=y2(this._location.path);if(t===null)return null;const n=new an(this._location.bucket,t);return new Wr(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw XC(t)}}function P2(s,t,n){s._throwIfRoot("uploadBytes");const r=U2(s.storage,s._location,aA(),new Hs(t,!0),n);return s.storage.makeRequestWithTokens(r,xp).then(o=>({metadata:o,ref:s}))}function z2(s){const t={prefixes:[],items:[]};return lA(s,t).then(()=>t)}async function lA(s,t,n){const o=await j2(s,{pageToken:n});t.prefixes.push(...o.prefixes),t.items.push(...o.items),o.nextPageToken!=null&&await lA(s,t,o.nextPageToken)}function j2(s,t){t!=null&&typeof t.maxResults=="number"&&xm("options.maxResults",1,1e3,t.maxResults);const n=t||{},r=O2(s.storage,s._location,"/",n.pageToken,n.maxResults);return s.storage.makeRequestWithTokens(r,xp)}function B2(s){s._throwIfRoot("getDownloadURL");const t=V2(s.storage,s._location,aA());return s.storage.makeRequestWithTokens(t,xp).then(n=>{if(n===null)throw KC();return n})}function q2(s,t){const n=_2(s._location.path,t),r=new an(s._location.bucket,n);return new Wr(s.storage,r)}function H2(s){return/^[A-Za-z]+:\/\//.test(s)}function F2(s,t){return new Wr(s,t)}function uA(s,t){if(s instanceof Up){const n=s;if(n._bucket==null)throw GC();const r=new Wr(n,n._bucket);return t!=null?uA(r,t):r}else return t!==void 0?q2(s,t):s}function G2(s,t){if(t&&H2(t)){if(s instanceof Up)return F2(s,t);throw Mm("To use ref(service, url), the first argument must be a Storage instance.")}else return uA(s,t)}function LE(s,t){const n=t?.[W0];return n==null?null:an.makeFromBucketSpec(n,s)}function Q2(s,t,n,r={}){s.host=`${t}:${n}`;const o=ur(t);o&&(zm(`https://${s.host}/b`),jm("Storage",!0)),s._isUsingEmulator=!0,s._protocol=o?"https":"http";const{mockUserToken:u}=r;u&&(s._overrideAuthToken=typeof u=="string"?u:mT(u,s.app.options.projectId))}class Up{constructor(t,n,r,o,u,f=!1){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=f,this._bucket=null,this._host=J0,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=xC,this._maxUploadRetryTime=UC,this._requests=new Set,o!=null?this._bucket=an.makeFromBucketSpec(o,this._host):this._bucket=LE(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=an.makeFromBucketSpec(this._url,t):this._bucket=LE(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){xm("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){xm("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Ln(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Wr(this,t)}_makeRequest(t,n,r,o,u=!0){if(this._deleted)return new $C(tA());{const f=o2(t,this._appId,r,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(t,n){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,o).getPromise()}}const PE="@firebase/storage",zE="0.14.0";const cA="storage";function K2(s,t,n){return s=Oe(s),P2(s,t,n)}function Y2(s){return s=Oe(s),z2(s)}function hA(s){return s=Oe(s),B2(s)}function fA(s,t){return s=Oe(s),G2(s,t)}function X2(s=Hm(),t){s=Oe(s);const r=Th(s,cA).getImmediate({identifier:t}),o=hT("storage");return o&&$2(r,...o),r}function $2(s,t,n,r={}){Q2(s,t,n,r)}function Z2(s,{instanceIdentifier:t}){const n=s.getProvider("app").getImmediate(),r=s.getProvider("auth-internal"),o=s.getProvider("app-check-internal");return new Up(n,r,o,t,ea)}function J2(){$r(new nr(cA,Z2,"PUBLIC").setMultipleInstances(!0)),Ii(PE,zE,""),Ii(PE,zE,"esm2020")}J2();function dA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const W2=dA,mA=new Kl("auth","Firebase",dA());const mh=new Bm("@firebase/auth");function tN(s,...t){mh.logLevel<=xt.WARN&&mh.warn(`Auth (${ea}): ${s}`,...t)}function $c(s,...t){mh.logLevel<=xt.ERROR&&mh.error(`Auth (${ea}): ${s}`,...t)}function xi(s,...t){throw Lp(s,...t)}function ti(s,...t){return Lp(s,...t)}function kp(s,t,n){const r={...W2(),[t]:n};return new Kl("auth","Firebase",r).create(t,{appName:s.name})}function Yr(s){return kp(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function eN(s,t,n){const r=n;if(!(t instanceof r))throw r.name!==t.constructor.name&&xi(s,"argument-error"),kp(s,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Lp(s,...t){if(typeof s!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(n,...r)}return mA.create(s,...t)}function vt(s,t,...n){if(!s)throw Lp(t,...n)}function es(s){const t="INTERNAL ASSERTION FAILED: "+s;throw $c(t),new Error(t)}function os(s,t){s||es(t)}function Um(){return typeof self<"u"&&self.location?.href||""}function nN(){return jE()==="http:"||jE()==="https:"}function jE(){return typeof self<"u"&&self.location?.protocol||null}function iN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(nN()||Xb()||"connection"in navigator)?navigator.onLine:!0}function sN(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class tu{constructor(t,n){this.shortDelay=t,this.longDelay=n,os(n>t,"Short delay should be less than long delay!"),this.isMobile=Qb()||$b()}get(){return iN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Pp(s,t){os(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class pA{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;es("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;es("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;es("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const rN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const aN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],oN=new tu(3e4,6e4);function zp(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function yo(s,t,n,r,o={}){return gA(s,o,async()=>{let u={},f={};r&&(t==="GET"?f=r:u={body:JSON.stringify(r)});const p=Yl({key:s.config.apiKey,...f}).slice(1),g=await s._getAdditionalHeaders();g["Content-Type"]="application/json",s.languageCode&&(g["X-Firebase-Locale"]=s.languageCode);const y={method:t,headers:g,...u};return Yb()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&ur(s.emulatorConfig.host)&&(y.credentials="include"),pA.fetch()(await yA(s,s.config.apiHost,n,p),y)})}async function gA(s,t,n){s._canInitEmulator=!1;const r={...rN,...t};try{const o=new uN(s),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw zc(s,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const p=u.ok?f.errorMessage:f.error.message,[g,y]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw zc(s,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw zc(s,"email-already-in-use",f);if(g==="USER_DISABLED")throw zc(s,"user-disabled",f);const T=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw kp(s,T,y);xi(s,T)}}catch(o){if(o instanceof Ui)throw o;xi(s,"network-request-failed",{message:String(o)})}}async function lN(s,t,n,r,o={}){const u=await yo(s,t,n,r,o);return"mfaPendingCredential"in u&&xi(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function yA(s,t,n,r){const o=`${t}${n}?${r}`,u=s,f=u.config.emulator?Pp(s.config,o):`${s.config.apiScheme}://${o}`;return aN.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class uN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ti(this.auth,"network-request-failed")),oN.get())})}}function zc(s,t,n){const r={appName:s.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=ti(s,t,r);return o.customData._tokenResponse=n,o}async function cN(s,t){return yo(s,"POST","/v1/accounts:delete",t)}async function ph(s,t){return yo(s,"POST","/v1/accounts:lookup",t)}function Ul(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function hN(s,t=!1){const n=Oe(s),r=await n.getIdToken(t),o=jp(r);vt(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:r,authTime:Ul(sm(o.auth_time)),issuedAtTime:Ul(sm(o.iat)),expirationTime:Ul(sm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function sm(s){return Number(s)*1e3}function jp(s){const[t,n,r]=s.split(".");if(t===void 0||n===void 0||r===void 0)return $c("JWT malformed, contained fewer than 3 sections"),null;try{const o=uT(n);return o?JSON.parse(o):($c("Failed to decode base64 JWT payload"),null)}catch(o){return $c("Caught error parsing JWT payload as JSON",o?.toString()),null}}function BE(s){const t=jp(s);return vt(t,"internal-error"),vt(typeof t.exp<"u","internal-error"),vt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Ql(s,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof Ui&&fN(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function fN({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class dN{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class km{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ul(this.lastLoginAt),this.creationTime=Ul(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function gh(s){const t=s.auth,n=await s.getIdToken(),r=await Ql(s,ph(t,{idToken:n}));vt(r?.users.length,t,"internal-error");const o=r.users[0];s._notifyReloadListener(o);const u=o.providerUserInfo?.length?_A(o.providerUserInfo):[],f=pN(s.providerData,u),p=s.isAnonymous,g=!(s.email&&o.passwordHash)&&!f?.length,y=p?g:!1,T={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new km(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(s,T)}async function mN(s){const t=Oe(s);await gh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function pN(s,t){return[...s.filter(r=>!t.some(o=>o.providerId===r.providerId)),...t]}function _A(s){return s.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function gN(s,t){const n=await gA(s,{},async()=>{const r=Yl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=s.config,f=await yA(s,o,"/v1/token",`key=${u}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:r};return s.emulatorConfig&&ur(s.emulatorConfig.host)&&(g.credentials="include"),pA.fetch()(f,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function yN(s,t){return yo(s,"POST","/v2/accounts:revokeToken",zp(s,t))}class eo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){vt(t.idToken,"internal-error"),vt(typeof t.idToken<"u","internal-error"),vt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):BE(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){vt(t.length!==0,"internal-error");const n=BE(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(vt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:o,expiresIn:u}=await gN(t,n);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:o,expirationTime:u}=n,f=new eo;return r&&(vt(typeof r=="string","internal-error",{appName:t}),f.refreshToken=r),o&&(vt(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(vt(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new eo,this.toJSON())}_performRefresh(){return es("not implemented")}}function qs(s,t){vt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class Wn{constructor({uid:t,auth:n,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new dN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new km(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await Ql(this,this.stsTokenManager.getToken(this.auth,t));return vt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return hN(this,t)}reload(){return mN(this)}_assign(t){this!==t&&(vt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Wn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){vt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await gh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ln(this.auth.app))return Promise.reject(Yr(this.auth));const t=await this.getIdToken();return await Ql(this,cN(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const r=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,p=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,T=n.lastLoginAt??void 0,{uid:S,emailVerified:N,isAnonymous:B,providerData:F,stsTokenManager:W}=n;vt(S&&W,t,"internal-error");const J=eo.fromJSON(this.name,W);vt(typeof S=="string",t,"internal-error"),qs(r,t.name),qs(o,t.name),vt(typeof N=="boolean",t,"internal-error"),vt(typeof B=="boolean",t,"internal-error"),qs(u,t.name),qs(f,t.name),qs(p,t.name),qs(g,t.name),qs(y,t.name),qs(T,t.name);const at=new Wn({uid:S,auth:t,email:o,emailVerified:N,displayName:r,isAnonymous:B,photoURL:f,phoneNumber:u,tenantId:p,stsTokenManager:J,createdAt:y,lastLoginAt:T});return F&&Array.isArray(F)&&(at.providerData=F.map(ht=>({...ht}))),g&&(at._redirectEventId=g),at}static async _fromIdTokenResponse(t,n,r=!1){const o=new eo;o.updateFromServerResponse(n);const u=new Wn({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:r});return await gh(u),u}static async _fromGetAccountInfoResponse(t,n,r){const o=n.users[0];vt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?_A(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,p=new eo;p.updateFromIdToken(r);const g=new Wn({uid:o.localId,auth:t,stsTokenManager:p,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new km(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,y),g}}const qE=new Map;function ns(s){os(s instanceof Function,"Expected a class definition");let t=qE.get(s);return t?(os(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,qE.set(s,t),t)}class vA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}vA.type="NONE";const HE=vA;function Zc(s,t,n){return`firebase:${s}:${t}:${n}`}class no{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=Zc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Zc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await ph(this.auth,{idToken:t}).catch(()=>{});return n?Wn._fromGetAccountInfoResponse(this.auth,n,t):null}return Wn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new no(ns(HE),t,r);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||ns(HE);const f=Zc(r,t.config.apiKey,t.name);let p=null;for(const y of n)try{const T=await y._get(f);if(T){let S;if(typeof T=="string"){const N=await ph(t,{idToken:T}).catch(()=>{});if(!N)break;S=await Wn._fromGetAccountInfoResponse(t,N,T)}else S=Wn._fromJSON(t,T);y!==u&&(p=S),u=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new no(u,t,r):(u=g[0],p&&await u._set(f,p.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new no(u,t,r))}}function FE(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(SA(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(EA(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(wA(t))return"Blackberry";if(RA(t))return"Webos";if(TA(t))return"Safari";if((t.includes("chrome/")||AA(t))&&!t.includes("edge/"))return"Chrome";if(bA(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(n);if(r?.length===2)return r[1]}return"Other"}function EA(s=tn()){return/firefox\//i.test(s)}function TA(s=tn()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function AA(s=tn()){return/crios\//i.test(s)}function SA(s=tn()){return/iemobile/i.test(s)}function bA(s=tn()){return/android/i.test(s)}function wA(s=tn()){return/blackberry/i.test(s)}function RA(s=tn()){return/webos/i.test(s)}function Bp(s=tn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function _N(s=tn()){return Bp(s)&&!!window.navigator?.standalone}function vN(){return Zb()&&document.documentMode===10}function IA(s=tn()){return Bp(s)||bA(s)||RA(s)||wA(s)||/windows phone/i.test(s)||SA(s)}function CA(s,t=[]){let n;switch(s){case"Browser":n=FE(tn());break;case"Worker":n=`${FE(tn())}-${s}`;break;default:n=s}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${ea}/${r}`}class EN{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=u=>new Promise((f,p)=>{try{const g=t(u);f(g)}catch(g){p(g)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function TN(s,t={}){return yo(s,"GET","/v2/passwordPolicy",zp(s,t))}const AN=6;class SN{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??AN,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<t.length;o++)r=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}class bN{constructor(t,n,r,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new GE(this),this.idTokenSubscription=new GE(this),this.beforeStateQueue=new EN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=ns(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await no.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await ph(this,{idToken:t}),r=await Wn._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Ln(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=r?._redirectEventId,p=await this.tryRedirectSignIn(t);(!u||u===f)&&p?.user&&(r=p.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return vt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await gh(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=sN()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Ln(this.app))return Promise.reject(Yr(this));const n=t?Oe(t):null;return n&&vt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&vt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Ln(this.app)?Promise.reject(Yr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Ln(this.app)?Promise.reject(Yr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ns(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await TN(this),n=new SN(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Kl("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await yN(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&ns(t)||this._popupRedirectResolver;vt(n,this,"argument-error"),this.redirectPersistenceManager=await no.create(this,[ns(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(vt(p,this,"internal-error"),p.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=t.addObserver(n,r,o);return()=>{f=!0,g()}}else{const g=t.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return vt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=CA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(Ln(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&tN(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Ph(s){return Oe(s)}class GE{constructor(t){this.auth=t,this.observer=null,this.addObserver=rw(n=>this.observer=n)}get next(){return vt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let qp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function wN(s){qp=s}function RN(s){return qp.loadJS(s)}function IN(){return qp.gapiScript}function CN(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function NN(s,t){const n=Th(s,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Xr(u,t??{}))return o;xi(o,"already-initialized")}return n.initialize({options:t})}function DN(s,t){const n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ns);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(r,t?.popupRedirectResolver)}function ON(s,t,n){const r=Ph(s);vt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const o=!1,u=NA(t),{host:f,port:p}=VN(t),g=p===null?"":`:${p}`,y={url:`${u}//${f}${g}/`},T=Object.freeze({host:f,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){vt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),vt(Xr(y,r.config.emulator)&&Xr(T,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=T,r.settings.appVerificationDisabledForTesting=!0,ur(f)?(zm(`${u}//${f}${g}`),jm("Auth",!0)):MN()}function NA(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function VN(s){const t=NA(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:QE(r.substr(u.length+1))}}else{const[u,f]=r.split(":");return{host:u,port:QE(f)}}}function QE(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function MN(){function s(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class DA{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return es("not implemented")}_getIdTokenResponse(t){return es("not implemented")}_linkToIdToken(t,n){return es("not implemented")}_getReauthenticationResolver(t){return es("not implemented")}}async function io(s,t){return lN(s,"POST","/v1/accounts:signInWithIdp",zp(s,t))}const xN="http://localhost";class ta extends DA{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new ta(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):xi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:o,...u}=n;if(!r||!o)return null;const f=new ta(r,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return io(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,io(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,io(t,n)}buildRequest(){const t={requestUri:xN,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Yl(n)}return t}}class Hp{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class eu extends Hp{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Fs extends eu{constructor(){super("facebook.com")}static credential(t){return ta._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Fs.credentialFromTaggedObject(t)}static credentialFromError(t){return Fs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Fs.credential(t.oauthAccessToken)}catch{return null}}}Fs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fs.PROVIDER_ID="facebook.com";class Gs extends eu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return ta._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Gs.credentialFromTaggedObject(t)}static credentialFromError(t){return Gs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Gs.credential(n,r)}catch{return null}}}Gs.GOOGLE_SIGN_IN_METHOD="google.com";Gs.PROVIDER_ID="google.com";class wi extends eu{constructor(){super("github.com")}static credential(t){return ta._fromParams({providerId:wi.PROVIDER_ID,signInMethod:wi.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return wi.credentialFromTaggedObject(t)}static credentialFromError(t){return wi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return wi.credential(t.oauthAccessToken)}catch{return null}}}wi.GITHUB_SIGN_IN_METHOD="github.com";wi.PROVIDER_ID="github.com";class Qs extends eu{constructor(){super("twitter.com")}static credential(t,n){return ta._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Qs.credentialFromTaggedObject(t)}static credentialFromError(t){return Qs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Qs.credential(n,r)}catch{return null}}}Qs.TWITTER_SIGN_IN_METHOD="twitter.com";Qs.PROVIDER_ID="twitter.com";class co{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,o=!1){const u=await Wn._fromIdTokenResponse(t,r,o),f=KE(r);return new co({user:u,providerId:f,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const o=KE(r);return new co({user:t,providerId:o,_tokenResponse:r,operationType:n})}}function KE(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class yh extends Ui{constructor(t,n,r,o){super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,yh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,o){return new yh(t,n,r,o)}}function OA(s,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?yh._fromErrorAndOperation(s,u,t,r):u})}async function UN(s,t,n=!1){const r=await Ql(s,t._linkToIdToken(s.auth,await s.getIdToken()),n);return co._forOperation(s,"link",r)}async function kN(s,t,n=!1){const{auth:r}=s;if(Ln(r.app))return Promise.reject(Yr(r));const o="reauthenticate";try{const u=await Ql(s,OA(r,o,t,s),n);vt(u.idToken,r,"internal-error");const f=jp(u.idToken);vt(f,r,"internal-error");const{sub:p}=f;return vt(s.uid===p,r,"user-mismatch"),co._forOperation(s,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&xi(r,"user-mismatch"),u}}async function LN(s,t,n=!1){if(Ln(s.app))return Promise.reject(Yr(s));const r="signIn",o=await OA(s,r,t),u=await co._fromIdTokenResponse(s,r,o);return n||await s._updateCurrentUser(u.user),u}function PN(s,t,n,r){return Oe(s).onIdTokenChanged(t,n,r)}function zN(s,t,n){return Oe(s).beforeAuthStateChanged(t,n)}function jN(s,t,n,r){return Oe(s).onAuthStateChanged(t,n,r)}function BN(s){return Oe(s).signOut()}const _h="__sak";class VA{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(_h,"1"),this.storage.removeItem(_h),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const qN=1e3,HN=10;class MA extends VA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=IA(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&t(n,o,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,p,g)=>{this.notifyListeners(f,g)});return}const r=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(r);!n&&this.localCache[r]===f||this.notifyListeners(r,f)},u=this.storage.getItem(r);vN()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,HN):o()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},qN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}MA.type="LOCAL";const FN=MA;class xA extends VA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}xA.type="SESSION";const UA=xA;function GN(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}class zh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const r=new zh(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const p=Array.from(f).map(async y=>y(n.origin,u)),g=await GN(p);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:g})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}zh.receivers=[];function Fp(s="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return s+n}class QN{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((p,g)=>{const y=Fp("",20);o.port1.start();const T=setTimeout(()=>{g(new Error("unsupported_event"))},r);f={messageChannel:o,onMessage(S){const N=S;if(N.data.eventId===y)switch(N.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(N.data.response);break;default:clearTimeout(T),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Vi(){return window}function KN(s){Vi().location.href=s}function kA(){return typeof Vi().WorkerGlobalScope<"u"&&typeof Vi().importScripts=="function"}async function YN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function XN(){return navigator?.serviceWorker?.controller||null}function $N(){return kA()?self:null}const LA="firebaseLocalStorageDb",ZN=1,vh="firebaseLocalStorage",PA="fbase_key";class nu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function jh(s,t){return s.transaction([vh],t?"readwrite":"readonly").objectStore(vh)}function JN(){const s=indexedDB.deleteDatabase(LA);return new nu(s).toPromise()}function Lm(){const s=indexedDB.open(LA,ZN);return new Promise((t,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(vh,{keyPath:PA})}catch(o){n(o)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(vh)?t(r):(r.close(),await JN(),t(await Lm()))})})}async function YE(s,t,n){const r=jh(s,!0).put({[PA]:t,value:n});return new nu(r).toPromise()}async function WN(s,t){const n=jh(s,!1).get(t),r=await new nu(n).toPromise();return r===void 0?null:r.value}function XE(s,t){const n=jh(s,!0).delete(t);return new nu(n).toPromise()}const tD=800,eD=3;class zA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Lm(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>eD)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return kA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=zh._getInstance($N()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await YN(),!this.activeServiceWorker)return;this.sender=new QN(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||XN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Lm();return await YE(t,_h,"1"),await XE(t,_h),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>YE(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>WN(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>XE(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=jh(o,!1).getAll();return new nu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),tD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}zA.type="LOCAL";const nD=zA;new tu(3e4,6e4);function jA(s,t){return t?ns(t):(vt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Gp extends DA{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return io(t,this._buildIdpRequest())}_linkToIdToken(t,n){return io(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return io(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function iD(s){return LN(s.auth,new Gp(s),s.bypassAuthState)}function sD(s){const{auth:t,user:n}=s;return vt(n,t,"internal-error"),kN(n,new Gp(s),s.bypassAuthState)}async function rD(s){const{auth:t,user:n}=s;return vt(n,t,"internal-error"),UN(n,new Gp(s),s.bypassAuthState)}class BA{constructor(t,n,r,o,u=!1){this.auth=t,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:o,tenantId:u,error:f,type:p}=t;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return iD;case"linkViaPopup":case"linkViaRedirect":return rD;case"reauthViaPopup":case"reauthViaRedirect":return sD;default:xi(this.auth,"internal-error")}}resolve(t){os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const aD=new tu(2e3,1e4);async function oD(s,t,n){if(Ln(s.app))return Promise.reject(ti(s,"operation-not-supported-in-this-environment"));const r=Ph(s);eN(s,t,Hp);const o=jA(r,n);return new Hr(r,"signInViaPopup",t,o).executeNotNull()}class Hr extends BA{constructor(t,n,r,o,u){super(t,n,o,u),this.provider=r,this.authWindow=null,this.pollId=null,Hr.currentPopupAction&&Hr.currentPopupAction.cancel(),Hr.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return vt(t,this.auth,"internal-error"),t}async onExecution(){os(this.filter.length===1,"Popup operations only handle one event");const t=Fp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ti(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ti(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Hr.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ti(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,aD.get())};t()}}Hr.currentPopupAction=null;const lD="pendingRedirect",Jc=new Map;class uD extends BA{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=Jc.get(this.auth._key());if(!t){try{const r=await cD(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}Jc.set(this.auth._key(),t)}return this.bypassAuthState||Jc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function cD(s,t){const n=dD(t),r=fD(s);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function hD(s,t){Jc.set(s._key(),t)}function fD(s){return ns(s._redirectPersistence)}function dD(s){return Zc(lD,s.config.apiKey,s.name)}async function mD(s,t,n=!1){if(Ln(s.app))return Promise.reject(Yr(s));const r=Ph(s),o=jA(r,t),f=await new uD(r,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await r._persistUserIfCurrent(f.user),await r._setRedirectUser(null,t)),f}const pD=600*1e3;class gD{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!yD(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!qA(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";n.onError(ti(this.auth,r))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=pD&&this.cachedEventUids.clear(),this.cachedEventUids.has($E(t))}saveEventToCache(t){this.cachedEventUids.add($E(t)),this.lastProcessedEventTime=Date.now()}}function $E(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function qA({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function yD(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qA(s);default:return!1}}async function _D(s,t={}){return yo(s,"GET","/v1/projects",t)}const vD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ED=/^https?/;async function TD(s){if(s.config.emulator)return;const{authorizedDomains:t}=await _D(s);for(const n of t)try{if(AD(n))return}catch{}xi(s,"unauthorized-domain")}function AD(s){const t=Um(),{protocol:n,hostname:r}=new URL(t);if(s.startsWith("chrome-extension://")){const f=new URL(s);return f.hostname===""&&r===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===r}if(!ED.test(n))return!1;if(vD.test(s))return r===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const SD=new tu(3e4,6e4);function ZE(){const s=Vi().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function bD(s){return new Promise((t,n)=>{function r(){ZE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{ZE(),n(ti(s,"network-request-failed"))},timeout:SD.get()})}if(Vi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Vi().gapi?.load)r();else{const o=CN("iframefcb");return Vi()[o]=()=>{gapi.load?r():n(ti(s,"network-request-failed"))},RN(`${IN()}?onload=${o}`).catch(u=>n(u))}}).catch(t=>{throw Wc=null,t})}let Wc=null;function wD(s){return Wc=Wc||bD(s),Wc}const RD=new tu(5e3,15e3),ID="__/auth/iframe",CD="emulator/auth/iframe",ND={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},DD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function OD(s){const t=s.config;vt(t.authDomain,s,"auth-domain-config-required");const n=t.emulator?Pp(t,CD):`https://${s.config.authDomain}/${ID}`,r={apiKey:t.apiKey,appName:s.name,v:ea},o=DD.get(s.config.apiHost);o&&(r.eid=o);const u=s._getFrameworks();return u.length&&(r.fw=u.join(",")),`${n}?${Yl(r).slice(1)}`}async function VD(s){const t=await wD(s),n=Vi().gapi;return vt(n,s,"internal-error"),t.open({where:document.body,url:OD(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ND,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const f=ti(s,"network-request-failed"),p=Vi().setTimeout(()=>{u(f)},RD.get());function g(){Vi().clearTimeout(p),o(r)}r.ping(g).then(g,()=>{u(f)})}))}const MD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},xD=500,UD=600,kD="_blank",LD="http://localhost";class JE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function PD(s,t,n,r=xD,o=UD){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const g={...MD,width:r.toString(),height:o.toString(),top:u,left:f},y=tn().toLowerCase();n&&(p=AA(y)?kD:n),EA(y)&&(t=t||LD,g.scrollbars="yes");const T=Object.entries(g).reduce((N,[B,F])=>`${N}${B}=${F},`,"");if(_N(y)&&p!=="_self")return zD(t||"",p),new JE(null);const S=window.open(t||"",p,T);vt(S,s,"popup-blocked");try{S.focus()}catch{}return new JE(S)}function zD(s,t){const n=document.createElement("a");n.href=s,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const jD="__/auth/handler",BD="emulator/auth/handler",qD=encodeURIComponent("fac");async function WE(s,t,n,r,o,u){vt(s.config.authDomain,s,"auth-domain-config-required"),vt(s.config.apiKey,s,"invalid-api-key");const f={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:r,v:ea,eventId:o};if(t instanceof Hp){t.setDefaultLanguage(s.languageCode),f.providerId=t.providerId||"",sw(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[T,S]of Object.entries({}))f[T]=S}if(t instanceof eu){const T=t.getScopes().filter(S=>S!=="");T.length>0&&(f.scopes=T.join(","))}s.tenantId&&(f.tid=s.tenantId);const p=f;for(const T of Object.keys(p))p[T]===void 0&&delete p[T];const g=await s._getAppCheckToken(),y=g?`#${qD}=${encodeURIComponent(g)}`:"";return`${HD(s)}?${Yl(p).slice(1)}${y}`}function HD({config:s}){return s.emulator?Pp(s,BD):`https://${s.authDomain}/${jD}`}const rm="webStorageSupport";class FD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=UA,this._completeRedirectFn=mD,this._overrideRedirectResult=hD}async _openPopup(t,n,r,o){os(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await WE(t,n,r,Um(),o);return PD(t,u,Fp())}async _openRedirect(t,n,r,o){await this._originValidation(t);const u=await WE(t,n,r,Um(),o);return KN(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(os(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await VD(t),r=new gD(t);return n.register("authEvent",o=>(vt(o?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(rm,{type:rm},o=>{const u=o?.[0]?.[rm];u!==void 0&&n(!!u),xi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=TD(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return IA()||TA()||Bp()}}const GD=FD;var tT="@firebase/auth",eT="1.12.0";class QD{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){vt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function KD(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function YD(s){$r(new nr("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:p}=r.options;vt(f&&!f.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:f,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:CA(s)},y=new bN(r,o,u,g);return DN(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),$r(new nr("auth-internal",t=>{const n=Ph(t.getProvider("auth").getImmediate());return(r=>new QD(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ii(tT,eT,KD(s)),Ii(tT,eT,"esm2020")}const XD=300,$D=dT("authIdTokenMaxAge")||XD;let nT=null;const ZD=s=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>$D)return;const o=n?.token;nT!==o&&(nT=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function JD(s=Hm()){const t=Th(s,"auth");if(t.isInitialized())return t.getImmediate();const n=NN(s,{popupRedirectResolver:GD,persistence:[nD,FN,UA]}),r=dT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const f=ZD(u.toString());zN(n,f,()=>f(n.currentUser)),PN(n,p=>f(p))}}const o=cT("auth");return o&&ON(n,`http://${o}`),n}function WD(){return document.getElementsByTagName("head")?.[0]??document}wN({loadJS(s){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=t,r.onerror=o=>{const u=ti("internal-error");u.customData=o,n(u)},r.type="text/javascript",r.charset="UTF-8",WD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});YD("Browser");const tO={apiKey:"AIzaSyBg2PSLn-9WVtVlZOAwa08M3toyzn8NZVc",authDomain:"lecarnetdeurhu.firebaseapp.com",projectId:"lecarnetdeurhu",storageBucket:"lecarnetdeurhu.firebasestorage.app",messagingSenderId:"471200456302",appId:"1:471200456302:web:086b353aa81e600623107f",measurementId:"G-GXKHQJ0PEF"},Qp=yT(tO),$s=gC(Qp),HA=X2(Qp),am=JD(Qp);new wi;const eO=60,nO=40,iO=7e3,sO=500;function rO({activePage:s="today"}){const[t,n]=mt.useState([]),[r,o]=mt.useState(0),[u,f]=mt.useState(""),[p,g]=mt.useState("typing"),y=`var(--${s}-card-text-color)`,T=`var(--${s}-card-color)`;return mt.useEffect(()=>{async function S(){try{const N=dh(Xs($s,"quotes"),IC("active","==",!0)),F=(await OC(N)).docs.map(W=>W.data().text).filter(Boolean);F.length===0?n(["no quotes in the database yet. add some in firebase console."]):n(F),o(0),f(""),g("typing")}catch(N){console.error("Error loading quotes:",N),n(["could not load quotes from the backend (check console)."])}}S()},[]),mt.useEffect(()=>{if(t.length===0)return;const S=t[r%t.length];if(p==="typing")if(u.length<S.length){const N=setTimeout(()=>{f(S.slice(0,u.length+1))},eO);return()=>clearTimeout(N)}else{const N=setTimeout(()=>g("deleting"),iO);return()=>clearTimeout(N)}if(p==="deleting")if(u.length>0){const N=setTimeout(()=>{f(S.slice(0,u.length-1))},nO);return()=>clearTimeout(N)}else{const N=setTimeout(()=>{o(B=>(B+1)%t.length),g("typing"),f("")},sO);return()=>clearTimeout(N)}},[p,u,r,t]),t.length===0?null:C.jsxs("div",{className:"quote-ticker",style:{color:y,textShadow:`0 2px 4px ${T}`},children:[C.jsx("span",{className:"quote-text",children:u}),C.jsx("span",{className:"quote-cursor",children:""})]})}function aO(){const[s,t]=mt.useState(""),[n,r]=mt.useState(!1),[o,u]=mt.useState(()=>new Date);mt.useEffect(()=>{const y=setInterval(()=>u(new Date),1e3);return()=>clearInterval(y)},[]);const f=mt.useMemo(()=>{const y=String(o.getHours()).padStart(2,"0"),T=String(o.getMinutes()).padStart(2,"0");return`${y}:${T}`},[o]),p=mt.useMemo(()=>o.toLocaleDateString("en-US",{month:"short",day:"2-digit",year:"numeric"}),[o]);async function g(){const y=s.trim();if(y){r(!0);try{await Yc(Xs($s,"messages"),{text:y,page:"today",createdAt:Xc()}),t("")}catch(T){console.error("error saving note:",T)}finally{r(!1)}}}return C.jsxs("section",{className:"today-section",children:[C.jsxs("header",{className:"today-header",children:[C.jsxs("div",{className:"today-timeblock",children:[C.jsx("div",{className:"today-time",children:f}),C.jsx("div",{className:"today-date",children:p})]}),C.jsx("p",{className:"today-intro",children:"you ended up here, quietly. leave a note, a line from a song, a secret goal  anything you want to fold into this day."})]}),C.jsxs("div",{className:"today-layout",children:[C.jsxs("div",{className:"today-main",children:[C.jsx("label",{className:"note-label",children:"drop something for future-urhu"}),C.jsx("textarea",{className:"note-input",placeholder:"a thought, a worry, a miracle that hasnt happened yet",value:s,onChange:y=>t(y.target.value)}),C.jsx("button",{className:"note-button",onClick:g,disabled:n,children:n?"saving":"drop note"}),C.jsx("p",{className:"note-hint",children:"v0.2.2  notes are saved quietly. nothing shows publicly here."})]}),C.jsxs("aside",{className:"today-aside",children:[C.jsxs("div",{className:"aside-card",children:[C.jsx("h2",{children:"a small rule"}),C.jsx("p",{children:"keep it short enough to reread later."}),C.jsx("p",{children:"keep it honest enough to matter."})]}),C.jsxs("div",{className:"aside-card",children:[C.jsx("h2",{children:"what happens to notes?"}),C.jsx("p",{children:"they go to the backstage reel  only for me."}),C.jsx("p",{children:"later, they might travel into other pages."})]})]})]})]})}function oO(){const[s,t]=mt.useState([]),[n,r]=mt.useState([]);mt.useEffect(()=>{const u=dh(Xs($s,"postcardImages"),Dm("createdAt","desc"),Om(60)),f=Vm(u,y=>{const T=new Map;y.forEach(N=>{const B=N.data();if(!B.board||!B.url)return;T.has(B.board)||T.set(B.board,[]);const F=T.get(B.board);F.length<6&&F.push({id:N.id,url:B.url})});const S=Array.from(T.entries()).slice(0,6).map(([N,B])=>({name:N,thumbs:B}));t(S)},y=>console.error("error loading postcard boards",y)),p=dh(Xs($s,"poems"),Dm("createdAt","desc"),Om(10)),g=Vm(p,y=>{const T=y.docs.map(S=>({id:S.id,...S.data()}));r(T)},y=>console.error("error loading letters",y));return()=>{f(),g()}},[]);const o=u=>u&&u.toDate?u.toDate().toLocaleDateString("en-CA",{month:"short",day:"2-digit",year:"numeric"}):"";return C.jsx("section",{className:"moon-section",children:C.jsxs("div",{className:"moon-inner",children:[C.jsxs("header",{className:"moon-header",children:[C.jsx("h1",{className:"moon-title",children:"moon"}),C.jsx("p",{className:"moon-subtitle",children:"postcards & letters. a slow gallery. things that glow only at night."})]}),C.jsxs("div",{className:"moon-layout",children:[C.jsxs("section",{className:"moon-panel moon-panel--boards",children:[C.jsxs("div",{className:"moon-panel-head",children:[C.jsx("h2",{children:"postcards"}),C.jsx("p",{children:"boards drift like folders. each one becomes a strip."})]}),s.length===0?C.jsxs("div",{className:"moon-empty",children:[C.jsx("p",{children:"no postcards yet."}),C.jsx("span",{children:"backstage  postcard images"})]}):C.jsx("div",{className:"moon-board-grid",children:s.map(u=>C.jsxs("div",{className:"moon-board-card",children:[C.jsxs("div",{className:"moon-board-meta",children:[C.jsx("span",{className:"moon-board-name",children:u.name}),C.jsxs("span",{className:"moon-board-count",children:[u.thumbs.length," frame",u.thumbs.length!==1?"s":""]})]}),C.jsx("div",{className:"moon-thumb-row",children:u.thumbs.slice(0,6).map(f=>C.jsx("div",{className:"moon-thumb",children:C.jsx("img",{src:f.url,alt:"",loading:"lazy"})},f.id))})]},u.name))}),C.jsxs("p",{className:"moon-foot",children:["controlled from ",C.jsx("span",{children:"backstage"}),". the public page stays quiet."]})]}),C.jsxs("section",{className:"moon-panel moon-panel--letters",children:[C.jsxs("div",{className:"moon-panel-head",children:[C.jsx("h2",{children:"letters"}),C.jsx("p",{children:"fragments that land here. folders later. booklets later."})]}),n.length===0?C.jsxs("div",{className:"moon-empty",children:[C.jsx("p",{children:"no letters have landed yet."}),C.jsx("span",{children:"backstage  letters / poems"})]}):C.jsx("ul",{className:"moon-letter-list",children:n.map(u=>C.jsxs("li",{className:"moon-letter",children:[C.jsxs("div",{className:"moon-letter-top",children:[C.jsx("span",{className:"moon-letter-folder",children:u.folder||"loose fragment"}),C.jsx("span",{className:"moon-letter-date",children:o(u.createdAt)})]}),C.jsx("p",{className:"moon-letter-text",children:u.text&&u.text.length>260?`${u.text.slice(0,260)}`:u.text})]},u.id))})]})]}),C.jsx("footer",{className:"moon-footer",children:C.jsx("span",{children:"the moon keeps what the day cant."})})]})})}const iT="cafe-stickies-v1",sT="cafe-pomo-v1",lO="cafe-pomo-pos-v1",rT="cafe-video-pool-v1",jc="cafe-video-current-v1",Bc=1500;function uO(s){const t=[...s];for(let n=t.length-1;n>0;n--){const r=Math.floor(Math.random()*(n+1));[t[n],t[r]]=[t[r],t[n]]}return t}function aT(s,t=""){try{return localStorage.getItem(s)??t}catch{return t}}function om(s,t){try{localStorage.setItem(s,t)}catch{}}function cO(s,t,n){const[r,o]=mt.useState(()=>{try{const p=localStorage.getItem(s);if(!p)return t;const g=JSON.parse(p);if(typeof g?.x=="number"&&typeof g?.y=="number")return g}catch{}return t}),u=mt.useRef({x:0,y:0,px:0,py:0});mt.useEffect(()=>{try{localStorage.setItem(s,JSON.stringify(r))}catch{}},[s,r]);const f=mt.useCallback(p=>{if(!n.current)return;u.current={x:p.clientX,y:p.clientY,px:r.x,py:r.y};const y=S=>{o({x:u.current.px+(S.clientX-u.current.x),y:u.current.py+(S.clientY-u.current.y)})},T=()=>{window.removeEventListener("pointermove",y),window.removeEventListener("pointerup",T)};window.addEventListener("pointermove",y),window.addEventListener("pointerup",T)},[n,r.x,r.y]);return{pos:r,onPointerDown:f}}function hO(){const[s,t]=mt.useState(()=>{try{const f=localStorage.getItem(iT),p=f?JSON.parse(f):[];return Array.isArray(p)?p:[]}catch{return[]}});return mt.useEffect(()=>{try{localStorage.setItem(iT,JSON.stringify(s))}catch{}},[s]),{notes:s,addNote:()=>{const f=crypto.randomUUID?.()??String(Date.now());t(p=>[...p,{id:f,text:"",x:40+p.length*18,y:90+p.length*18}])},deleteNote:f=>t(p=>p.filter(g=>g.id!==f)),updateText:(f,p)=>t(g=>g.map(y=>y.id===f?{...y,text:p}:y)),startDrag:f=>p=>{const g=s.find(N=>N.id===f);if(!g)return;const y={x:p.clientX,y:p.clientY,px:g.x,py:g.y},T=N=>{t(B=>B.map(F=>F.id===f?{...F,x:y.px+(N.clientX-y.x),y:y.py+(N.clientY-y.y)}:F))},S=()=>{window.removeEventListener("pointermove",T),window.removeEventListener("pointerup",S)};window.addEventListener("pointermove",T),window.addEventListener("pointerup",S)}}}function fO(){const s=()=>{try{const o=localStorage.getItem(sT);if(!o)return{remaining:Bc,running:!1};const u=JSON.parse(o);let f=Number(u?.remainingSeconds??Bc);if(u?.running&&Number.isFinite(u?.lastTickMs)){const p=Math.floor((Date.now()-u.lastTickMs)/1e3);f=Math.max(0,f-p)}return{remaining:f,running:!!(u?.running&&f>0)}}catch{return{remaining:Bc,running:!1}}},[{remaining:t,running:n},r]=mt.useState(s);return mt.useEffect(()=>{if(!n)return;const o=setInterval(()=>{r(u=>({remaining:Math.max(0,u.remaining-1),running:u.remaining>1}))},1e3);return()=>clearInterval(o)},[n]),mt.useEffect(()=>{try{localStorage.setItem(sT,JSON.stringify({remainingSeconds:t,running:n,lastTickMs:Date.now()}))}catch{}},[t,n]),{minutes:String(Math.floor(t/60)).padStart(2,"0"),seconds:String(t%60).padStart(2,"0"),start:()=>r(o=>({...o,running:!0})),pause:()=>r(o=>({...o,running:!1})),reset:()=>r({remaining:Bc,running:!1})}}function FA({reseedNonce:s=0}){const[t,n]=mt.useState([]),[r,o]=mt.useState(!0),[u,f]=mt.useState(()=>aT(jc,""));mt.useEffect(()=>{let F=!0;async function W(){o(!0);try{const J=fA(HA,"cafe-wall"),at=await Y2(J),ht=await Promise.all(at.items.map(async lt=>{const yt=await hA(lt);return{id:lt.fullPath,url:yt}}));if(!F)return;if(n(ht),!aT(jc,"")&&ht.length){const lt=ht[0].url;om(jc,lt),f(lt)}}catch(J){console.error("Failed to load cafe-wall videos:",J),F&&n([])}finally{F&&o(!1)}}return W(),()=>{F=!1}},[]);const p=mt.useMemo(()=>t.map(F=>F.id),[t]),g=mt.useCallback(()=>{if(!t.length)return;let F=[];try{const at=localStorage.getItem(rT);F=at?JSON.parse(at):[],Array.isArray(F)||(F=[])}catch{F=[]}F=F.filter(at=>p.includes(at)),F.length||(F=uO(p));const W=F.shift(),J=t.find(at=>at.id===W)||t[0];om(rT,JSON.stringify(F)),om(jc,J.url),f(J.url)},[t,p]);mt.useEffect(()=>{if(s<=0)return;const F=requestAnimationFrame(()=>{g()});return()=>cancelAnimationFrame(F)},[s,g]);const y=mt.useRef(null);mt.useEffect(()=>{u&&y.current?.play?.().catch(()=>{})},[u]);const T=fO(),S=hO(),N=mt.useRef(null),B=cO(lO,{x:0,y:0},N);return C.jsxs("section",{className:"cafe-section",children:[C.jsx("div",{className:"cafe-video-wrap","aria-hidden":"true",children:u?C.jsx("video",{ref:y,className:"cafe-video",src:u,autoPlay:!0,muted:!0,loop:!0,playsInline:!0}):null}),C.jsxs("div",{className:"cafe-layer",children:[C.jsxs("div",{className:"cafe-dock",children:[C.jsxs("div",{ref:N,className:"pomo glass-dark",style:{transform:`translate(${B.pos.x}px, ${B.pos.y}px)`},children:[C.jsx("div",{className:"pomo-dragbar",onPointerDown:B.onPointerDown,children:C.jsx("div",{className:"pomo-grip"})}),C.jsxs("div",{className:"pomo-time",children:[T.minutes,":",T.seconds]}),C.jsxs("div",{className:"pomo-controls",children:[C.jsx("button",{className:"btn-start",onClick:T.start,children:"start"}),C.jsx("button",{className:"btn-pause",onClick:T.pause,children:"pause"}),C.jsx("button",{className:"btn-reset",onClick:T.reset,children:"reset"})]})]}),C.jsx("button",{className:"dock-add glass-dark",onClick:S.addNote,"aria-label":"add note",type:"button",children:"+"})]}),S.notes.map(F=>C.jsxs("div",{className:"sticky glass-dark",style:{transform:`translate(${F.x}px, ${F.y}px)`},children:[C.jsxs("div",{className:"sticky-head",onPointerDown:S.startDrag(F.id),children:[C.jsx("div",{className:"sticky-grip"}),C.jsx("button",{className:"icon-btn icon-btn--light",onClick:()=>S.deleteNote(F.id),"aria-label":"delete note",type:"button",children:""})]}),C.jsx("textarea",{value:F.text,onChange:W=>S.updateText(F.id,W.target.value),placeholder:r?"loading videos":"write something small"})]},F.id)),!r&&t.length===0?C.jsxs("div",{style:{position:"absolute",bottom:20,left:20,opacity:.9},children:["No videos found in Firebase Storage folder: ",C.jsx("b",{children:"cafe-wall/"})]}):null]})]})}function dO(){return C.jsxs("section",{className:"urhu-section",children:[C.jsxs("header",{className:"urhu-header",children:[C.jsx("h1",{children:"urhu"}),C.jsx("p",{className:"intro",children:"this page is not a bio. its a small plaque on the door: why this room exists, what it protects, and what its becoming."})]}),C.jsxs("div",{className:"urhu-grid",children:[C.jsxs("div",{className:"card",children:[C.jsx("h2",{children:"what youre looking at"}),C.jsxs("p",{children:[C.jsx("span",{className:"em",children:"le-carnet-de-urhu"})," is a slow archive: notes, postcards, letters, fragments, and small experiments. its meant to be visitedlike a roomrather than performedlike a feed."]}),C.jsx("p",{className:"small",children:"public pages stay gentle. private things live backstage."})]}),C.jsxs("div",{className:"card",children:[C.jsx("h2",{children:"how to use it"}),C.jsxs("ul",{children:[C.jsxs("li",{children:["if you dont know where to go, go to ",C.jsx("span",{className:"em",children:"today"}),"."]}),C.jsxs("li",{children:["if youre collecting images and letters, go to ",C.jsx("span",{className:"em",children:"moon"}),"."]}),C.jsxs("li",{children:["if you want a quiet working screen, go to ",C.jsx("span",{className:"em",children:"caf"}),"."]}),C.jsx("li",{children:"if you want context, stay here."})]})]}),C.jsxs("div",{className:"card card--light",children:[C.jsx("h2",{children:"future versions"}),C.jsxs("ul",{className:"checks",children:[C.jsx("li",{children:"moon boards open into scrolling strips (per board)"}),C.jsx("li",{children:"letters become booklets: folders, covers, pagination"}),C.jsx("li",{children:"today notes can travel: into moon, into quotes, into hidden replies"}),C.jsx("li",{children:"caf gets ambient loops + a tiny sound toggle"}),C.jsx("li",{children:"a guestbook mode: controlled visibility (public/private)"}),C.jsx("li",{children:"backstage tools: edit/delete, tags, search"})]}),C.jsx("div",{className:"divider"}),C.jsx("p",{className:"small",children:"objective: build a kinder personal internetversion by versionwithout turning it into a product."})]})]})]})}const mO="/lecarnetdeurhu/assets/backstage-cover-BiVcsWRZ.mp4",pO="/lecarnetdeurhu/assets/barcode-CllYGwxu.png",gO="smanseeratsinghgill21@gmail.com";function yO(){const[s,t]=mt.useState(null),[n,r]=mt.useState(!0),[o,u]=mt.useState(!1),[f,p]=mt.useState([]),[g,y]=mt.useState(""),[T,S]=mt.useState(""),[N,B]=mt.useState(""),[F,W]=mt.useState(""),[J,at]=mt.useState([]),[ht,lt]=mt.useState(!1),[yt,jt]=mt.useState(()=>new Date),Ct="/lecarnetdeurhu/",D=()=>{window.location.href=Ct};mt.useEffect(()=>jN(am,O=>{t(O),r(!1)}),[]);const b=async()=>{try{const rt=new wi;await oD(am,rt)}catch(rt){console.error("GitHub sign-in failed",rt),alert("couldnt open the backstage door (check console).")}},I=()=>{BN(am).catch(rt=>console.error("sign-out error",rt))},x=s&&s.email===gO;mt.useEffect(()=>{u(!1);const rt=setTimeout(()=>u(!0),400);return()=>clearTimeout(rt)},[n,s,x]);const V=`win-dialog ${o?"win-dialog--visible":""}`;mt.useEffect(()=>{if(!x)return;const rt=setInterval(()=>jt(new Date),1e3);return()=>clearInterval(rt)},[x]);const k=String(yt.getHours()).padStart(2,"0"),w=String(yt.getMinutes()).padStart(2,"0"),te=yt.toLocaleDateString("en-US",{month:"short",day:"2-digit",year:"numeric"});mt.useEffect(()=>{if(!x)return;const rt=dh(Xs($s,"messages"),Dm("createdAt","desc"),Om(200));return Vm(rt,G=>{const et=G.docs.map(it=>({id:it.id,...it.data()}));p(et)},G=>{console.error("error loading messages",G)})},[x]);const de=async rt=>{rt.preventDefault();const O=g.trim();if(O)try{await Yc(Xs($s,"quotes"),{text:O,active:!0,createdAt:Xc()}),y("")}catch(G){console.error("error saving quote",G),alert("couldnt save quote (see console).")}},Q=async rt=>{rt.preventDefault();const O=T.trim();if(O)try{await Yc(Xs($s,"poems"),{folder:N||"default",text:O,createdAt:Xc()}),S(""),B("")}catch(G){console.error("error saving poem/letter",G),alert("couldnt save poem (see console).")}},nt=rt=>{const O=Array.from(rt.target.files||[]);at(O)},ft=async rt=>{if(rt.preventDefault(),!(!F||J.length===0))try{lt(!0);for(const O of J){const G=`postcards/${F}/${Date.now()}-${O.name}`,et=fA(HA,G);await K2(et,O);const it=await hA(et);await Yc(Xs($s,"postcardImages"),{board:F,url:it,storagePath:G,createdAt:Xc()})}W(""),at([]),rt.target&&rt.target.reset&&rt.target.reset()}catch(O){console.error("error uploading images",O),alert("image upload failed (see console).")}finally{lt(!1)}},Nt=rt=>{if(!["today","cafe","moon","urhu"].includes(rt))return;const G=new URLSearchParams;G.set("page",rt),window.location.href=`${Ct}?${G.toString()}`};return n?C.jsxs("div",{className:"backstage-root backstage-root--gate",children:[C.jsx("div",{className:"backstage-overlay"}),C.jsxs("div",{className:`${V}`,children:[C.jsx("div",{className:"win-titlebar",children:C.jsx("span",{className:"win-title",children:"checking identity"})}),C.jsx("div",{className:"win-body win-body--center",children:C.jsx("div",{className:"win-spinner"})})]})]}):s?x?C.jsxs("div",{className:"backstage-root backstage-root--owner",children:[C.jsx("video",{className:"backstage-video",autoPlay:!0,muted:!0,loop:!0,playsInline:!0,src:mO}),C.jsxs("div",{className:"backstage-owner-shell",children:[C.jsxs("section",{className:"owner-col owner-col--meta",children:[C.jsxs("div",{className:"owner-clock-block",children:[C.jsxs("div",{className:"owner-time",children:[C.jsxs("span",{className:"owner-time-hm",children:[k,":",w]}),C.jsx("span",{className:"owner-time-label"})]}),C.jsx("p",{className:"owner-date",children:te})]}),C.jsx("div",{className:"owner-barcode-block",children:C.jsx("img",{src:pO,alt:"barcode",className:"owner-barcode"})}),C.jsxs("div",{className:"owner-tracklist",children:[C.jsx("p",{className:"owner-tracklist-label",children:"track list"}),C.jsxs("ol",{children:[C.jsx("li",{onClick:()=>Nt("today"),children:"today"}),C.jsx("li",{onClick:()=>Nt("cafe"),children:"caf"}),C.jsx("li",{onClick:()=>Nt("moon"),children:"moon"}),C.jsx("li",{onClick:()=>Nt("urhu"),children:"urhu"})]})]}),C.jsx("button",{className:"owner-btn owner-btn--primary owner-signout-btn",onClick:I,children:"sign out"})]}),C.jsx("section",{className:"owner-col owner-col--uploads",children:C.jsxs("div",{className:"owner-col2-top",children:[C.jsxs("form",{className:"owner-panel owner-panel--images",onSubmit:ft,children:[C.jsx("h2",{className:"owner-panel-title",children:"postcard images"}),C.jsx("p",{className:"owner-panel-caption",children:"choose a board and drop files. they'll float to the moon."}),C.jsx("div",{className:"owner-field-row",children:C.jsx("input",{type:"text",className:"owner-input",placeholder:"board / folder name",value:F,onChange:rt=>W(rt.target.value)})}),C.jsxs("div",{className:"owner-file-row",children:[C.jsxs("label",{className:"file-input-faux",children:[C.jsx("span",{children:"choose images"}),C.jsx("input",{type:"file",multiple:!0,onChange:nt})]}),C.jsx("span",{className:"file-input-hint",children:J.length===0?"no files selected":`${J.length} file${J.length>1?"s":""} ready`})]}),C.jsxs("div",{className:"owner-panel-footer",children:[C.jsx("button",{type:"submit",className:"owner-btn owner-btn--primary",disabled:ht,children:ht?"uploading":"upload"}),C.jsx("button",{type:"button",className:"owner-btn owner-btn--ghost",onClick:()=>alert("edit view coming in a later version."),children:"edit boards"})]})]}),C.jsxs("form",{className:"owner-panel owner-panel--poems",onSubmit:Q,children:[C.jsx("h2",{className:"owner-panel-title",children:"letters / poems"}),C.jsx("p",{className:"owner-panel-caption",children:"drafts for the letters page. folder acts like an album."}),C.jsx("div",{className:"owner-field-row",children:C.jsx("input",{type:"text",className:"owner-input owner-input--small",placeholder:"folder (optional)",value:N,onChange:rt=>B(rt.target.value)})}),C.jsx("div",{className:"owner-field-row",children:C.jsx("textarea",{className:"owner-textarea",placeholder:"poem, letter, fragment",value:T,onChange:rt=>S(rt.target.value)})}),C.jsxs("div",{className:"owner-panel-footer",children:[C.jsx("button",{type:"submit",className:"owner-btn owner-btn--primary",children:"save draft"}),C.jsx("button",{type:"button",className:"owner-btn owner-btn--ghost",onClick:()=>alert("edit / delete drafts comes in a later version."),children:"edit drafts"})]})]})]})}),C.jsxs("section",{className:"owner-col owner-col--right",children:[C.jsxs("form",{className:"owner-panel owner-panel--quotes",onSubmit:de,children:[C.jsx("h2",{className:"owner-panel-title",children:"ticker quotes"}),C.jsx("p",{className:"owner-panel-caption",children:"lines that cycle in the corner of the front page."}),C.jsx("div",{className:"owner-field-row",children:C.jsx("textarea",{className:"owner-textarea owner-textarea--compact",placeholder:"type a line and send it into orbit",value:g,onChange:rt=>y(rt.target.value)})}),C.jsxs("div",{className:"owner-panel-footer",children:[C.jsx("button",{type:"submit",className:"owner-btn owner-btn--primary",children:"queue quote"}),C.jsx("button",{type:"button",className:"owner-btn owner-btn--ghost",onClick:()=>alert("quote management table is a future version."),children:"edit quotes"})]})]}),C.jsxs("header",{className:"owner-section-header owner-section-header--right",children:[C.jsx("span",{className:"owner-section-label",children:"messages to check"}),C.jsx("span",{className:"owner-section-sub",children:"private log from the note card"})]}),C.jsx("div",{className:"messages-reel",children:f.length===0?C.jsx("p",{className:"messages-empty",children:"no messages archived yet. the reel waits for first frame."}):C.jsx("ul",{className:"messages-list",children:f.map(rt=>C.jsxs("li",{className:"message-frame",children:[C.jsx("p",{className:"message-text",children:rt.text}),rt.createdAt&&C.jsx("p",{className:"message-meta",children:rt.createdAt.toDate?rt.createdAt.toDate().toLocaleString("en-CA",{month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit"}):""})]},rt.id))})})]})]})]}):C.jsxs("div",{className:"backstage-root backstage-root--gate",children:[C.jsx("div",{className:"backstage-overlay"}),C.jsxs("div",{className:V,children:[C.jsx("div",{className:"win-titlebar",children:C.jsx("span",{className:"win-title",children:"access notice"})}),C.jsxs("div",{className:"win-body",children:[C.jsxs("p",{className:"win-message",children:["hi ",s.displayName||s.email,". this backstage room only unlocks for ",C.jsx("span",{className:"win-highlight",children:"urhu"}),"."]}),C.jsxs("div",{className:"win-buttons",children:[C.jsx("button",{className:"win-btn win-btn--primary",onClick:I,children:"switch github account"}),C.jsx("button",{className:"win-btn",onClick:D,children:"go back home"})]})]})]})]}):C.jsxs("div",{className:"backstage-root backstage-root--gate",children:[C.jsx("div",{className:"backstage-overlay"}),C.jsxs("div",{className:V,children:[C.jsx("div",{className:"win-titlebar",children:C.jsx("span",{className:"win-title",children:"fill in the blank!"})}),C.jsxs("div",{className:"win-body",children:[C.jsxs("div",{className:"win-row",children:[C.jsx("div",{className:"win-icon",children:"?"}),C.jsxs("div",{className:"win-text-block",children:[C.jsx("p",{className:"win-question",children:"my name in this corner is"}),C.jsx("p",{className:"win-blank",children:"urhu|"}),C.jsx("p",{className:"win-sub",children:"only the keeper of this little internet room can continue."})]})]}),C.jsxs("div",{className:"win-buttons",children:[C.jsx("button",{className:"win-btn win-btn--primary",onClick:b,children:"yes, that's me"}),C.jsx("button",{className:"win-btn",onClick:D,children:"not today"})]})]})]})]})}const Ks=[{key:"urhu",Component:dO},{key:"moon",Component:oO},{key:"cafe",Component:FA},{key:"today",Component:aO}];function _O(s){if(!s||!Ks.some(o=>o.key===s))return Ks;const n=Ks.find(o=>o.key===s);return[...Ks.filter(o=>o.key!==s),n]}function vO(){const s="/lecarnetdeurhu/",t=s.endsWith("/")?s.slice(0,-1):s,n=new URLSearchParams(window.location.search),r=n.get("p"),o=n.get("q");if(r!=null){const g=o?`?${o}`:"",y=`${t}${r}${g}${window.location.hash||""}`;window.history.replaceState(null,"",y)}let f=window.location.pathname||"/";t!=="/"&&f.startsWith(t)&&(f=f.slice(t.length),f.startsWith("/")||(f="/"+f));const p=new URLSearchParams(window.location.search);return{route:f,params:p}}function EO(){const{route:s,params:t}=vO(),n=s==="/_edit"||s==="/_edit/",r=t.get("page"),o=mt.useMemo(()=>_O(r),[r]),u=Ks[Ks.length-1].key,[f,p]=mt.useState(r&&Ks.some(S=>S.key===r)?r:u),[g,y]=mt.useState(0),T=mt.useMemo(()=>o.map(S=>S.key==="cafe"?{...S,Component:()=>C.jsx(FA,{reseedNonce:g})}:S),[o,g]);return n?C.jsx("div",{className:"app",children:C.jsx(yO,{})}):C.jsxs("div",{className:"app",children:[C.jsx(xb,{pages:T,onActiveChange:p,onLabelClick:S=>{S==="cafe"&&f==="cafe"&&y(N=>N+1)}}),C.jsx(rO,{activePage:f})]})}Db.createRoot(document.getElementById("root")).render(C.jsx(mt.StrictMode,{children:C.jsx(EO,{})}));
